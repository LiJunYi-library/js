{"version":3,"file":"index.main.js","sources":["../../rainbow-js/package/array/ListArray.js","../../rainbow-js/package/array/index.js","../../rainbow-js/package/promise/index.js","../../rainbow-js/package/timer/index.js","../src/global.js","../src/base/utils.js","../src/base/imps/treeAttrsChangeIMP.js","../src/base/imps/resizeObserverIMP.js","../src/base/imps/treeObserverIMP.js","../src/base/rainbow-element.js","../src/layout/absolute/index.js","../src/layout/dialog/index.js","../src/layout/falls/index.js","../src/layout/grid/index.js","../src/layout/move/index.js","../src/events/slide.js","../src/events/scroll.js","../src/layout/nested-scroll/index.js","../src/layout/refresh/index.js","../src/layout/scroll/index.js","../src/layout/scroll-refresh/index.js","../src/layout/scroll-memory-bable/index.js","../src/layout/scroll-sticky/index.js","../src/layout/scroll-view/index.js","../src/layout/pulldown/index.js","../src/data/rolling-text-num/index.js","../src/data/rolling-text/index.js","../src/data/circle/r-circle.js","../src/data/circle/r-svg-circle.js","../src/data/test-d.js","../src/data/scroll-virtual-grid-list/index.js","../src/data/scroll-virtual-falls-list/index.js","../src/data/fold-text/index.js","../src/index.js"],"sourcesContent":["import { arrayRemove } from \"./\";\r\n\r\nexport class ListArray extends Array {\r\n  constructor(...args) {\r\n    super(...args);\r\n\r\n    Object.defineProperty(this, \"events\", {\r\n      value: {},\r\n      writable: true,\r\n      enumerable: false,\r\n      configurable: false,\r\n    });\r\n  }\r\n\r\n  addEventListener(type, listener) {\r\n    if (!this.events[type]) this.events[type] = [];\r\n    this.events[type].push(listener);\r\n  }\r\n\r\n  removeEventListener(type, listener) {\r\n    if (!this.events[type]) this.events[type] = [];\r\n    arrayRemove(this.events[type], listener);\r\n  }\r\n\r\n  onChange(name, ...args) {\r\n    if (this.events.change instanceof Array) {\r\n      this.events.change.forEach((funs) => funs(name, ...args));\r\n    }\r\n\r\n    if (this.events[name] instanceof Array) {\r\n      this.events[name].forEach((funs) => funs(...args));\r\n    }\r\n  }\r\n\r\n  copyWithin(...args) {\r\n    let res = super.copyWithin(...args);\r\n    this?.onChange?.(\"copyWithin\", ...args);\r\n    return res;\r\n  }\r\n\r\n  fill(...args) {\r\n    let res = super.fill(...args);\r\n    this?.onChange?.(\"fill\", ...args);\r\n    return res;\r\n  }\r\n\r\n  pop(...args) {\r\n    let res = super.pop(...args);\r\n    this?.onChange?.(\"pop\", ...args);\r\n    return res;\r\n  }\r\n\r\n  push(...args) {\r\n    let res = super.push(...args);\r\n    this?.onChange?.(\"push\", ...args);\r\n    return res;\r\n  }\r\n\r\n  shift(...args) {\r\n    let res = super.shift(...args);\r\n    this?.onChange?.(\"shift\", ...args);\r\n    return res;\r\n  }\r\n\r\n  unshift(...args) {\r\n    let res = super.unshift(...args);\r\n    this?.onChange?.(\"unshift\", ...args);\r\n    return res;\r\n  }\r\n\r\n  splice(...args) {\r\n    let res = super.splice(...args);\r\n    this?.onChange?.(\"splice\", ...args);\r\n    return res;\r\n  }\r\n\r\n  sort(...args) {\r\n    let res = super.sort(...args);\r\n    this?.onChange?.(\"sort\", ...args);\r\n    return res;\r\n  }\r\n\r\n  reverse(...args) {\r\n    let res = super.reverse(...args);\r\n    this?.onChange?.(\"reverse\", ...args);\r\n    return res;\r\n  }\r\n}\r\n","const testArr = [\r\n  // { num: 33, tt: \"奇\" },\r\n  // { num: 44, tt: \"偶\" },\r\n  // { num: 11, tt: \"奇***\" },\r\n  // { num: 99, tt: \"奇***\" },\r\n  // { num: 22, tt: \"偶\" },\r\n  // { num: 77, tt: \"奇\" },\r\n  // { num: 88, tt: \"偶\" },\r\n  // { num: 99, tt: \"奇----\" },\r\n  // { num: 55, tt: \"奇\" },\r\n  // { num: 11, tt: \"奇----\" },\r\n  // { num: 66, tt: \"偶\" },\r\n\r\n  { num: 11, tt: \"奇\" },\r\n  { num: 22, tt: \"偶\" },\r\n  { num: 33, tt: \"奇***\" },\r\n  { num: 44, tt: \"偶***\" },\r\n  { num: 55, tt: \"奇\" },\r\n  { num: 66, tt: \"偶\" },\r\n  { num: 77, tt: \"奇\" },\r\n  { num: 88, tt: \"偶----\" },\r\n  { num: 99, tt: \"奇\" },\r\n];\r\n\r\nexport * from \"./sql.js\";\r\nexport * from \"./ListArray.js\";\r\n\r\nif (!Array.prototype.at) {\r\n  Array.prototype.at = function (...arg) {\r\n    return arrayAt(this, ...arg);\r\n  };\r\n}\r\n\r\nexport function arrayAt(list, index) {\r\n  let nth = index < 0 ? list.length + index : index;\r\n  return list[nth];\r\n}\r\n\r\n//循环\r\nexport function arrayLoop(num, cb) {\r\n  for (let index = 0; index < num; index++) {\r\n    if (cb(index) === false) return;\r\n  }\r\n}\r\n//循环创建\r\nexport function arrayLoopMap(num, cb) {\r\n  const arr = [];\r\n  for (let index = 0; index < num; index++) {\r\n    arr.push(cb(index));\r\n  }\r\n  return arr;\r\n}\r\n//冒泡查找\r\nexport function arrayBubble(list = [], formatter, verdict) {\r\n  let value = null;\r\n  let index;\r\n  let item;\r\n  list.forEach((ele, nth) => {\r\n    if (value === null) {\r\n      item = ele;\r\n      index = nth;\r\n      value = formatter(ele, nth, list);\r\n      return;\r\n    }\r\n\r\n    if (verdict(value, ele, nth, list)) {\r\n      item = ele;\r\n      index = nth;\r\n      value = formatter(ele, nth, list);\r\n    }\r\n  });\r\n  return item;\r\n}\r\n//冒泡查找最小\r\nexport function arrayBubbleMin(list = [], formatter) {\r\n  return arrayBubble(\r\n    list,\r\n    formatter,\r\n    (value, item, index, list) => formatter(item, index, list) < value,\r\n  );\r\n}\r\n//冒泡倒数查找最小\r\nexport function arrayBubbleLastMin(list = [], formatter) {\r\n  return arrayBubble(\r\n    list,\r\n    formatter,\r\n    (value, item, index, list) => formatter(item, index, list) <= value,\r\n  );\r\n}\r\n//冒泡查找最大\r\nexport function arrayBubbleMax(list = [], formatter) {\r\n  return arrayBubble(\r\n    list,\r\n    formatter,\r\n    (value, item, index, list) => formatter(item, index, list) > value,\r\n  );\r\n}\r\n//冒泡倒数查找最大\r\nexport function arrayBubbleLastMax(list = [], formatter) {\r\n  return arrayBubble(\r\n    list,\r\n    formatter,\r\n    (value, item, index, list) => formatter(item, index, list) >= value,\r\n  );\r\n}\r\n// 删除数组中的第n个 改变数组\r\nexport function arrayRemoveIndex(list = [], num) {\r\n  list.splice(num, 1);\r\n  return list;\r\n}\r\n// 删除数组中第一个找到的item 不改变数组\r\nexport function arrayRemove(list = [], item) {\r\n  const index = list.findIndex((el) => el === item);\r\n  if (~index) list.splice(index, 1);\r\n  return list;\r\n}\r\n// 删除数组中最后一个找到的item  不改变数组\r\nexport function arrayRemoveLast(list = [], item) {\r\n  const index = list.findLastIndex((el) => el === item);\r\n  if (~index) list.splice(index, 1);\r\n  return list;\r\n}\r\n// 删除数组中的所有 相同的 item 改变数组\r\nexport function arrayRemoves(list = [], item) {\r\n  const sames = list.filter((el) => el === item);\r\n  sames.forEach((el) => {\r\n    arrayRemove(list, el);\r\n  });\r\n  return list;\r\n}\r\n// 切割数组的index\r\nexport function arraySplitIndex(list = [], num) {\r\n  const arr = [];\r\n  for (let index = 0; index < list.length; index += num) {\r\n    const ar = [];\r\n    const max = index + num > list.length ? list.length : index + num;\r\n    for (let j = index; j < max; j++) {\r\n      ar.push(j);\r\n    }\r\n    arr.push(ar);\r\n  }\r\n  return arr;\r\n}\r\n// 切割数组\r\nexport function arraySplit(list = [], num) {\r\n  const arr = [];\r\n  for (let index = 0; index < list.length; index += num) {\r\n    const max = index + num > list.length ? list.length : index + num;\r\n    const ar = list.slice(index, max);\r\n    arr.push(ar);\r\n  }\r\n  return arr;\r\n}\r\n// 数组 根据某个属性 去重\r\nexport function arrayWipeRepetition(list = [], formatter) {\r\n  if (!formatter) return [...new Set(list)];\r\n  const map = new Map();\r\n  return list.filter(\r\n    (item, index) =>\r\n      !map.has(formatter(item, index).toString()) && map.set(formatter(item, index).toString()),\r\n  );\r\n}\r\n// 数组 根据某个属性 去重 从后面\r\nexport function arrayWipeRepetitionLast(list = [], formatter) {\r\n  if (!formatter) return [...new Set(list)];\r\n  const map = {};\r\n  list.forEach((item, index) => (map[formatter(item, index)] = item));\r\n  const arr = [];\r\n  for (const key in map) {\r\n    if (Object.hasOwnProperty.call(map, key)) {\r\n      const element = map[key];\r\n      arr.push(element);\r\n    }\r\n  }\r\n  return arr;\r\n}\r\n// 数组提取相同\r\nexport function arrayExtractSame(list = [], formatter) {\r\n  const map = {};\r\n  list.forEach((item) => {\r\n    if (!map[formatter(item)]) map[formatter(item)] = [];\r\n    map[formatter(item)].push(item);\r\n  });\r\n  const arr = [];\r\n  for (const key in map) {\r\n    if (Object.hasOwnProperty.call(map, key)) {\r\n      const element = map[key];\r\n      if (element.length > 1) arr.push(element);\r\n    }\r\n  }\r\n  return arr.flat();\r\n}\r\n\r\n// 数组排序 根据属性正序\r\nexport function arraySort(list = [], formatter, formatter2) {\r\n  let fmt = formatter2 || formatter;\r\n  list.sort((a, b) => formatter(a) - fmt(b));\r\n  return list;\r\n}\r\n\r\nexport function arraySortMin(...arg) {\r\n  return arraySort(...arg)[0];\r\n}\r\n\r\nexport function arraySortMax(list = [], ...arg) {\r\n  return arraySort(list, ...arg)[list.length - 1];\r\n}\r\n\r\n// 数组排序  根据属性倒序\r\nexport function arrayReverseSort(list = [], formatter, formatter2) {\r\n  let fmt = formatter2 || formatter;\r\n  list.sort((a, b) => fmt(b) - formatter(a));\r\n  return list;\r\n}\r\n\r\nexport function arrayReverseSortMin(...arg) {\r\n  return arrayReverseSort(...arg)[list.length - 1];\r\n}\r\n\r\nexport function arrayReverseSortMax(list = [], ...arg) {\r\n  return arrayReverseSort(list, ...arg)[0];\r\n}\r\n\r\n/**\r\n * 数组排序 根据另一个数组的属性\r\n * @param {*} list\r\n * @param {*} arr\r\n * @param {*} formatter\r\n * @returns\r\n */\r\nexport function arraySortByList(list, arr, formatter) {\r\n  list.forEach((item) => {\r\n    const sortIndex = arr.findIndex((ele) => formatter(item, ele));\r\n    item.sortIndex = sortIndex === -1 ? list.length : sortIndex;\r\n  });\r\n  list.sort(function (a, b) {\r\n    return a.sortIndex - b.sortIndex;\r\n  });\r\n  return list;\r\n}\r\n// 数组打乱\r\nexport function arrayRandom(list) {\r\n  const length = list.length;\r\n  for (let nth = 0; nth < length; nth++) {\r\n    const index = Math.floor(Math.random() * (list.length - 1));\r\n    list.push(list[index]);\r\n    list.splice(index, 1);\r\n  }\r\n}\r\n// 触发数组方法\r\nexport function arrayInvokeFuns(...args) {\r\n  const [list, formatter, ...arg] = args;\r\n  let funArgs = [formatter, ...arg];\r\n  let fmt = (item) => item;\r\n  if (formatter instanceof Function) {\r\n    fmt = formatter;\r\n    funArgs = [...arg];\r\n  }\r\n  list.forEach((item) => {\r\n    const fun = fmt(item);\r\n    fun(...funArgs);\r\n  });\r\n}\r\n/* 事件派发 */\r\nexport function arrayEvents() {\r\n  const events = [];\r\n\r\n  function push(eventCB) {\r\n    events.push(eventCB);\r\n  }\r\n\r\n  function remove(eventCB) {\r\n    arrayRemove(events, eventCB);\r\n  }\r\n\r\n  function invoke(...args) {\r\n    arrayInvokeFuns(events, ...args);\r\n  }\r\n\r\n  function invokes(fun) {\r\n    events.forEach(fun);\r\n  }\r\n\r\n  return { events, push, remove, invoke, invokes };\r\n}\r\n\r\n/* 二分查找 */\r\nexport function arrayBinarySearch(\r\n  setPointer = (args, index) => (args.right = index - 1),\r\n  arr = [],\r\n  formatter,\r\n  compare,\r\n) {\r\n  const fg = {\r\n    left: 0,\r\n    right: arr.length - 1,\r\n    result: -1,\r\n  };\r\n  while (fg.left <= fg.right) {\r\n    const index = Math.floor((fg.left + fg.right) / 2);\r\n    const item = arr[index];\r\n    if (formatter(item)) {\r\n      fg.result = index;\r\n      setPointer(fg, index, item);\r\n    } else if (compare(item)) {\r\n      fg.left = index + 1;\r\n    } else {\r\n      fg.right = index - 1;\r\n    }\r\n  }\r\n  return fg.result;\r\n}\r\n/* 二分查找到符合条件的第一个元素的下标 没有找到返回-1 compare<*/\r\nexport function arrayBinaryFindIndex(arr = [], formatter, compare) {\r\n  return arrayBinarySearch(\r\n    (args, index) => {\r\n      args.right = index - 1;\r\n    },\r\n    arr,\r\n    formatter,\r\n    compare,\r\n  );\r\n}\r\n/* 二分查找到符合条件的第一个元素 没有找到返回undefined compare<*/\r\nexport function arrayBinaryFind(arr = [], formatter, compare) {\r\n  const index = arrayBinaryFindIndex(arr, formatter, compare);\r\n  return index === -1 ? undefined : arr[index];\r\n}\r\n/* 二分查找到符合条件的最后一个元素的下标 没有找到返回-1 compare<*/\r\nexport function arrayBinaryFindLastIndex(arr = [], formatter, compare) {\r\n  return arrayBinarySearch(\r\n    (args, index) => {\r\n      args.left = index + 1;\r\n    },\r\n    arr,\r\n    formatter,\r\n    compare,\r\n  );\r\n}\r\n/* 二分查找到符合条件的最后一个元素 没有找到返回undefined compare<*/\r\nexport function arrayBinaryFindLast(arr = [], formatter, compare) {\r\n  const index = arrayBinaryFindLastIndex(arr, formatter, compare);\r\n  return index === -1 ? undefined : arr[index];\r\n}\r\n\r\n// 重新改变数组的方法 原来监听数组变化\r\nexport function arrayRewriteFunction(arr = [], props) {\r\n  const funName = [\r\n    \"copyWithin\",\r\n    \"fill\",\r\n    \"push\",\r\n    \"pop\",\r\n    \"shift\",\r\n    \"unshift\",\r\n    \"splice\",\r\n    \"sort\",\r\n    \"reverse\",\r\n  ];\r\n  const original = {};\r\n  const defineProperties = {};\r\n\r\n  funName.forEach((name) => {\r\n    original[name] = arr[name];\r\n\r\n    defineProperties[name] = {\r\n      value: function (...args) {\r\n        const res = original[name].call(arr, ...args);\r\n        if (props instanceof Function) props?.(\"name\", ...args);\r\n        return res;\r\n      },\r\n      writable: true,\r\n      enumerable: false,\r\n      configurable: false,\r\n    };\r\n  });\r\n\r\n  Object.defineProperties(arr, defineProperties);\r\n\r\n  return arr;\r\n}\r\n","import { arrayRemove } from \"../array\";\n\nexport function useQueue(props = {}) {\n  const options = {\n    onBegin: () => undefined,\n    onFinish: () => undefined,\n    onPush: () => undefined,\n    onPushed: () => undefined,\n    onRemove: () => undefined,\n    onRemoved: () => undefined,\n    ...props,\n  };\n\n  const queue = [];\n\n  function push(current) {\n    if (queue.length === 0) options.onBegin(queue, current);\n    options.onPush(queue, current);\n    if (queue.includes(current)) arrayRemove(queue, current);\n    queue.push(current);\n    options.onPushed(queue, current);\n  }\n\n  function change(current) {\n    //\n  }\n\n  function remove(current) {\n    options.onRemove(queue, current);\n    arrayRemove(queue, current);\n    options.onRemoved(queue, current);\n    if (queue.length === 0) options.onFinish(queue, current);\n  }\n\n  return { queue, push, remove, change };\n}\n\nexport function setTimeoutPromise(time = 0, resolveValue = time) {\n  return new Promise((resolve) => setTimeout(() => resolve(resolveValue), time));\n}\n\nexport function requestAnimationFramePromise(value) {\n  return new Promise((resolve) => requestAnimationFrame(() => resolve(value)));\n}\n","/**\n * 创建一个防抖函数\n * @param {Function} callback - 要执行的回调函数\n * @param {number} delay - 延迟时间，默认为500毫秒\n * @returns {Function} - 返回一个防抖函数\n */\nexport function timerDebounced(callback, delay = 500) {\n  let timeout;\n  return function fun(...arg) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      callback(...arg);\n    }, delay);\n  };\n}\n\nexport function animationDebounced(callback) {\n  let id;\n  return function fun(...arg) {\n    cancelAnimationFrame(id);\n    id = requestAnimationFrame((time) => {\n      callback(...arg);\n    });\n  };\n}\n\n/**\n * 定时器节流函数\n * @param {Function} callback - 需要节流的回调函数\n * @param {number} delay - 节流的时间间隔，默认为500毫秒\n * @returns {Function} - 节流后的回调函数\n */\nexport function timerThrottle(callback, delay = 500) {\n  let isThrottled = false;\n  return function throttledCallback(...args) {\n    if (isThrottled) return;\n    isThrottled = true;\n    callback(...args);\n    setTimeout(() => {\n      isThrottled = false;\n    }, delay);\n  };\n}\n/***\n *\n */\nexport function timeRefush(props = {}) {\n  const config = {\n    formatterTime: (date) => date.getDate(),\n    onChange: () => undefined,\n    once: false,\n    ms: 1000,\n    ...props,\n  };\n  let prveTime = config.formatterTime(new Date());\n  const timer = setInterval(() => {\n    const date = new Date();\n    const time = config.formatterTime(date);\n    if (prveTime !== time) {\n      config.onChange(time);\n      if (config.once) clearInterval(timer);\n    }\n    prveTime = time;\n  }, config.ms);\n}\n","import { useQueue } from \"@rainbow_ljy/rainbow-js\";\n\nconst rainbow = (() => {\n  const overlay = document.createElement(\"r-overlay\");\n  document.body.append(overlay);\n  return {\n    overlay,\n    zIndex: 100,\n    zIndexAdd: 3,\n    overlayQueue: useQueue(),\n    dialogQueue: useQueue(),\n    customRender(node, dialog) {\n      dialog.innerHTML = \"\";\n      dialog.append(node);\n    },\n  };\n})();\nwindow.rainbow = rainbow;\nexport { rainbow };\n","import { requestAnimationFramePromise } from \"@rainbow_ljy/rainbow-js\";\n\nexport function deleteKey(target, source, bool) {\n  for (const key in target) {\n    if (Object.prototype.hasOwnProperty.call(target, key)) {\n      try {\n        if (bool) source[key] = \"\";\n        delete source[key];\n      } catch (error) {}\n    }\n  }\n}\n\nexport function assignStyle(style, newStyle) {\n  for (const key in newStyle) {\n    if (Object.prototype.hasOwnProperty.call(newStyle, key)) {\n      style[key] = \"\";\n      style[key] = newStyle[key];\n    }\n  }\n}\n\nexport function convertToCamelCase(str) {\n  if (str.includes(\"-\")) {\n    const parts = str.split(\"-\");\n    const firstPart = parts[0];\n    const remainingParts = parts\n      .slice(1)\n      .map((part) => part.charAt(0).toUpperCase() + part.slice(1));\n    return firstPart + remainingParts.join(\"\");\n  }\n  return str;\n}\n\nexport function camelCaseToKebabCase(str) {\n  return str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\n\n// bubbles: true, cancelable: true,\n\nexport class RainbowEvent extends Event {\n  constructor(type, eventInitDict, event) {\n    super(type, eventInitDict);\n    this.detail = event;\n    if (event instanceof Array) {\n      for (const key in event) {\n        try {\n          if (this[key] === undefined) this[key] = event[key];\n        } catch (error) {\n          console.warn(error);\n        }\n      }\n    }\n  }\n}\n\nexport function createCustomEvent(name, event, eventInitDict = {}) {\n  const newEvent = new CustomEvent(name, { bubbles: true, cancelable: true, ...eventInitDict });\n  for (const key in event) {\n    try {\n      if (newEvent[key] === undefined) newEvent[key] = event[key];\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n  return newEvent;\n}\n\nexport function renderChildren(props = {}) {\n  const options = { parentNode: undefined, ...props };\n  let cacheMap = new Map();\n  let pointer = undefined;\n  let recycle = [];\n\n  function renderList(source = [], p) {\n    const config = {\n      beforeEach: () => 0,\n      keyExtractor: (item, index) => index,\n      onCacheNode: () => 0,\n      onCreateNode: () => 0,\n      onDeleteNode: () => 0,\n      onRemoveNode: () => 0,\n      onBeforeInsertNode: () => 0,\n      onInsertBeforeNode: () => 0,\n      ...p,\n    };\n    const map = new Map();\n    pointer = undefined;\n    config.beforeEach({ cacheMap, pointer });\n    source.forEach((item, index) => {\n      const key = config.keyExtractor(item, index);\n      let node;\n      config.onBeforeInsertNode(item, index, key);\n      if (cacheMap.has(key)) {\n        node = cacheMap.get(key);\n        config.onCacheNode(node, item, index, key);\n        if (pointer) {\n          if (pointer.nextSibling === node) {\n            //当前指针的下一个和要渲染的div相同 b不做处理\n          } else {\n            options.parentNode.insertBefore(node, pointer.nextSibling);\n          }\n        }\n        pointer = node;\n        cacheMap.delete(key);\n        config.onDeleteNode(node, item, index, key);\n      } else {\n        node = config.onCreateNode(item, index, key);\n        if (!pointer) options.parentNode.insertBefore(node, options.parentNode?.firstChild);\n        else options.parentNode.insertBefore(node, pointer?.nextSibling);\n        pointer = node;\n      }\n      config.onInsertBeforeNode(node, item, index, key);\n      map.set(key, node);\n    });\n    cacheMap.forEach((node, key) => {\n      node.remove();\n      config.onRemoveNode(node, key);\n    });\n    pointer = undefined;\n    cacheMap = map;\n  }\n\n  return { renderList };\n}\n\nexport function createElement(name = \"div\", className = \"\") {\n  const ele = document.createElement(name);\n  ele.setAttribute(\"part\", className);\n  ele.className = className;\n  return ele;\n}\n\nexport function createSlot(name = \"slot\", className = \"\", slotName = className) {\n  const ele = createElement(name, className);\n  ele.setAttribute(\"name\", slotName);\n  return ele;\n}\n\nexport function wipePX(str = \"\") {\n  if (typeof str === \"number\") return str;\n  if (/px/.test(str)) str = str.replace(/px/g, \"\");\n  if (/\\d+/.test(str)) return Number(str);\n  return str;\n}\n\nexport function toggleClass(node, bool, addClass = \"\", removeClass = \"\") {\n  if (bool) {\n    node.classList.add(addClass);\n    node.classList.remove(removeClass);\n  } else {\n    node.classList.add(removeClass);\n    node.classList.remove(addClass);\n  }\n}\n\nexport function isNum(d) {\n  return typeof d === \"number\";\n}\n\nexport function Transition(props = {}) {\n  const config = {\n    node: createElement(),\n    eventNode: createElement(),\n    dispatchNode: createElement(),\n    formatterVisible: (node) => node.value,\n    name: \"\",\n    ...props,\n  };\n\n  const args = {\n    value: undefined,\n    animateSymbol: 1,\n    finishSymbol: 1,\n    onTransitionend: () => {\n      args.finishSymbol = args.animateSymbol;\n      config.node.classList.remove(`${config.name}-enter-active`);\n      config.node.classList.remove(`${config.name}-leave-active`);\n      config.node.classList.remove(`${config.name}-enter-to`);\n      config.node.classList.remove(`${config.name}-leave-to`);\n      if (config.formatterVisible(config.node)) {\n        config.node.classList.remove(`${config.hideClassName}`);\n        config.dispatchNode.dispatchEvent(createCustomEvent(\"afterEnter\"));\n      } else {\n        config.node.classList.add(`${config.hideClassName}`);\n        config.dispatchNode.dispatchEvent(createCustomEvent(\"afterLeave\"));\n      }\n    },\n    async show() {\n      if (args.value === true) return;\n      args.value = true;\n      config.node.classList.remove(`${config.hideClassName}`);\n      config.node.classList.remove(`${config.name}-leave-from`);\n      config.node.classList.remove(`${config.name}-leave-active`);\n      config.node.classList.remove(`${config.name}-leave-to`);\n      config.node.classList.add(`${config.name}-enter-from`);\n      config.dispatchNode.dispatchEvent(createCustomEvent(\"beforeEnter\"));\n      if (args.animateSymbol === args.finishSymbol) {\n        args.animateSymbol = Symbol();\n        await requestAnimationFramePromise();\n      }\n      config.node.classList.remove(`${config.name}-enter-from`);\n      config.node.classList.add(`${config.name}-enter-active`);\n      config.node.classList.add(`${config.name}-enter-to`);\n      config.dispatchNode.dispatchEvent(createCustomEvent(\"enter\"));\n      config.eventNode.removeEventListener(\"transitionend\", this.onTransitionend);\n      config.eventNode.addEventListener(\"transitionend\", this.onTransitionend);\n    },\n\n    async hide() {\n      if (args.value === false) return;\n      args.value = false;\n      config.node.classList.remove(`${config.name}-enter-from`);\n      config.node.classList.remove(`${config.name}-enter-active`);\n      config.node.classList.remove(`${config.name}-enter-to`);\n      config.node.classList.add(`${config.name}-leave-from`);\n      config.dispatchNode.dispatchEvent(createCustomEvent(\"beforeLeave\"));\n      if (args.animateSymbol === args.finishSymbol) {\n        args.animateSymbol = Symbol();\n        await requestAnimationFramePromise();\n      }\n      config.node.classList.remove(`${config.name}-leave-from`);\n      config.node.classList.add(`${config.name}-leave-active`);\n      config.node.classList.add(`${config.name}-leave-to`);\n      config.dispatchNode.dispatchEvent(createCustomEvent(\"leave\"));\n      config.eventNode.removeEventListener(\"transitionend\", this.onTransitionend);\n      config.eventNode.addEventListener(\"transitionend\", this.onTransitionend);\n    },\n  };\n\n  return args;\n}\n","const events = new Map();\r\n\r\nnew MutationObserver((mutations) => {\r\n    events.forEach((fun, item) => {\r\n        if (fun instanceof Function) fun.call(item, mutations)\r\n    })\r\n    // console.log('document MutationObserver')\r\n}).observe(document, { subtree: true, attributes: true, attributeOldValue: true })\r\n\r\n\r\nexport const treeAttrsChangeIMP = {\r\n    simult: {\r\n        init() {\r\n            if (!this.$.changePropsRender) return;\r\n            events.set(this, () => this.$.changePropsRender())\r\n        },\r\n        disconnected() {\r\n            events.delete(this)\r\n        },\r\n    },\r\n    settle: {\r\n        init() { },\r\n    },\r\n    async: {\r\n        init() { },\r\n    }\r\n}\r\n\r\n","export function resizeObserverIMP(props = {}) {\r\n    let obs;\r\n    const config = {\r\n        isOnlyResizeWidth: false,\r\n        isOnlyResizeHeight: false,\r\n        resizeCallback: undefined,\r\n        resizeOptions: {},\r\n        ...props\r\n    }\r\n\r\n    let cache = {}\r\n\r\n    return {\r\n        simult: {\r\n            init() {\r\n                const cb = config.resizeCallback ? config.resizeCallback.bind(this) : this.$debouncedRender.bind(this);\r\n                try {\r\n                    obs = new ResizeObserver((...arg) => {\r\n                        let offset = { width: this.offsetWidth, height: this.offsetHeight };\r\n                        if (config.isOnlyResizeWidth && cache.width !== offset.width) cb(...arg)\r\n                        if (config.isOnlyResizeHeight && cache.height !== offset.height) cb(...arg)\r\n                        if (!config.isOnlyResizeWidth && !config.isOnlyResizeHeight) cb(...arg)\r\n                        cache = offset;\r\n                    });\r\n                    obs.observe(this, config.resizeOptions)\r\n                } catch (error) {\r\n                    console.warn(error);\r\n                }\r\n            },\r\n            disconnected() {\r\n                obs.disconnect(this)\r\n            },\r\n        },\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","export function treeObserverIMP(props = {}) {\r\n    let mObserver;\r\n    let rObserver;\r\n\r\n    const config = {\r\n        childrenResizeOptions: {},\r\n        onChildrenSizeChange() { },\r\n        resizeOptions: {},\r\n        onSizeChange() { },\r\n        onWidthChange() { },\r\n        onHeightChange() { },\r\n\r\n\r\n\r\n        mutationOptions: { childList: true },\r\n        onChildChange() { },\r\n        onAttributeChange() { },\r\n        ...props\r\n    }\r\n\r\n    let cache = {\r\n        offset: {},\r\n    }\r\n\r\n    return {\r\n        simult: {\r\n            init() {\r\n                try {\r\n                    rObserver = new ResizeObserver((entries, ...arg) => {\r\n                        let offset = { width: this.offsetWidth, height: this.offsetHeight };\r\n                        if (cache.offset.width !== offset.width) config.onWidthChange.call(this, entries, offset);\r\n                        if (cache.offset.height !== offset.height) config.onHeightChange.call(this, entries, offset);\r\n                        if (cache.offset.width !== offset.width || cache.offset.height !== offset.height) {\r\n                            config.onSizeChange.call(this, entries, offset);\r\n                        }\r\n                        cache.offset = offset;\r\n                        let includes = entries.some((el) => el.target === this)\r\n                        if (includes === false) config.onChildrenSizeChange.call(this, entries);\r\n                    });\r\n                    rObserver?.observe?.(this, config.resizeOptions)\r\n                } catch (error) {\r\n                    console.warn(error);\r\n                }\r\n                mObserver = new MutationObserver((mutations, ...arg) => {\r\n                    for (let mutation of mutations) {\r\n                        if (mutation.type === \"childList\") {\r\n                            const addedNodes = Array.from(mutation.addedNodes).filter(el => el.style);\r\n                            const removedNodes = Array.from(mutation.removedNodes).filter(el => el.style);\r\n                            addedNodes.forEach(ele => rObserver.observe(ele, config.childrenResizeOptions));\r\n                            removedNodes.forEach(ele => rObserver.unobserve(ele));\r\n                            config.onChildChange.call(this, mutation);\r\n                        } else if (mutation.type === \"attributes\") {\r\n                            config.onAttributeChange.call(this, mutation);\r\n                        }\r\n                    }\r\n                })\r\n                mObserver.observe(this, config.mutationOptions)\r\n            },\r\n            disconnected() {\r\n                mObserver.disconnect(this)\r\n                rObserver.disconnect(this)\r\n            },\r\n        },\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import {\n  camelCaseToKebabCase,\n  assignStyle,\n  convertToCamelCase,\n  RainbowEvent,\n  wipePX,\n} from \"./utils.js\";\nimport { treeAttrsChangeIMP } from \"../base/imps/index.js\";\nimport { animationDebounced } from \"@rainbow_ljy/rainbow-js\";\n\nexport class RainbowElement extends HTMLElement {\n  static $registerProps(types) {\n    const keys = [];\n    const props = {};\n    for (const key in types) {\n      if (Object.prototype.hasOwnProperty.call(types, key)) {\n        keys.push(key);\n        if (types[key]?.default instanceof Function) props[key] = types[key].default(props);\n        else props[key] = types[key]?.default;\n      }\n    }\n    this.prototype.$types = types;\n    this.prototype.$props = props;\n    return keys;\n  }\n\n  IMPS = [treeAttrsChangeIMP];\n\n  $ = {\n    self: this,\n    getSlotContainer: (node) => {\n      const soltName = node?.getAttribute?.(\"solt\");\n      if (!soltName) return undefined;\n      const container = this.$slotContainer?.[soltName];\n      return container;\n    },\n    _getSC: (...arg) => this.$.getSlotContainer(...arg),\n    renderSolt: (node) => {\n      if ([\"r-template\", \"template\"].includes(node.localName)) {\n        const soltName = node.getAttribute(\"solt\");\n        this.$slotContainer?.[soltName]?.append(node);\n        return node;\n      }\n      return false;\n    },\n    isInitAttrs: false,\n    data: {},\n    DATA: new Proxy({}, { get: (target, prop) => this.$.data[camelCaseToKebabCase(prop)] }),\n    props: { ...this.constructor.prototype.$props },\n    resolveFunCss: {\n      calc: (v, ...arg) => {\n        return v;\n      },\n    },\n    resolveCss: (key, str = \"\") => {\n      try {\n        if (str === \"r-prop\") return this.$.props[key];\n        //\n        const isAttrFun = /r-attr\\([^\\)]*?\\)/.test(str); //如果是r-attr 使用属性参数\n        if (isAttrFun) str = this.$.props[key];\n        // 解析px  vw vh\n        let cssVal = str.replace(/\\d+px|\\d+vw|\\d+vh/g, (len) => {\n          if (/\\d+px/.test(len)) return Number(len.replaceAll(\"px\", \"\"));\n          if (/\\d+vw/.test(len))\n            return (Number(len.replaceAll(\"vw\", \"\")) / 100) * window.innerWidth;\n          if (/\\d+vh/.test(len))\n            return (Number(len.replaceAll(\"vh\", \"\")) / 100) * window.innerHeight;\n          return len;\n        });\n        // 如果是方法\n        if (/([^\\(]*?)\\([^\\)]*?\\)/.test(cssVal)) {\n          return eval(`this.$.resolveFunCss.${cssVal}`);\n        }\n        // 如果可以转换成数字\n        if (/^-?\\d+(\\.\\d+)?$/.test(cssVal)) return Number(cssVal);\n        // 如果可以转换成数组\n        if (/.*?,.*?/.test(cssVal)) return cssVal.trim().split(\",\").filter(Boolean);\n        return cssVal;\n      } catch (error) {\n        // console.log(error);\n        return str;\n      }\n    },\n    cache: {\n      data: {},\n      style: {},\n      class: new Map(),\n    },\n    resolvePercentum: (v = \"\", node = this, fmt = (node) => node.offsetWidth) => {\n      if (/\\d+?%/.test(v)) return fmt(node) * (v.replaceAll(\"%\", \"\") / 100);\n      return v;\n    },\n    resolvePercentumH: (v, node, fmt = (node) => node.offsetHeight) => {\n      return this.$.resolvePercentum(v, node, fmt);\n    },\n    setStyle: (fmtStyle = () => ({})) => {\n      let ftStyle = fmtStyle(this.$.data) || {};\n      let newStyle = ftStyle;\n      if (ftStyle instanceof Array) {\n        newStyle = ftStyle.filter(Boolean).reduce((add, value) => {\n          Object.assign(add, value);\n          return add;\n        }, {});\n      }\n      for (const key in newStyle) {\n        if (Object.prototype.hasOwnProperty.call(newStyle, key)) {\n          if (this.$.cache.style[key] !== newStyle[key]) {\n            this.style[key] = \"\";\n            this.style[key] = newStyle[key];\n          }\n          delete this.$.cache.style[key];\n        }\n      }\n      for (const key in this.$.cache.style) {\n        if (Object.prototype.hasOwnProperty.call(this.$.cache.style, key)) {\n          this.style[key] = \"\";\n        }\n      }\n      this.$.cache.style = newStyle;\n    },\n    setClass: (fmtClass = () => []) => {\n      let newClass = fmtClass(this.$.data);\n      if (newClass?.length === undefined) newClass = [newClass];\n      newClass = newClass.filter(Boolean);\n      let newMap = new Map();\n      newClass.forEach((key) => {\n        newMap.set(key, key);\n        this.$.cache.class.delete(key);\n        this.classList.add(key);\n      });\n      this.$.cache.class.forEach((key, v) => {\n        this.classList.remove(key);\n      });\n      this.$.cache.class = newMap;\n    },\n    findParentByLocalName: (name, p = this) => {\n      if (!p) return;\n      const parent = p.parentNode;\n      if (!parent) return;\n      if (name instanceof Array && name.includes(parent.localName)) return parent;\n      if (parent.localName === name) return parent;\n      return this.$.findParentByLocalName(name, parent);\n    },\n    findChildByLocalName: (name, c = this) => {\n      if (!c) return [];\n      if (name instanceof Array) {\n        return name.map((val) => c.getElementsByTagName(val)).flat(Infinity);\n      }\n      return c.getElementsByTagName(name);\n    },\n    getOffsetTop: (p, num = 0) => {\n      if (this.offsetParent === p) return num;\n      let offsetTop = this.offsetTop;\n      let top = num + offsetTop;\n      return this.$.getOffsetTop(this.offsetParent, top);\n    },\n    isAnimation: false,\n    transitionrun: () => {\n      this.$.isAnimation = true;\n    },\n    transitioncancel: () => {\n      this.$.isAnimation = false;\n    },\n    transitionend: () => {\n      this.$.isAnimation = false;\n    },\n    changePropsRender: (force) => {\n      // if (this.$.isAnimation) return;\n      let isChange = false;\n      const css = {};\n      const style = window.getComputedStyle(this);\n      for (const key in this.$.props) {\n        if (Object.prototype.hasOwnProperty.call(this.$.props, key)) {\n          if (key.startsWith(\"r-\")) {\n            const cssVal = style.getPropertyValue(\"--\" + key).trim();\n            css[key] = this.$.resolveCss(key, cssVal);\n          } else {\n            const cssVal = style.getPropertyValue(key).trim();\n            css[key] = wipePX(cssVal);\n          }\n          if (this.$.cache.data[key] !== css[key]) isChange = true;\n        }\n      }\n      this.$.data = css;\n      this.$.cache.data = css;\n      // console.log(isChange);\n      if (isChange || force === true) this.$debouncedRender(css);\n      return css;\n    },\n    append: (...nodes) => {\n      return super.append(...nodes);\n    },\n    appendChild: (...nodes) => {\n      return super.appendChild(...nodes);\n    },\n    insertBefore: (...nodes) => {\n      return super.insertBefore(...nodes);\n    },\n    removeChild: (...nodes) => {\n      return super.removeChild(...nodes);\n    },\n  };\n\n  constructor(...arg) {\n    super(...arg);\n    this.IMPS.push(...(this.$onRegisterIMPS?.() || []));\n    this.$debouncedRender = animationDebounced((...pop) => this.$render(...pop));\n    this.IMPS.map((el) => el?.simult)?.forEach((el) => el?.init?.call?.(this));\n    this.addEventListener(\"transitionrun\", this.$.transitionrun);\n    this.addEventListener(\"transitioncancel\", this.$.transitioncancel);\n    this.addEventListener(\"transitionend\", this.$.transitionend);\n  }\n\n  $slotContainer = {\n    default: this,\n  };\n\n  // append(...nodes) {\n  //   // console.log(\"append\");\n  //   nodes.forEach((node, index) => {\n  //     if (this.$._getSC(node)) return this.$._getSC(node)?.append?.(node);\n  //     if (this === this.$slotContainer.default) return super.append?.(node);\n  //     this.$slotContainer.default?.append?.(node);\n  //   });\n  // }\n\n  // appendChild(node) {\n  //   // console.log(\"appendChild\");\n  //   if (this.$._getSC(node)) return this.$._getSC(node)?.appendChild?.(node);\n  //   if (this === this.$slotContainer.default) return super.appendChild?.(node);\n  //   return this.$slotContainer.default?.appendChild?.(node);\n  // }\n\n  // insertBefore(node, child) {\n  //   // console.log(\"insertBefore\");\n  //   if (this.$._getSC(node)) return this.$._getSC(node)?.insertBefore?.(node, child);\n  //   if (this === this.$slotContainer.default) return super.insertBefore?.(node, child);\n  //   return this.$slotContainer.default.insertBefore?.(node, child);\n  // }\n\n  // removeChild(child) {\n  //   // console.log(\"removeChild\");\n  //   if (this.$._getSC(child)) return this.$._getSC(child)?.removeChild?.(child);\n  //   if (this === this.$slotContainer.default) return super.removeChild?.(child);\n  //   return this.$slotContainer.default.removeChild?.(child);\n  // }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    this.$.props[name] = newValue;\n    if (this.$.isInitAttrs === true) this.$onAttributeChanged(name, oldValue, newValue);\n  }\n\n  $onAttributeChanged() {\n    this.IMPS.map((el) => el?.simult)?.forEach((el) => el?.changeAttr?.call?.(this));\n    this.$.changePropsRender();\n  }\n\n  connectedCallback() {\n    this.$.isInitAttrs = true;\n    this.IMPS.map((el) => el?.simult)?.forEach((el) => el?.connected?.call?.(this));\n    this.$.changePropsRender();\n  }\n\n  adoptedCallback() {\n    this.IMPS.map((el) => el?.simult)?.forEach((el) => el?.adopted?.call?.(this));\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener(\"transitionrun\", this.$.transitionrun);\n    this.removeEventListener(\"transitioncancel\", this.$.transitioncancel);\n    this.removeEventListener(\"transitionend\", this.$.transitionend);\n    this.IMPS.map((el) => el?.simult)?.forEach((el) => el?.disconnected?.call?.(this));\n  }\n\n  $onRegisterIMPS() {\n    return [];\n  }\n\n  $render() {}\n}\n","import { RainbowElement } from '../../base/index.js'\r\nimport './index.css'\r\n\r\nexport class RAbsolute extends RainbowElement {\r\n    static observedAttributes = this.$registerProps({\r\n        'r-position': [Boolean, String],\r\n    });\r\n}\r\n\r\n","import \"./index.css\";\nimport {\n  RainbowElement,\n  createElement,\n  createSlot,\n  Transition,\n  createCustomEvent,\n} from \"../../base/index.js\";\n\nexport class ROverlay extends RainbowElement {\n  $$ = (() => {\n    return {\n      value: false,\n      transition: Transition({\n        node: this,\n        dispatchNode: this,\n        eventNode: this,\n        name: \"r-overlay\",\n        hideClassName: \"r-overlay-hide\",\n      }),\n    };\n  })();\n\n  set value(v) {\n    if (this.$$.value === v) return;\n    this.$$.value = v;\n    if (this.$$.value) this.$$.transition.show();\n    else this.$$.transition.hide();\n  }\n\n  get value() {\n    return this.$$.value;\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    if (this.value === false) this.classList.add(\"r-overlay-hide\");\n    this.$$.transition = Transition({\n      node: this,\n      dispatchNode: this,\n      eventNode: this,\n      name: \"r-overlay\",\n      hideClassName: \"r-overlay-hide\",\n    });\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n  }\n}\n\nexport class RDialog extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-orientation\": String, // \"left\" \"right\" \"top\" \"bottom\" \"center\"\n  });\n\n  $$ = (() => {\n    const content = createElement(\"div\", \"r-dialog-content\");\n    return {\n      value: false,\n      content,\n      defaultSlot: createSlot(\"slot\", \"\", \"\"),\n      transition: Transition({\n        node: this,\n        dispatchNode: this,\n        eventNode: content,\n        name: \"r-dialog\",\n        hideClassName: \"r-dialog-hide\",\n      }),\n      onOverlayClick: (event) => {\n        event.stopPropagation();\n        console.log(\"onOverlayClick\");\n        if (window.rainbow.overlayQueue.queue.at(-1) !== this) return;\n        this.value = false;\n        this.dispatchEvent(createCustomEvent(\"input\", { value: false }));\n      },\n      onDocumentClick: (event) => {\n        console.log(\"onDocumentClick\", window.rainbow.overlayQueue.queue.length);\n        this.value = false;\n        this.dispatchEvent(createCustomEvent(\"input\", { value: false }));\n      },\n      click: (event) => {\n        event.stopPropagation();\n        console.log(\"click\");\n      },\n      open: () => {\n        const prveDialog = rainbow.dialogQueue.queue.at(-1);\n        rainbow.zIndex = rainbow.zIndex + rainbow.zIndexAdd;\n        this.style.zIndex = rainbow.zIndex;\n        this.style.top = \"50px\";\n        rainbow.overlay.style.top = \"50px\";\n        this.$$.transition.show();\n        rainbow.overlay.value = true;\n        rainbow.overlayQueue.push(this);\n        if (prveDialog && prveDialog !== this) {\n          prveDialog.value = false;\n          prveDialog.dispatchEvent(createCustomEvent(\"input\", { value: false }));\n        }\n        rainbow.dialogQueue.push(this);\n        rainbow.overlay.style.zIndex = (rainbow.overlayQueue.queue.at(-1)?.style?.zIndex ?? 1) - 1;\n        rainbow.overlay.addEventListener(\"click\", this.$$.onOverlayClick);\n\n        document.removeEventListener(\"click\", this.$$.onDocumentClick);\n      },\n      close: () => {\n        this.$$.transition.hide();\n        rainbow.overlayQueue.remove(this);\n        rainbow.dialogQueue.remove(this);\n        if (rainbow.overlayQueue.queue.length === 0) rainbow.overlay.value = false;\n        rainbow.overlay.removeEventListener(\"click\", this.$$.onOverlayClick);\n        document.removeEventListener(\"click\", this.$$.onDocumentClick);\n      },\n      afterLeave: () => {\n        rainbow.overlay.style.zIndex = (rainbow.overlayQueue.queue.at(-1)?.style?.zIndex ?? 1) - 1;\n      },\n      afterEnter: () => {\n        // document.addEventListener(\"click\", this.$$.onDocumentClick);\n        // console.log(\"afterEnter\");\n      },\n    };\n  })();\n\n  set value(v) {\n    if (this.$$.value === v) return;\n    this.$$.value = v;\n    if (this.$$.value) this.$$.open();\n    else this.$$.close();\n  }\n\n  get value() {\n    return this.$$.value;\n  }\n\n  constructor(...arg) {\n    super(...arg);\n    this.attachShadow({ mode: \"open\" });\n    this.$$.content.append(this.$$.defaultSlot);\n    this.shadowRoot.appendChild(this.$$.content);\n    this.addEventListener(\"afterEnter\", this.$$.afterEnter);\n    this.addEventListener(\"afterLeave\", this.$$.afterLeave);\n    this.addEventListener(\"click\", this.$$.click);\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    const { rOrientation } = this.$.DATA;\n    this.classList.add(`r-dialog-${rOrientation}`);\n    if (this.value === false) this.classList.add(\"r-dialog-hide\");\n    this.$$.transition = Transition({\n      node: this,\n      dispatchNode: this,\n      eventNode: this.$$.content,\n      name: \"r-dialog-\" + rOrientation,\n      hideClassName: \"r-dialog-hide\",\n    });\n    console.log(\" connectedCallback \", rOrientation);\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n  }\n}\n\nexport function createDialog(params) {\n  const dialog = document.createElement(\"r-dialog\");\n  document.body.appendChild(dialog);\n\n  function fun(node) {\n    rainbow.customRender(node, dialog);\n    dialog.value = true;\n  }\n\n  fun.ele = dialog;\n\n  fun.close = () => {\n    dialog.value = false;\n  };\n\n  return fun;\n}\n","import { RainbowElement } from \"../../base/index.js\";\r\nimport { arrayLoopMap } from \"@rainbow_ljy/rainbow-js\";\r\nimport { treeObserverIMP } from \"../../base/imps/index.js\";\r\nimport \"./index.css\";\r\n\r\nexport class RFalls extends RainbowElement {\r\n  static observedAttributes = this.$registerProps({\r\n    \"r-min-auto-width\": Number,\r\n    \"r-columns\": { type: Number, default: 2 },\r\n    \"r-gap\": { type: Number, default: 0 },\r\n    \"r-row-gap\": { type: Number, default: 0 },\r\n    \"r-column-gap\": { type: Number, default: 0 },\r\n  });\r\n\r\n  $onRegisterIMPS() {\r\n    return [\r\n      treeObserverIMP({\r\n        onWidthChange() {\r\n          this.$debouncedRender(this.$?.data);\r\n        },\r\n        onChildrenSizeChange() {\r\n          this.$debouncedRender(this.$?.data);\r\n        },\r\n      }),\r\n    ];\r\n  }\r\n\r\n  $render() {\r\n    let { rMinAutoWidth, rColumns, rGap, rRowGap, rColumnGap } = this.$.DATA;\r\n    // console.log(rMinAutoWidth, rColumns, rGap, rRowGap, rColumnGap);\r\n    const col = (() => {\r\n      if (rMinAutoWidth) return Math.floor(this.offsetWidth / rMinAutoWidth);\r\n      return rColumns;\r\n    })();\r\n    // console.log(col);\r\n    let colGap = rColumnGap || rGap;\r\n    let rowGap = rRowGap || rGap;\r\n    let left = (i) =>\r\n      `calc( ${(100 / col) * i}% - ${(((col - 1) * colGap) / col) * i}px + ${i * colGap}px )`;\r\n    const list = arrayLoopMap(col, (i) => ({ height: 0, left: left(i), top: 0, index: i }));\r\n    // console.log(list);\r\n    let itemWidth = `calc( ${100 / col}% - ${((col - 1) * colGap) / col}px )`;\r\n    // console.log(itemWidth);\r\n    Array.from(this.children).forEach((child) => {\r\n      child.classList.add(\"r-falls-item\");\r\n      child.style.width = itemWidth;\r\n      let node = getMinHeightItem(list);\r\n      if (node.height) node.height = node.height + rowGap;\r\n      child.style.left = node.left;\r\n      child.style.top = node.height + \"px\";\r\n      node.height = node.height + child.offsetHeight;\r\n    });\r\n    this.style.height = getMaxHeightItem(list).height + \"px\";\r\n  }\r\n}\r\n\r\nfunction getMinHeightItem(list) {\r\n  let item = list[0];\r\n  list.forEach((el) => {\r\n    if (el.height < item.height) item = el;\r\n  });\r\n  return item;\r\n}\r\n\r\nfunction getMaxHeightItem(list) {\r\n  let item = list[0];\r\n  list.forEach((el) => {\r\n    if (el.height > item.height) item = el;\r\n  });\r\n  return item;\r\n}\r\n\r\n","import { RainbowElement } from \"../../base/index.js\";\r\nimport { resizeObserverIMP } from \"../../base/imps/index.js\";\r\nimport \"./index.css\";\r\n\r\nexport class RGrid extends RainbowElement {\r\n  static observedAttributes = this.$registerProps({\r\n    \"r-columns\": { type: Number, default: 1 },\r\n    \"r-min-auto-width\": Number,\r\n    \"r-gap\": [Number, String],\r\n    \"r-row-gap\": [Number, String],\r\n    \"r-column-gap\": [Number, String],\r\n    \"r-grid-wrap\": String,\r\n    \"r-grid-stretch\": String,\r\n  });\r\n\r\n  $onRegisterIMPS() {\r\n    return [resizeObserverIMP({ isOnlyResizeWidth: true })];\r\n  }\r\n\r\n  $render() {\r\n    // console.log([this], this.$.data);\r\n    const { rGap, rRowGap, rColumnGap } = this.$.DATA;\r\n    this.$.setStyle(() => [\r\n      {\r\n        \"grid-template-columns\": `repeat(${this.$$columns}, 1fr)`,\r\n        \"grid-gap\": rGap + \"px\",\r\n        \"row-gap\": (rRowGap || rGap) + \"px\",\r\n        \"column-gap\": (rColumnGap || rGap) + \"px\",\r\n      },\r\n    ]);\r\n    this.$$doLayout();\r\n  }\r\n\r\n  get $$columns() {\r\n    let { rColumns, rMinAutoWidth } = this.$.DATA;\r\n    if (rMinAutoWidth) return Math.floor(this.offsetWidth / rMinAutoWidth);\r\n    return rColumns;\r\n  }\r\n\r\n  $$doLayout() {\r\n    const { rGridWrap, rGridStretch } = this.$.DATA;\r\n    let children = Array.from(this.children);\r\n    let clumnList = children.map((el) => el.getAttribute(\"grid-column\") * 1 || 1);\r\n    let start = 1;\r\n    let gridColumns = [];\r\n    let maxColumn = this.$$columns + 1;\r\n    clumnList.forEach((num, index) => {\r\n      let end = start + num;\r\n      if (rGridWrap === \"wrap\") {\r\n        if (end > maxColumn) {\r\n          if (rGridStretch === \"stretch\") {\r\n            if (gridColumns[index - 1]) gridColumns[index - 1].end = maxColumn;\r\n          }\r\n          start = 1;\r\n          let end2 = start + num;\r\n          end = end2 > maxColumn ? maxColumn : end2;\r\n        }\r\n      } else {\r\n        if (end > maxColumn) end = maxColumn;\r\n      }\r\n      gridColumns.push({\r\n        start: start,\r\n        end: end,\r\n        index,\r\n      });\r\n      start = start + num;\r\n      if (start > this.$$columns) start = 1;\r\n    });\r\n    children.forEach((el, index) => {\r\n      el.classList.add(\"r-grid-item\");\r\n      el.style[\"grid-column-start\"] = gridColumns[index].start;\r\n      el.style[\"grid-column-end\"] = gridColumns[index].end;\r\n    });\r\n  }\r\n}\r\n\r\n\r\n","import \"./index.css\";\nimport { RainbowElement, wipePX, createElement, isNum } from \"../../base/index.js\";\n\nexport class RMove extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    top: Number,\n    bottom: Number,\n    left: Number,\n    right: Number,\n    \"r-move-border-left\": Number,\n    \"r-move-border-right\": Number,\n    \"r-move-border-top\": Number,\n    \"r-move-border-bottom\": Number,\n    \"r-adsorb-border-left\": Number,\n    \"r-adsorb-border-right\": Number,\n    \"r-adsorb-border-top\": Number,\n    \"r-adsorb-border-bottom\": Number,\n    \"r-adsorb\": String, // left top bottom right horizontal vertical nearby nook\n  });\n\n  $$ = {\n    caches: {\n      x: 0,\n      y: 0,\n    },\n    startTouche: {},\n    onTouchstart: (event) => {\n      this.$$.startTouche = event.touches?.[0];\n      event.stopPropagation();\n      const style = window.getComputedStyle(this);\n      this.$$.caches.x = wipePX(style.getPropertyValue(\"left\").trim());\n      this.$$.caches.y = wipePX(style.getPropertyValue(\"top\").trim());\n      this.style.transition = \"none\";\n    },\n    onTouchmove: (event) => {\n      event.stopPropagation();\n      const { rMoveBorderLeft, rMoveBorderTop, rMoveBorderRight, rMoveBorderBottom } = this.$.DATA;\n      const touche = event.touches?.[0];\n      const maxX = this.parentNode.offsetWidth - this.offsetWidth - rMoveBorderRight;\n      const maxH = this.parentNode.offsetHeight - this.offsetHeight - rMoveBorderBottom;\n      let x = touche.clientX - this.$$.startTouche.clientX + this.$$.caches.x;\n      let y = touche.clientY - this.$$.startTouche.clientY + this.$$.caches.y;\n      if (isNum(rMoveBorderRight)) if (x > maxX) x = maxX;\n      if (isNum(rMoveBorderLeft)) if (x < rMoveBorderLeft) x = rMoveBorderLeft;\n      if (isNum(rMoveBorderBottom)) if (y > maxH) y = maxH;\n      if (isNum(rMoveBorderTop)) if (y < rMoveBorderTop) y = rMoveBorderTop;\n      this.style.left = `${x}px`;\n      this.style.top = `${y}px`;\n      this.style.bottom = \"auto\";\n      this.style.right = \"auto\";\n    },\n    onTouchend: (event) => {\n      event.stopPropagation();\n      const style = window.getComputedStyle(this);\n      let left = wipePX(style.getPropertyValue(\"left\").trim());\n      let top = wipePX(style.getPropertyValue(\"top\").trim());\n      const {\n        rAdsorbBorderLeft,\n        rAdsorbBorderTop,\n        rAdsorbBorderRight,\n        rAdsorbBorderBottom,\n        rAdsorb,\n      } = this.$.DATA;\n      let x = rAdsorbBorderLeft || 0;\n      let y = rAdsorbBorderTop || 0;\n      const maxX = this.parentNode.offsetWidth - this.offsetWidth - (rAdsorbBorderRight || 0);\n      const maxH = this.parentNode.offsetHeight - this.offsetHeight - (rAdsorbBorderBottom || 0);\n      let right = this.parentNode.offsetWidth - left - this.offsetWidth;\n      let bottom = this.parentNode.offsetHeight - top - this.offsetHeight;\n      if (rAdsorb) this.$$.adsorb[rAdsorb]({ x, y, maxX, maxH, left, top, right, bottom });\n    },\n    adsorb: {\n      com: () => {\n        this.style.transition = \"0.2s\";\n      },\n      left: ({ x }) => {\n        this.style.left = `${x}px`;\n        this.$$.adsorb.com();\n      },\n      right: ({ maxX }) => {\n        this.style.left = `${maxX}px`;\n        this.$$.adsorb.com();\n      },\n      horizontal: ({ x, maxX, left }) => {\n        if (left + this.offsetWidth / 2 > this.parentNode.offsetWidth / 2) x = maxX;\n        this.style.left = `${x}px`;\n        this.$$.adsorb.com();\n      },\n      top: ({ y }) => {\n        this.style.top = `${y}px`;\n        this.$$.adsorb.com();\n      },\n      bottom: ({ maxH }) => {\n        this.style.top = `${maxH}px`;\n        this.$$.adsorb.com();\n      },\n      vertical: ({ y, maxH, top }) => {\n        if (top + this.offsetHeight / 2 > this.parentNode.offsetHeight / 2) y = maxH;\n        this.style.top = `${y}px`;\n        this.$$.adsorb.com();\n      },\n      nook: ({ y, maxH, top, x, maxX, left }) => {\n        if (left + this.offsetWidth / 2 > this.parentNode.offsetWidth / 2) x = maxX;\n        if (top + this.offsetHeight / 2 > this.parentNode.offsetHeight / 2) y = maxH;\n        this.style.left = `${x}px`;\n        this.style.top = `${y}px`;\n        this.$$.adsorb.com();\n      },\n      nearby: ({ y, maxH, top, x, maxX, left, right, bottom }) => {\n        let min = Math.min(left, right, bottom, top);\n        if (left === min) this.style.left = `${x}px`;\n        if (right === min) this.style.left = `${maxX}px`;\n        if (top === min) this.style.top = `${y}px`;\n        if (bottom === min) this.style.top = `${maxH}px`;\n        this.$$.adsorb.com();\n      },\n    },\n  };\n\n  constructor(...arg) {\n    super(...arg);\n    this.addEventListener(\"touchstart\", this.$$.onTouchstart);\n    this.addEventListener(\"touchmove\", this.$$.onTouchmove);\n    this.addEventListener(\"touchend\", this.$$.onTouchend);\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n  }\n}\n","const COMPUTE_INTERVAL = 30;\r\nlet currentView = document.createElement(\"div\");\r\nlet srcViews = [];\r\nlet timer;\r\nexport const customEventNameMap = new Map();\r\nconst compute = {\r\n  isGetPdownLock: false,\r\n  srcViews: [],\r\n};\r\nexport class SlideEvent extends CustomEvent {\r\n  altKey = undefined;\r\n  altitudeAngle = undefined;\r\n  azimuthAngle = undefined;\r\n  button = undefined;\r\n  buttons = undefined;\r\n  clientX = undefined;\r\n  clientY = undefined;\r\n  ctrlKey = undefined;\r\n  currentTime = undefined;\r\n  deltaAng = undefined;\r\n  deltaC = undefined;\r\n  deltaTime = undefined;\r\n  deltaX = undefined;\r\n  deltaY = undefined;\r\n  direction = undefined;\r\n  fromElement = undefined;\r\n  getModifierState = undefined;\r\n  getPredictedEvents = undefined;\r\n  height = undefined;\r\n  initMouseEvent = undefined;\r\n  initUIEvent = undefined;\r\n  isPrimary = undefined;\r\n  layerX = undefined;\r\n  layerY = undefined;\r\n  metaKey = undefined;\r\n  moveX = undefined;\r\n  moveY = undefined;\r\n  movementX = undefined;\r\n  movementY = undefined;\r\n  offsetX = undefined;\r\n  offsetY = undefined;\r\n  orientation = undefined;\r\n  pageX = undefined;\r\n  pageY = undefined;\r\n  persistentDeviceId = undefined;\r\n  pointerId = undefined;\r\n  pointerType = undefined;\r\n  pressure = undefined;\r\n  relatedTarget = undefined;\r\n  screenX = undefined;\r\n  screenY = undefined;\r\n  shiftKey = undefined;\r\n  sourceCapabilities = undefined;\r\n  speedX = undefined;\r\n  speedY = undefined;\r\n  srcViews = undefined;\r\n  tangentialPressure = undefined;\r\n  tiltX = undefined;\r\n  tiltY = undefined;\r\n  toElement = undefined;\r\n  twist = undefined;\r\n  velocityX = undefined;\r\n  velocityY = undefined;\r\n  view = undefined;\r\n  which = undefined;\r\n  width = undefined;\r\n  x = undefined;\r\n  y = undefined;\r\n  constructor(type, eventInitDict = {}) {\r\n    super(type, eventInitDict);\r\n  }\r\n}\r\n\r\n(() => {\r\n  // **TODO pointercancel\r\n  document.addEventListener(\"pointerdown\", onPointerdown);\r\n  document.addEventListener(\"pointermove\", onPointermove);\r\n  document.addEventListener(\"pointerup\", onPointerup);\r\n  let isVerdict = false;\r\n  let beginEvent;\r\n  let prveEvent;\r\n  let intervalEvent;\r\n  let direction;\r\n  let orientation;\r\n  let isStart = true;\r\n  let pressures = [];\r\n\r\n  function onPointerdown(event) {\r\n    clearTimeout(timer);\r\n    extendedEventArgs(event);\r\n    dispatchEvent(\"slideDown\", event);\r\n    beginEvent = event;\r\n    prveEvent = event;\r\n    intervalEvent = event;\r\n    isVerdict = false;\r\n    isStart = true;\r\n    direction = undefined;\r\n    orientation = undefined;\r\n    pressures = [];\r\n  }\r\n\r\n  function onPointermove(event) {\r\n    clearTimeout(timer);\r\n    extendedEventArgs(event);\r\n    prveEvent = event;\r\n    if (!isVerdict) {\r\n      if (event.deltaC > 8) {\r\n        const ang = event.deltaAng;\r\n        const isRightAng = 315 <= ang || ang < 45;\r\n        const isTopAng = 45 <= ang && ang < 135;\r\n        const isLeftAng = 135 <= ang && ang < 225;\r\n        const isBottomAng = 225 <= ang && ang < 315;\r\n        if (isRightAng) direction = \"right\";\r\n        if (isTopAng) direction = \"top\";\r\n        if (isLeftAng) direction = \"left\";\r\n        if (isBottomAng) direction = \"bottom\";\r\n        if (isRightAng || isLeftAng) orientation = \"horizontal\";\r\n        if (isTopAng || isBottomAng) orientation = \"vertical\";\r\n        isVerdict = true;\r\n        return;\r\n      }\r\n      return;\r\n    }\r\n    if (isStart) {\r\n      dispatchEvent(\"slideStrat\", event);\r\n      if (event.moveX < 0) dispatchEvent(\"slideRightStrat\", event);\r\n      if (event.moveY < 0) dispatchEvent(\"slideBottomStrat\", event);\r\n      if (event.moveX > 0) dispatchEvent(\"slideLeftStrat\", event);\r\n      if (event.moveY > 0) dispatchEvent(\"slideTopStrat\", event);\r\n      if (event.moveX !== 0) dispatchEvent(\"slideHorizontalStrat\", event);\r\n      if (event.moveY !== 0) dispatchEvent(\"slideVerticalStrat\", event);\r\n      isStart = false;\r\n      return;\r\n    }\r\n\r\n    dispatchEvent(\"slideMove\", event);\r\n    if (event.moveX < 0) dispatchEvent(\"slideRight\", event);\r\n    if (event.moveY < 0) dispatchEvent(\"slideBottom\", event);\r\n    if (event.moveX > 0) dispatchEvent(\"slideLeft\", event);\r\n    if (event.moveY > 0) dispatchEvent(\"slideTop\", event);\r\n    if (event.moveX !== 0) dispatchEvent(\"slideHorizontal\", event);\r\n    if (event.moveY !== 0) dispatchEvent(\"slideVertical\", event);\r\n    dispatchEvent(\"slideAfterMove\", event);\r\n    timer = setTimeout(() => {\r\n      intervalEvent = event;\r\n    }, COMPUTE_INTERVAL);\r\n  }\r\n\r\n  function onPointerup(event) {\r\n    clearTimeout(timer);\r\n    extendedEventArgs(event);\r\n    if (isVerdict) {\r\n      dispatchEvent(\"slideEnd\", event);\r\n      if (event.velocityX < 0) dispatchEvent(\"slideRightEnd\", event);\r\n      if (event.velocityY < 0) dispatchEvent(\"slideBottomEnd\", event);\r\n      if (event.velocityX > 0) dispatchEvent(\"slideLeftEnd\", event);\r\n      if (event.velocityY > 0) dispatchEvent(\"slideTopEnd\", event);\r\n      if (event.velocityX !== 0) dispatchEvent(\"slideHorizontalEnd\", event);\r\n      if (event.velocityY !== 0) dispatchEvent(\"slideVerticalEnd\", event);\r\n      dispatchEvent(\"slideAfterEnd\", event);\r\n    }\r\n    dispatchEvent(\"slideUp\", event);\r\n    currentView = undefined;\r\n  }\r\n\r\n  function extendedEventArgs(event) {\r\n    pressures.push(event.pressure);\r\n    event.srcViews = compute.srcViews;\r\n    event.currentTime = Date.now();\r\n    event.direction = direction;\r\n    event.orientation = orientation;\r\n    if (!beginEvent) return;\r\n    event.deltaX = event.pageX - (beginEvent?.pageX ?? 0);\r\n    event.deltaY = event.pageY - (beginEvent?.pageY ?? 0);\r\n    event.deltaC = calcHypotenuse(event.deltaX, event.deltaY);\r\n    event.deltaAng = calculateAngle(event.deltaX, event.deltaY);\r\n    if (!prveEvent) return;\r\n    event.moveX = (prveEvent?.pageX ?? 0) - event.pageX;\r\n    event.moveY = (prveEvent?.pageY ?? 0) - event.pageY;\r\n    event.deltaTime = event.currentTime - (prveEvent?.currentTime ?? 0);\r\n    event.speedX = event.moveX / event.deltaTime;\r\n    event.speedY = event.moveY / event.deltaTime;\r\n    if (!intervalEvent) return;\r\n    event.velocityX = undefinedReturn(intervalEvent.velocityX, event.speedX);\r\n    event.velocityY = undefinedReturn(intervalEvent.velocityY, event.speedY);\r\n    if (event.currentTime - intervalEvent.currentTime >= COMPUTE_INTERVAL) {\r\n      let avgPressure = 1;\r\n      // let avgPressure = pressures.reduce((add, v) => { add = v + add; return add }, 0) / pressures.length;\r\n      // // TODO 兼容性需处理\r\n      // if (avgPressure < 0.8) avgPressure = 0.8\r\n      // if (avgPressure > 1.8) avgPressure = avgPressure - 1\r\n      // if (avgPressure > 2.8) avgPressure = avgPressure - 2\r\n      // if (avgPressure > 3.8) avgPressure = avgPressure - 3\r\n      // if (avgPressure > 4.8) avgPressure = 1.8;\r\n      // console.log('avgPressure', avgPressure);\r\n      // console.log('avgPressure', intervalEvent?.pageY, event.pageY);\r\n      const moveX = (intervalEvent?.pageX ?? 0) - event.pageX;\r\n      const moveY = (intervalEvent?.pageY ?? 0) - event.pageY;\r\n      const deltaTime = event.currentTime - (intervalEvent?.currentTime ?? 0);\r\n      event.velocityX = Number(((moveX / deltaTime) * avgPressure).toFixed(2));\r\n      event.velocityY = Number(((moveY / deltaTime) * avgPressure).toFixed(2));\r\n      intervalEvent = event;\r\n      pressures = [];\r\n    }\r\n  }\r\n\r\n  function dispatchEvent(name, event) {\r\n    if (!currentView) return;\r\n    const slideEvent = inheritPointerEvent(name, event);\r\n    currentView.dispatchEvent(slideEvent);\r\n    customEventNameMap.forEach((value) => {\r\n      const customEventName = name.replace(/(Slide|slide)/, value);\r\n      const customSlideEven = inheritPointerEvent(customEventName, event);\r\n      currentView.dispatchEvent(customSlideEven);\r\n    });\r\n  }\r\n})();\r\n\r\n/**\r\n *\r\n * @param {*} view\r\n */\r\nexport function extendedSlideEvents(view = document.createElement(\"div\"), options = {}) {\r\n  function $set(name, value) {\r\n    if (!view.$$) return;\r\n    view.$$[name] = value;\r\n  }\r\n\r\n  function onCapturePointerdown(event) {\r\n    $set(\"parentViews\", [...srcViews]);\r\n    srcViews.push(event.currentTarget);\r\n    $set(\"srcViews\", [...srcViews]);\r\n    compute.isGetPdownLock = false;\r\n  }\r\n\r\n  function onCapturePointerdownFinsh(event) {\r\n    compute.srcViews = [...srcViews];\r\n    currentView = srcViews.at(-1);\r\n    srcViews = [];\r\n  }\r\n\r\n  function onPointerdown(event) {\r\n    if (!compute.isGetPdownLock) {\r\n      onCapturePointerdownFinsh(event);\r\n      compute.isGetPdownLock = true;\r\n    }\r\n    $set(\"slideEventViews\", [...compute.srcViews]);\r\n  }\r\n\r\n  function destroy() {\r\n    view.removeEventListener(\"pointerdown\", onCapturePointerdown, {\r\n      passive: false,\r\n      capture: true,\r\n    });\r\n    view.removeEventListener(\"pointerdown\", onPointerdown);\r\n  }\r\n\r\n  function bindEvents() {\r\n    view.addEventListener(\"pointerdown\", onCapturePointerdown, { passive: false, capture: true });\r\n    view.addEventListener(\"pointerdown\", onPointerdown);\r\n    let config = { customEventName: \"\", direction: \"\", ...options };\r\n    if (config.customEventName) {\r\n      customEventNameMap.set(config.customEventName, config.customEventName);\r\n      $set(\"slideCustomEventName\", config.customEventName);\r\n    }\r\n  }\r\n\r\n  return { bindEvents, destroy };\r\n}\r\n\r\nfunction undefinedReturn(params, def) {\r\n  if (isNaN(params)) return def;\r\n  if (params === undefined) return def;\r\n  return params;\r\n}\r\n\r\nfunction inheritPointerEvent(\r\n  name,\r\n  event = {},\r\n  eventInitDict = { bubbles: true, cancelable: true },\r\n) {\r\n  const newEvent = new SlideEvent(name, eventInitDict);\r\n  for (const key in event) {\r\n    try {\r\n      if (newEvent[key] === undefined) newEvent[key] = event[key];\r\n    } catch (error) {\r\n      console.warn(error);\r\n    }\r\n  }\r\n  return newEvent;\r\n}\r\n\r\nfunction calcHypotenuse(a, b) {\r\n  return Math.sqrt(a * a + b * b);\r\n}\r\n\r\nfunction calculateAngle(dx, dy) {\r\n  const angleRadians = Math.atan2(dy, dx);\r\n  const angleDegrees = angleRadians * (180 / Math.PI);\r\n  const angleNormalized = 360 - ((angleDegrees + 360) % 360);\r\n  return angleNormalized;\r\n}\r\n\r\nfunction stringUpperFirstCase(str) {\r\n  const s = str[0].toUpperCase() + str.slice(1);\r\n  return s;\r\n}\r\n","import { SlideEvent } from \"./slide.js\";\r\n\r\nexport class ScrollEvent extends SlideEvent {\r\n  scrollTop = undefined;\r\n}\r\n\r\nexport function inheritSlideEvent(\r\n  name,\r\n  event = {},\r\n  eventInitDict = { bubbles: true, cancelable: true },\r\n) {\r\n  const newEvent = new ScrollEvent(name, eventInitDict);\r\n  for (const key in event) {\r\n    try {\r\n      if (newEvent[key] === undefined) newEvent[key] = event[key];\r\n    } catch (error) {\r\n      console.warn(error);\r\n    }\r\n  }\r\n  return newEvent;\r\n}\r\n","import \"./index.css\";\r\nimport { RainbowElement, createCustomEvent } from \"../../base/index.js\";\r\nimport { extendedSlideEvents } from \"../../events/slide.js\";\r\nimport { inheritSlideEvent } from \"../../events/scroll.js\";\r\nimport { arrayRemove, arrayWipeRepetition } from \"@rainbow_ljy/rainbow-js\";\r\nconst LOG = (...arg) => console.log(...arg);\r\n\r\nexport class RNestedScroll extends RainbowElement {\r\n  static observedAttributes = this.$registerProps({\r\n    \"r-scroll-direction\": String,\r\n  });\r\n\r\n  $slotContainer = {\r\n    default: document.createElement(\"div\"),\r\n  };\r\n\r\n  $$ = {\r\n    nestedChild: undefined,\r\n    nestedChildren: [],\r\n    nestedParent: undefined,\r\n    setNestedChild: () => {\r\n      if (this.$$.nestedChildren.length === 1) {\r\n        this.$$.nestedChild = this.$$.nestedChildren[0];\r\n        return;\r\n      }\r\n      if (!this.$$.nestedChildren.length) return;\r\n      const mOffset = this.getBoundingClientRect();\r\n      // console.log(mOffset);\r\n      //   this.$$.nestedChildren.forEach(element => {\r\n      //     const offset = element.getBoundingClientRect()\r\n      //    console.log(offset);\r\n      //  });\r\n      this.$$.nestedChild = this.$$.nestedChildren.find((ele) => {\r\n        const offset = ele.getBoundingClientRect();\r\n        return offset.left - mOffset.left >= -1 && offset.right <= mOffset.right + 1;\r\n      });\r\n\r\n      // console.log( \"this.$$.nestedChild\");\r\n      // console.log( this.$$.nestedChild);\r\n    },\r\n\r\n    captureOptions: { passive: false, capture: true },\r\n    slideEvent: extendedSlideEvents(this, {\r\n      // direction: [\"top\", \"bottom\"],\r\n      // customEventName: \"scroll\",\r\n    }),\r\n    scrollEvent: setup({\r\n      scrollEl: this,\r\n      container: this.$slotContainer.default,\r\n    }),\r\n    disabledScroll: () => {},\r\n    unDisabledScroll: () => {},\r\n  };\r\n\r\n  constructor(...arg) {\r\n    super(...arg);\r\n  }\r\n\r\n  connectedCallback(...arg) {\r\n    super.connectedCallback(...arg);\r\n    this.$.appendChild(this.$slotContainer.default);\r\n    this.$$.nestedParent = this.$.findParentByLocalName([\"r-nested-scroll\"]);\r\n    if (this.$$.nestedParent) this.$$.nestedParent.$$.nestedChildren.push(this);\r\n    this.$$.setNestedChild();\r\n    this.$slotContainer.default.classList.add(\"r-nested-scroll-content\");\r\n    this.classList.add(\"r-nested-scroll\");\r\n    this.$$.slideEvent.bindEvents();\r\n    this.$$.scrollEvent.bindEvents();\r\n  }\r\n\r\n  disconnectedCallback(...arg) {\r\n    super.disconnectedCallback(...arg);\r\n    if (this.$$.nestedParent) arrayRemove(this.$$.nestedParent.$$.nestedChildren, this);\r\n    this.$$.slideEvent.destroy();\r\n    this.$$.scrollEvent.destroy();\r\n  }\r\n}\r\n\r\nfunction setup(props) {\r\n  const { scrollEl, container, view = scrollEl } = props;\r\n  let ani;\r\n  let adsorbAni;\r\n  const coefficient = 20;\r\n  let isScrollToBottomEnd = () =>\r\n    scrollEl.offsetHeight + Math.ceil(scrollEl.scrollTop) >= container.offsetHeight;\r\n  let isScrollToTopEnd = () => scrollEl.scrollTop <= 0;\r\n  let maxScrollTop = () => container.offsetHeight - scrollEl.offsetHeight;\r\n  let isScrollRightEnd = () => scrollEl.offsetWidth + scrollEl.scrollLeft >= container.offsetWidth;\r\n  let isScrollLeftEnd = () => scrollEl.scrollLeft <= 0;\r\n  let maxScrollLeft = () => container.offsetWidth - scrollEl.offsetWidth;\r\n\r\n  let parent = () => view.$.findParentByLocalName([\"r-nested-scroll\"]);\r\n\r\n  let rollingConflict = (event, orientation = \"vertical\") => {\r\n    let conflict = event.srcViews.every((el) => el.$.DATA.rScrollDirection === orientation);\r\n    if (!conflict && event.orientation !== orientation) return true;\r\n    return false;\r\n  };\r\n\r\n  function slideCaptureTop(event) {\r\n    if (rollingConflict(event, \"vertical\")) return;\r\n    // 如果滚动到了底部 就不消费事件 return 出去\r\n    // 如果没滚动到底部消费事件 并阻止事件向下传递\r\n    // console.log(view.className, isScrollToBottomEnd());\r\n    if (isScrollToBottomEnd()) return;\r\n    event.stopPropagation();\r\n    doScrollTop(event.moveY, event);\r\n  }\r\n\r\n  function slideBottom(event) {\r\n    if (rollingConflict(event, \"vertical\")) return;\r\n    // 如果滚动到了顶部 就不消费事件 return 出去\r\n    // 如果没滚动顶部 就去消费事件 并阻止事件向上冒泡\r\n    if (isScrollToTopEnd()) return;\r\n    event.stopPropagation();\r\n    doScrollBottom(event.moveY);\r\n  }\r\n\r\n  function slideCaptureTopEnd(event) {\r\n    if (rollingConflict(event, \"vertical\")) return;\r\n    // 如果滚动到了底部 就不消费事件 return 出去\r\n    // 如果没滚动到底部消费事件 并阻止事件向下传递\r\n    if (isScrollToBottomEnd()) return;\r\n    event.stopPropagation();\r\n    // LOG('清除动画 滚动结束并产生速度 slideCaptureTopEnd', event.velocityY);\r\n    dispatchScrollTopFlying(event.velocityY, event);\r\n  }\r\n\r\n  function slideBottomEnd(event) {\r\n    if (rollingConflict(event, \"vertical\")) return;\r\n    // 如果滚动到了顶部 就不消费事件 return 出去\r\n    // 如果没滚动顶部 就去消费事件 并阻止事件向上冒泡\r\n    if (isScrollToTopEnd()) return;\r\n    event.stopPropagation();\r\n    // LOG('清除动画 滚动结束并产生速度 slideBottomEnd', event.velocityY);\r\n    dispatchScrollBottomFlying(event.velocityY, event);\r\n  }\r\n\r\n  function doScrollBottom(moveY, event) {\r\n    let scrollTop = scrollEl.scrollTop + moveY;\r\n    if (scrollTop < 0) scrollTop = 0;\r\n    scrollEl.scrollTop = scrollTop;\r\n    view.dispatchEvent(createEvent(\"scrollDown\", event));\r\n    view.dispatchEvent(createEvent(\"scrollChange\", event));\r\n    if (isScrollToTopEnd()) view.dispatchEvent(createEvent(\"scrollTop\", event));\r\n  }\r\n\r\n  function createEvent(name, event = {}) {\r\n    return inheritSlideEvent(name, {\r\n      ...event,\r\n      scrollTop: scrollEl.scrollTop,\r\n      scrollHeight: scrollEl.offsetHeight,\r\n      containerHeight: container.offsetHeight,\r\n      space: event?.moveY,\r\n    });\r\n  }\r\n\r\n  function doScrollTop(moveY, event = {}) {\r\n    let scrollTop = scrollEl.scrollTop + moveY;\r\n    if (scrollTop > maxScrollTop()) scrollTop = maxScrollTop() + 2;\r\n    scrollEl.scrollTop = scrollTop;\r\n    view.dispatchEvent(createEvent(\"scrollUp\", event));\r\n    view.dispatchEvent(createEvent(\"scrollChange\", event));\r\n    if (isScrollToBottomEnd()) view.dispatchEvent(createEvent(\"scrollBottom\", event));\r\n  }\r\n\r\n  function dispatchScrollTopFlying(velocity, event) {\r\n    ani?.stop?.();\r\n    ani = cAni({\r\n      velocity,\r\n      onanimation(v) {\r\n        const moveY = Math.ceil(v * coefficient);\r\n        if (moveY > 0) {\r\n          doScrollTop(moveY, event);\r\n          if (isScrollToBottomEnd()) {\r\n            ani?.stop?.();\r\n            LOG(\"滚动停止 到底停止\");\r\n            view.$$.nestedChild?.$$?.scrollEvent?.dispatchScrollTopFlying?.(v, event);\r\n          }\r\n        }\r\n      },\r\n      onanimationEnd(v) {\r\n        LOG(\"滚动停止 scrollEnd \");\r\n        view.dispatchEvent(createEvent(\"scrollEnd\", event));\r\n      },\r\n    });\r\n    ani.start();\r\n  }\r\n\r\n  function dispatchScrollBottomFlying(velocity, event) {\r\n    ani?.stop?.();\r\n    ani = cAni({\r\n      velocity,\r\n      onanimation(v) {\r\n        const moveY = Math.ceil(v * coefficient);\r\n        if (moveY < 0) {\r\n          doScrollBottom(moveY, event);\r\n          if (isScrollToTopEnd()) {\r\n            ani?.stop?.();\r\n            LOG(\"滚动停止 到顶部停止\");\r\n            parent()?.$$?.scrollEvent?.dispatchScrollBottomFlying?.(v, event);\r\n            // expose.parent?.dispatchScrollBottomFlying?.(v)\r\n          }\r\n        }\r\n      },\r\n      onanimationEnd(v) {\r\n        LOG(\"滚动停止\");\r\n        view.dispatchEvent(createEvent(\"scrollEnd\", event));\r\n      },\r\n    });\r\n    ani.start();\r\n  }\r\n\r\n  function slideLeft(event) {\r\n    if (event.orientation !== \"horizontal\") return;\r\n    // 如果没有滚动到了最右边 就不消费事件 return 出去\r\n    // 如果滚动到了最右边 就去消费事件 并阻止事件向上冒泡\r\n    if (isScrollRightEnd()) return;\r\n    event.stopPropagation();\r\n\r\n    let scrollLeft = scrollEl.scrollLeft + event.moveX;\r\n    if (scrollLeft > maxScrollLeft()) scrollLeft = maxScrollLeft() + 2;\r\n    scrollEl.scrollLeft = scrollLeft;\r\n    view.$$.setNestedChild();\r\n  }\r\n\r\n  function slideRight(event) {\r\n    if (event.orientation !== \"horizontal\") return;\r\n    // 如果没有滚动到了最左边 就不消费事件 return 出去\r\n    // 如果滚动到了最左边 就去消费事件 并阻止事件向上冒泡\r\n    if (isScrollLeftEnd()) return;\r\n    event.stopPropagation();\r\n\r\n    let scrollLeft = scrollEl.scrollLeft + event.moveX;\r\n    if (scrollLeft < 0) scrollLeft = 0;\r\n    scrollEl.scrollLeft = scrollLeft;\r\n    view.$$.setNestedChild();\r\n  }\r\n\r\n  function slideLeftEnd(event) {\r\n    slideLeftRightEnd(event);\r\n  }\r\n\r\n  function slideRightEnd(event) {\r\n    slideLeftRightEnd(event);\r\n  }\r\n\r\n  function slideLeftRightEnd(event) {\r\n    if (event.orientation !== \"horizontal\") return;\r\n    if (isScrollRightEnd()) return;\r\n    if (isScrollLeftEnd()) return;\r\n    event.stopPropagation();\r\n\r\n    const from = scrollEl.scrollLeft;\r\n    const index = Math.floor(from / scrollEl.offsetWidth);\r\n    const roundIndex = Math.round(from / scrollEl.offsetWidth);\r\n    let adsIndex = roundIndex;\r\n    if (event.velocityX > 0.4) adsIndex = index + 1;\r\n    if (event.velocityX < -0.4) adsIndex = index;\r\n    console.log(index, roundIndex);\r\n    const to = scrollEl.offsetWidth * adsIndex;\r\n    adsorbAni = Animation({\r\n      from: from,\r\n      to: to,\r\n      avg: 30,\r\n      onanimation(aLeft) {\r\n        scrollEl.scrollLeft = aLeft;\r\n        view.$$.setNestedChild();\r\n      },\r\n      onanimationend() {\r\n        //   expose.index = index;\r\n        //   if (parent) parent.child = expose?.children?.[expose.index];\r\n        //   props.listHook?.updateIndex?.(expose.index);\r\n      },\r\n    });\r\n    adsorbAni.start();\r\n  }\r\n\r\n  function bindEvents() {\r\n    const { rScrollDirection } = scrollEl.$.DATA;\r\n    const bubble = { passive: true, capture: false };\r\n    const capture = { passive: true, capture: true };\r\n    console.log(\"rScrollDirection\", rScrollDirection);\r\n\r\n    if (rScrollDirection === \"vertical\") {\r\n      scrollEl.addEventListener(\"slideTop\", slideCaptureTop, capture);\r\n      scrollEl.addEventListener(\"slideBottom\", slideBottom, bubble);\r\n      scrollEl.addEventListener(\"slideTopEnd\", slideCaptureTopEnd, capture);\r\n      scrollEl.addEventListener(\"slideBottomEnd\", slideBottomEnd, bubble);\r\n    }\r\n\r\n    if (rScrollDirection === \"horizontal\") {\r\n      scrollEl.addEventListener(\"slideLeft\", slideLeft, bubble);\r\n      scrollEl.addEventListener(\"slideRight\", slideRight, bubble);\r\n      scrollEl.addEventListener(\"slideLeftEnd\", slideLeftEnd, bubble);\r\n      scrollEl.addEventListener(\"slideRightEnd\", slideRightEnd, bubble);\r\n    }\r\n  }\r\n\r\n  function destroy() {}\r\n\r\n  return { bindEvents, destroy, dispatchScrollTopFlying, dispatchScrollBottomFlying };\r\n}\r\n\r\nfunction cAni(config = {}) {\r\n  let time;\r\n  const opt = {\r\n    velocity: 0,\r\n    deceleration: 0.04,\r\n    onanimation: () => undefined,\r\n    onanimationEnd: () => undefined,\r\n    ...config,\r\n  };\r\n  let stopAction = false;\r\n\r\n  const isReduce = opt.velocity < 0;\r\n\r\n  function animaMinus() {\r\n    if (stopAction) return cancelAnimationFrame(time);\r\n    time = requestAnimationFrame(() => {\r\n      if (stopAction) return cancelAnimationFrame(time);\r\n      opt.velocity = Number((opt.velocity + opt.deceleration).toFixed(3));\r\n      if (opt.velocity > 0) opt.velocity = 0;\r\n      if (opt.velocity >= 0) {\r\n        stop();\r\n        opt.onanimationEnd(opt.velocity);\r\n        return;\r\n      }\r\n      if (stopAction) return cancelAnimationFrame(time);\r\n      // LOG('onanimation')\r\n      opt.onanimation(opt.velocity);\r\n      animaMinus();\r\n    });\r\n  }\r\n\r\n  function animaAdd() {\r\n    if (stopAction) return cancelAnimationFrame(time);\r\n    time = requestAnimationFrame(() => {\r\n      if (stopAction) return cancelAnimationFrame(time);\r\n      opt.velocity = Number((opt.velocity - opt.deceleration).toFixed(3));\r\n      if (opt.velocity < 0) opt.velocity = 0;\r\n      if (opt.velocity <= 0) {\r\n        stop();\r\n        opt.onanimationEnd(opt.velocity);\r\n        return;\r\n      }\r\n      if (stopAction) return cancelAnimationFrame(time);\r\n      // LOG('onanimation')\r\n      opt.onanimation(opt.velocity);\r\n      animaAdd();\r\n    });\r\n  }\r\n\r\n  function anima() {\r\n    if (isReduce) animaMinus();\r\n    else animaAdd();\r\n  }\r\n\r\n  function stop() {\r\n    stopAction = true;\r\n    cancelAnimationFrame(time);\r\n  }\r\n\r\n  function start() {\r\n    stopAction = false;\r\n    anima();\r\n  }\r\n\r\n  return { start, stop };\r\n}\r\n\r\nfunction Animation(config = {}) {\r\n  let timer;\r\n  let stopAction = false;\r\n  const opt = {\r\n    from: 0,\r\n    to: 300,\r\n    avg: 10,\r\n    duration: 500,\r\n    onanimationend: () => undefined,\r\n    onanimation: () => undefined,\r\n    ...config,\r\n  };\r\n  let value = opt.from;\r\n\r\n  function flash() {\r\n    if (opt.from < opt.to) {\r\n      value = value + opt.avg;\r\n      if (value >= opt.to) value = opt.to;\r\n      opt.onanimation(value);\r\n      if (value >= opt.to) {\r\n        opt.onanimationend(value);\r\n        stop();\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (opt.from > opt.to) {\r\n      value = value - opt.avg;\r\n      if (value <= opt.to) value = opt.to;\r\n      opt.onanimation(value);\r\n      if (value <= opt.to) {\r\n        opt.onanimationend(value);\r\n        stop();\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  function start() {\r\n    if (stopAction) return cancelAnimationFrame(timer);\r\n    timer = requestAnimationFrame(() => {\r\n      if (stopAction) return cancelAnimationFrame(timer);\r\n      flash();\r\n      start();\r\n    });\r\n  }\r\n\r\n  function stop() {\r\n    stopAction = true;\r\n    cancelAnimationFrame(timer);\r\n  }\r\n\r\n  return { start, stop };\r\n}\r\n","import \"./index.css\";\nimport { RainbowElement, createCustomEvent, createElement } from \"../../base/index.js\";\nimport { setTimeoutPromise } from \"@rainbow_ljy/rainbow-js\";\n\nexport class RRefresh extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-refresh-heignt\": { type: String, default: \"0\" },\n    \"r-max-refresh-heignt\": { type: String, default: \"0\" },\n    \"r-min-time\": { type: String, default: \"500\" },\n  });\n\n  onrefresh() {}\n\n  $$renderRefresh() {\n    const circle = document.createElement(\"r-circle\");\n    circle.classList.add(\"r-scroll-refresh-circle\");\n    const loadIcon = document.createElement(\"i\");\n    loadIcon.classList.add(\"loading-icon\", \"iconfont\", \"r-scroll-refresh-loading\");\n    loadIcon.innerHTML = \"&#xe607;\";\n    const text = document.createElement(\"div\");\n    text.classList.add(\"r-scroll-refresh-text\");\n\n    this.$.append(circle);\n    this.$.append(loadIcon);\n    this.$.append(text);\n\n    const handleLoading = () => {\n      if (!this.$$.loading) {\n        loadIcon.classList.add(\"r-scroll-refresh-loading-hide\");\n        circle.classList.remove(\"r-scroll-refresh-circle-hide\");\n      } else {\n        loadIcon.classList.remove(\"r-scroll-refresh-loading-hide\");\n        circle.classList.add(\"r-scroll-refresh-circle-hide\");\n      }\n    };\n\n    handleLoading();\n    return () => {\n      handleLoading();\n      const { rRefreshHeignt } = this.$.DATA;\n      circle.value = (this.$$.height / rRefreshHeignt) * 100;\n      text.innerText = (() => {\n        if (this.$$.loading) return \"正在刷新\";\n        if (this.$$.release) return \"释放刷新\";\n        return \"下拉刷新\";\n      })();\n    };\n  }\n\n  $$ = {\n    createPromise: () => {\n      return new Promise((resolve) => {\n        this.$$.resolve = resolve;\n      });\n    },\n    resolve: () => 0,\n    promise: undefined,\n    scrollView: createElement(\"div\"),\n    loading: false,\n    DATA: this.$.DATA,\n    get release() {\n      const { rRefreshHeignt } = this.DATA;\n      return this.height > rRefreshHeignt;\n    },\n    render: () => {},\n    pointerdownEvent: undefined,\n    touchstartEvent: undefined,\n    lock: false,\n    height: 0,\n    pointerdown: (event) => {\n      if (this.$$.loading === true) return;\n      // event.stopPropagation();\n      this.$$.pointerdownEvent = event;\n      this.$$.lock = false;\n    },\n    pointermove: (event) => {\n      if (this.$$.loading === true) return;\n      // event.stopPropagation();\n      const moveY = event.pageY - this.$$.pointerdownEvent.pageY;\n      const { scrollView } = this.$$;\n      if (scrollView.scrollTop > 0) {\n        scrollView.removeEventListener(\"pointermove\", this.$$.pointermove);\n        this.$$.lock = false;\n        return;\n      }\n      if (moveY >= 8 && scrollView.scrollTop <= 0) this.$$.lock = true;\n    },\n    touchstart: (event) => {\n      if (this.$$.loading === true) return;\n      // event.stopPropagation();\n      this.$$.touchstartEvent = event.touches[0];\n    },\n    touchmove: (event) => {\n      if (this.$$.loading === true) return;\n      if (!this.$$.lock) return;\n      const { rMaxRefreshHeignt } = this.$.DATA;\n      // event.stopPropagation();\n      let moveY = event.touches[0].pageY - this.$$.touchstartEvent.pageY;\n      event.stopImmediatePropagation();\n      event.preventDefault();\n      if (moveY < 0) moveY = 0;\n      this.classList.remove(\"r-scroll-refresh-transition\");\n      this.$$.height = (moveY / (rMaxRefreshHeignt / 2 + moveY)) * rMaxRefreshHeignt;\n      event.refreshHeight = this.$$.height;\n      this.style.height = this.$$.height + \"px\";\n      this.$$.render();\n    },\n    touchend: async (event) => {\n      if (this.$$.loading === true) return;\n      if (!this.$$.lock) return;\n      // event.stopPropagation();\n      const { scrollView } = this.$$;\n      const { rRefreshHeignt, rMinTime } = this.$.DATA;\n      this.classList.add(\"r-scroll-refresh-transition\");\n      const release = this.$$.release;\n      this.$$.height = release ? rRefreshHeignt : 0;\n      this.$$.lock = false;\n      event.refreshHeight = this.$$.height;\n      this.style.height = this.$$.height + \"px\";\n      this.$$.render();\n      if (release) {\n        this.$$.loading = true;\n        this.$$.render();\n        scrollView.$$.disabledScroll();\n        this.$$.promise = this.$$.createPromise();\n        event.resolve = this.$$.resolve;\n        this.dispatchEvent(createCustomEvent(\"refresh\", event));\n        await Promise.allSettled(\n          [setTimeoutPromise(rMinTime, true), this.onrefresh(), this.$$.promise].filter(Boolean),\n        );\n        this.$$.height = 0;\n        event.refreshHeight = this.$$.height;\n        this.$$.loading = false;\n        this.style.height = this.$$.height + \"px\";\n        this.$$.render();\n        scrollView.$$.unDisabledScroll();\n      }\n    },\n    bindEvents: (scrollView) => {\n      this.$$.scrollView = scrollView;\n      const opt = { passive: false, capture: true };\n      scrollView.addEventListener(\"pointerdown\", this.$$.pointerdown, opt);\n      scrollView.addEventListener(\"pointermove\", this.$$.pointermove, opt);\n      scrollView.addEventListener(\"touchstart\", this.$$.touchstart);\n      scrollView.addEventListener(\"touchmove\", this.$$.touchmove);\n      scrollView.addEventListener(\"touchend\", this.$$.touchend);\n      this.$$.render = this.$$renderRefresh();\n    },\n    unbindEvents: () => {\n      const { scrollView } = this.$$;\n      scrollView.removeEventListener(\"pointerdown\", this.$$.pointerdown);\n      scrollView.removeEventListener(\"pointermove\", this.$$.pointermove);\n      scrollView.removeEventListener(\"touchstart\", this.$$.touchstart);\n      scrollView.removeEventListener(\"touchmove\", this.$$.touchmove);\n      scrollView.removeEventListener(\"touchend\", this.$$.touchend);\n    },\n  };\n\n  constructor(...arg) {\n    super(...arg);\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    // this.$$.scrollView = this.$.findChildByLocalName([\"r-scroll\"]);\n    // const child = document.getElementsByTagName(\"r-scroll\");\n    // console.log(this.$$.scrollView);\n    // const { scrollView } = this.$$;\n    // const opt = { passive: false, capture: true };\n    // scrollView.addEventListener(\"pointerdown\", this.$$.pointerdown, opt);\n    // scrollView.addEventListener(\"pointermove\", this.$$.pointermove, opt);\n    // scrollView.addEventListener(\"touchstart\", this.$$.touchstart);\n    // scrollView.addEventListener(\"touchmove\", this.$$.touchmove);\n    // scrollView.addEventListener(\"touchend\", this.$$.touchend);\n    // this.$$.render = this.$$renderRefresh();\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    // const { scrollView } = this.$$;\n    // scrollView.removeEventListener(\"pointerdown\", this.$$.pointerdown);\n    // scrollView.removeEventListener(\"pointermove\", this.$$.pointermove);\n    // scrollView.removeEventListener(\"touchstart\", this.$$.touchstart);\n    // scrollView.removeEventListener(\"touchmove\", this.$$.touchmove);\n    // scrollView.removeEventListener(\"touchend\", this.$$.touchend);\n  }\n}\n","import \"./index.css\";\nimport { RainbowElement, createCustomEvent, createElement, createSlot } from \"../../base/index.js\";\n\nexport class RScroll extends RainbowElement {\n  $$ = {\n    refreshView: undefined,\n    prveScrollTop: 0,\n    onScroll: (event) => {\n      event.scrollTop = this.scrollTop;\n      event.moveY = this.$$.prveScrollTop - this.scrollTop;\n      if (event.moveY < 0) this.dispatchEvent(createCustomEvent(\"scrollUp\", event));\n      if (event.moveY > 0) this.dispatchEvent(createCustomEvent(\"scrollDown\", event));\n      this.$$.prveScrollTop = this.scrollTop;\n    },\n    disabledScroll: () => {\n      this.classList.add(\"r-scroll-disabled\");\n    },\n    unDisabledScroll: () => {\n      this.classList.remove(\"r-scroll-disabled\");\n    },\n  };\n\n  constructor(...arg) {\n    super(...arg);\n    this.addEventListener(\"scroll\", this.$$.onScroll);\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.$$.refreshView = this.$.findParentByLocalName(\"r-refresh\");\n    this.$$.refreshView?.$$?.bindEvents?.(this);\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    this.$$.refreshView?.$$?.unbindEvents?.();\n  }\n}\n","import \"./index.css\";\nimport { RainbowElement, createCustomEvent } from \"../../base/index.js\";\nimport { setTimeoutPromise } from \"@rainbow_ljy/rainbow-js\";\n\nexport class RScrollRefresh extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-refresh-heignt\": { type: String, default: \"0\" },\n    \"r-max-refresh-heignt\": { type: String, default: \"0\" },\n    \"r-min-time\": { type: String, default: \"500\" },\n  });\n\n  onrefresh() {}\n\n  $$renderRefresh() {\n    const circle = document.createElement(\"r-circle\");\n    circle.classList.add(\"r-scroll-refresh-circle\");\n    const loadIcon = document.createElement(\"i\");\n    loadIcon.classList.add(\"loading-icon\", \"iconfont\", \"r-scroll-refresh-loading\");\n    loadIcon.innerHTML = \"&#xe607;\";\n    const text = document.createElement(\"div\");\n    text.classList.add(\"r-scroll-refresh-text\");\n\n    this.$.append(circle);\n    this.$.append(loadIcon);\n    this.$.append(text);\n\n    const handleLoading = () => {\n      if (!this.$$.loading) {\n        loadIcon.classList.add(\"r-scroll-refresh-loading-hide\");\n        circle.classList.remove(\"r-scroll-refresh-circle-hide\");\n      } else {\n        loadIcon.classList.remove(\"r-scroll-refresh-loading-hide\");\n        circle.classList.add(\"r-scroll-refresh-circle-hide\");\n      }\n    };\n\n    handleLoading();\n    return () => {\n      handleLoading();\n      const { rRefreshHeignt } = this.$.DATA;\n      circle.value = (this.$$.height / rRefreshHeignt) * 100;\n      text.innerText = (() => {\n        if (this.$$.loading) return \"正在刷新\";\n        if (this.$$.release) return \"释放刷新\";\n        return \"下拉刷新\";\n      })();\n    };\n  }\n\n  $$ = {\n    createPromise: () => {\n      return new Promise((resolve) => {\n        this.$$.resolve = resolve;\n      });\n    },\n    resolve: () => 0,\n    promise: undefined,\n    scrollParent: undefined,\n    loading: false,\n    DATA: this.$.DATA,\n    get release() {\n      const { rRefreshHeignt } = this.DATA;\n      return this.height > rRefreshHeignt;\n    },\n    render: () => {},\n    pointerdownEvent: undefined,\n    touchstartEvent: undefined,\n    lock: false,\n    height: 0,\n    pointerdown: (event) => {\n      if (this.$$.loading === true) return;\n      // event.stopPropagation();\n      this.$$.pointerdownEvent = event;\n      this.$$.lock = false;\n    },\n    pointermove: (event) => {\n      if (this.$$.loading === true) return;\n      // event.stopPropagation();\n      const moveY = event.pageY - this.$$.pointerdownEvent.pageY;\n      const { scrollParent } = this.$$;\n      if (scrollParent.scrollTop > 0) {\n        scrollParent.removeEventListener(\"pointermove\", this.$$.pointermove);\n        this.$$.lock = false;\n        return;\n      }\n      if (moveY >= 8 && scrollParent.scrollTop <= 0) this.$$.lock = true;\n    },\n    touchstart: (event) => {\n      if (this.$$.loading === true) return;\n      // event.stopPropagation();\n      this.$$.touchstartEvent = event.touches[0];\n    },\n    touchmove: (event) => {\n      if (this.$$.loading === true) return;\n      if (!this.$$.lock) return;\n      const { rMaxRefreshHeignt } = this.$.DATA;\n      // event.stopPropagation();\n      let moveY = event.touches[0].pageY - this.$$.touchstartEvent.pageY;\n      event.stopImmediatePropagation();\n      event.preventDefault();\n      if (moveY < 0) moveY = 0;\n      this.classList.remove(\"r-scroll-refresh-transition\");\n      this.$$.height = (moveY / (rMaxRefreshHeignt / 2 + moveY)) * rMaxRefreshHeignt;\n      event.refreshHeight = this.$$.height;\n      this.style.height = this.$$.height + \"px\";\n      this.$$.render();\n    },\n    touchend: async (event) => {\n      if (this.$$.loading === true) return;\n      if (!this.$$.lock) return;\n      // event.stopPropagation();\n      const { scrollParent } = this.$$;\n      const { rRefreshHeignt, rMinTime } = this.$.DATA;\n      this.classList.add(\"r-scroll-refresh-transition\");\n      const release = this.$$.release;\n      this.$$.height = release ? rRefreshHeignt : 0;\n      this.$$.lock = false;\n      event.refreshHeight = this.$$.height;\n      this.style.height = this.$$.height + \"px\";\n      this.$$.render();\n      if (release) {\n        this.$$.loading = true;\n        this.$$.render();\n        scrollParent.$$.disabledScroll();\n        this.$$.promise = this.$$.createPromise();\n        event.resolve = this.$$.resolve;\n        this.dispatchEvent(createCustomEvent(\"refresh\", event));\n        await Promise.allSettled(\n          [setTimeoutPromise(rMinTime, true), this.onrefresh(), this.$$.promise].filter(Boolean),\n        );\n        this.$$.height = 0;\n        event.refreshHeight = this.$$.height;\n        this.$$.loading = false;\n        this.style.height = this.$$.height + \"px\";\n        this.$$.render();\n        scrollParent.$$.unDisabledScroll();\n      }\n    },\n  };\n\n  constructor(...arg) {\n    super(...arg);\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.classList.add(\"r-scroll-refresh\");\n    this.$$.scrollParent = this.$.findParentByLocalName([\n      \"r-scroll\",\n      \"r-scroll-view\",\n      \"r-nested-scroll\",\n    ]);\n    const { scrollParent } = this.$$;\n    const opt = { passive: false, capture: true };\n    scrollParent.addEventListener(\"pointerdown\", this.$$.pointerdown, opt);\n    scrollParent.addEventListener(\"pointermove\", this.$$.pointermove, opt);\n    scrollParent.addEventListener(\"touchstart\", this.$$.touchstart);\n    scrollParent.addEventListener(\"touchmove\", this.$$.touchmove);\n    scrollParent.addEventListener(\"touchend\", this.$$.touchend);\n    this.$$.render = this.$$renderRefresh();\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    const { scrollParent } = this.$$;\n    scrollParent.removeEventListener(\"pointerdown\", this.$$.pointerdown);\n    scrollParent.removeEventListener(\"pointermove\", this.$$.pointermove);\n    scrollParent.removeEventListener(\"touchstart\", this.$$.touchstart);\n    scrollParent.removeEventListener(\"touchmove\", this.$$.touchmove);\n    scrollParent.removeEventListener(\"touchend\", this.$$.touchend);\n  }\n}\n\n\n","import './index.css';\r\nimport { RainbowElement } from '../../base/index.js'\r\n\r\nexport class RScrollMemoryBubble extends RainbowElement {\r\n    static observedAttributes = this.$registerProps({\r\n        'r-orientation': { type: String, default: \"right\" },  // \"left\" \"right\" \"top\" \"bottom\"\r\n        'r-init-visibility': { type: String, default: 'visible' }, // 'hidden' 'visible'\r\n        'r-visible-distance': { type: String, default: '100px' }, // px\r\n        'r-visible-reversal': String // 'noReversal' 'reversal'\r\n    });\r\n\r\n    $$visible = true;\r\n    $$cacheMoveY = 0;\r\n    $$scrollParent;\r\n\r\n    connectedCallback(...arg) {\r\n        super.connectedCallback(...arg);\r\n        this.$$visible = this.$.DATA.rInitVisibility === 'visible'\r\n        this.$$scrollParent = this.$.findParentByType('RScroll');\r\n\r\n        this.$$scrollParent.addEventListener('scrollUp', this.$$setVisibleFalse.bind(this))\r\n        this.$$scrollParent.addEventListener('scrollDown', this.$$setVisibleTrue.bind(this))\r\n    }\r\n\r\n    disconnectedCallback(...arg) {\r\n        super.connectedCallback(...arg);\r\n\r\n        this.$$scrollParent.removeEventListener('scrollUp', this.$$setVisibleFalse.bind(this));\r\n        this.$$scrollParent.removeEventListener('scrollDown', this.$$setVisibleTrue.bind(this));\r\n    }\r\n\r\n    $$setClass() {\r\n        const { rOrientation } = this.$.DATA\r\n        this.$.setClass(() => ([\r\n            \"r-scroll-memory-bubble-\" + rOrientation,\r\n            this.$$visible ? `r-scroll-memory-bubble-visible` : `r-scroll-memory-bubble-hide`,\r\n            this.$$visible ? `r-scroll-memory-bubble-visible-${rOrientation}` : `r-scroll-memory-bubble-hide-${rOrientation}`,\r\n        ]))\r\n    }\r\n\r\n    $$setVisibleTrue(event) {\r\n        if (this.$$visible === true) return this.$$cacheMoveY = 0;\r\n        this.$$cacheMoveY = this.$$cacheMoveY + Math.abs(event.moveY);\r\n        if (this.$$cacheMoveY >= this.$.DATA.rVisibleDistance) {\r\n            this.$$cacheMoveY = 0;\r\n            this.$$visible = true;\r\n            this.$$setClass();\r\n        }\r\n    }\r\n\r\n    $$setVisibleFalse(event) {\r\n        if (this.$$visible === false) return this.$$cacheMoveY = 0;\r\n        this.$$cacheMoveY = this.$$cacheMoveY + Math.abs(event.moveY);\r\n        if (this.$$cacheMoveY >= this.$.DATA.rVisibleDistance) {\r\n            this.$$cacheMoveY = 0;\r\n            this.$$visible = false;\r\n            this.$$setClass();\r\n        }\r\n    }\r\n\r\n    $render() {\r\n        this.$$setClass();\r\n    }\r\n}\r\n\r\n","import \"./index.css\";\nimport { RainbowElement, toggleClass } from \"../../base/index.js\";\n\nexport class RScrollSticky extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    top: Number,\n    bottom: Number,\n    \"r-active-top\": Number, // r-scroll-sticky-act 的高度\n    \"r-active-bottom\": Number, // r-scroll-sticky-act 的高度\n    \"r-scroll-anima\": Number,\n    \"r-opacity-ani\": Boolean,\n    \"r-opacity-top\": Number,\n    \"r-visible-ani\": Boolean,\n    \"r-visible-top\": Number,\n    \"r-opacity-delay\": Number,\n  });\n\n  $$ = {\n    class: this.$$onGetClass(),\n    top: {\n      isSticky: false,\n      isStickyTop: false,\n      isStickyBottom: false,\n      isStickyAct: false,\n    },\n    bottom: {\n      isSticky: false,\n      isStickyTop: false,\n      isStickyBottom: false,\n      isStickyAct: false,\n    },\n    scrollParent: document.createElement(\"div\"),\n    onScroll: (event) => {\n      let { scrollTop } = event;\n      const offsetTop = this.$.getOffsetTop(this);\n      this.$$.stickyBottom(scrollTop, offsetTop);\n      this.$$.stickyTop(scrollTop, offsetTop);\n    },\n    stickyTop: (scrollTop, offsetTop) => {\n      const { top, rActiveTop } = this.$.DATA;\n      let stickyTop = offsetTop - scrollTop;\n      if (Math.abs(stickyTop - top) < 0.5) stickyTop = top;\n      this.$$.top.isSticky = top === stickyTop;\n      this.$$.top.isStickyTop = top >= stickyTop;\n      this.$$.top.isStickyBottom = top <= stickyTop;\n      this.$$.top.isStickyAct = scrollTop >= rActiveTop;\n      const { isSticky, isStickyAct, isStickyTop, isStickyBottom } = this.$$.top;\n      const topClass = this.$$.class.top;\n      toggleClass(this, isSticky, topClass.isSticky, topClass.unSticky);\n      toggleClass(this, isStickyAct, topClass.isStickyAct, topClass.unStickyAct);\n      toggleClass(this, isStickyTop, topClass.isStickyTop, topClass.unStickyTop);\n      toggleClass(this, isStickyBottom, topClass.isStickyBottom, topClass.unStickyBottom);\n    },\n    stickyBottom: (scrollTop, offsetTop) => {\n      const { bottom, rActiveBottom } = this.$.DATA;\n      let stickyTop = offsetTop - scrollTop;\n      let pTop = Math.round(this.$$.scrollParent.offsetHeight - bottom - this.offsetHeight);\n      if (Math.abs(stickyTop - pTop) < 0.8) stickyTop = pTop;\n      this.$$.bottom.isSticky = pTop === stickyTop;\n      const { isSticky, isStickyAct, isStickyTop, isStickyBottom } = this.$$.bottom;\n      const bottomClass = this.$$.class.bottom;\n      toggleClass(this, isSticky, bottomClass.isSticky, bottomClass.unSticky);\n      // console.log(stickyTop);\n    },\n  };\n\n  $$onGetClass() {\n    return {\n      top: {\n        isSticky: \"r-scroll-sticky-sticky-top\",\n        unSticky: \"r-scroll-sticky-unsticky-top\",\n        isStickyAct: \"r-scroll-sticky-act-top\",\n        unStickyAct: \"r-scroll-sticky-unact-top\",\n        isStickyTop: \"r-scroll-sticky-top-top\",\n        unStickyTop: \"r-scroll-sticky-untop-top\",\n        isStickyBottom: \"r-scroll-sticky-bottom-top\",\n        unStickyBottom: \"r-scroll-sticky-unbottom-top\",\n      },\n      bottom: {\n        isSticky: \"r-scroll-sticky-sticky-bottom\",\n        unSticky: \"r-scroll-sticky-unsticky-bottom\",\n      },\n    };\n  }\n\n  $render() {\n    console.log(this.$.data);\n    this.$$.onScroll({ scrollTop: this.$$.scrollParent.scrollTop });\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.$$.scrollParent = this.$.findParentByLocalName([\n      \"r-scroll\",\n      \"r-scroll-view\",\n      \"r-nested-scroll\",\n    ]);\n    this.$$.scrollParent.addEventListener(\"scroll\", this.$$.onScroll.bind(this));\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    this.$$.scrollParent.removeEventListener(\"scroll\", this.$$.onScroll.bind(this));\n  }\n}\n\nexport class RScrollFixed extends RScrollSticky {\n  $$onGetClass() {\n    return {\n      top: {\n        isSticky: \"r-scroll-fixed-fixed-top\",\n        unSticky: \"r-scroll-fixed-unfixed-top\",\n        isStickyAct: \"r-scroll-fixed-act-top\",\n        unStickyAct: \"r-scroll-fixed-unact-top\",\n        isStickyTop: \"r-scroll-fixed-top-top\",\n        unStickyTop: \"r-scroll-fixed-untop-top\",\n        isStickyBottom: \"r-scroll-fixed-bottom-top\",\n        unStickyBottom: \"r-scroll-fixed-unbottom-top\",\n      },\n      bottom: {\n        isSticky: \"r-scroll-fixed-fixed-bottom\",\n        unSticky: \"r-scroll-fixed-unfixed-bottom\",\n      },\n    };\n  }\n}\n\n// get $$opacityTop() {\n//     if (this.$attrs['opacity-top'] !== undefined) return this.$attrs['opacity-top']\n//     return this.$initTop\n// }\n\n// get $visibleTop() {\n//     if (this.$attrs['visible-top'] !== undefined) return this.$attrs['visible-top']\n//     return this.$$opacityTop\n// }\n\n// $$onScroll(event) {\n//   console.log(\"onScroll\", event);\n//   // console.log(this.$attrs);\n//   // if (this.$attrs.top === undefined) return;\n//   // const { scrollTop, } = this.$scrollParent;\n//   // const { top, opacityDelay } = this.$attrs;\n//   // let oTop = Math.round(this.$getOffsetTop(this) - scrollTop);\n//   // this.$$isSticky = top === oTop;\n//   // this.$$isStickyTop = top >= oTop;\n//   // this.$$isStickyBottom = top <= oTop;\n//   // if (this.$attrs['active-top'] !== undefined) this.$$isStickyAct = scrollTop >= this.$attrs['active-top'];\n\n//   // const opacity = ((scrollTop - opacityDelay) / (this.$$opacityTop - top)).toFixed(3)\n//   // if (this.$attrs['opacity-ani'] === true) this.$$opacity = opacity\n//   // if (this.$attrs['opacity-ani'] === false) this.$$opacity = 1 - opacity\n\n//   // const visible = ((scrollTop) / (this.$visibleTop - top))\n//   // if (this.$attrs['visible-ani'] === true) this.$$display = visible > 1 ? 'block' : 'none';\n//   // if (this.$attrs['visible-ani'] === false) this.$$display = (1 - visible) < 0 ? 'none' : 'block';\n\n//   // this.$bindClass();\n//   // this.$bindStyle();\n// }\n","import \"./index.css\";\nimport { RainbowElement, createCustomEvent, createElement, createSlot } from \"../../base/index.js\";\n\nexport class RScrollView extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-element-style\": String,\n    \"r-container-style\": String,\n  });\n\n  $$ = {\n    top: createSlot(\"slot\", \"r-scroll-top\"),\n    container: createElement(\"div\", \"r-scroll-container\"),\n    default: createElement(\"div\", \"r-scroll-element\"),\n    defaultSlot: createSlot(\"slot\", \"r-scroll-element-slot\", \"\"),\n    prveScrollTop: 0,\n    onScroll: (event) => {\n      event.scrollTop = this.$$.default.scrollTop;\n      event.moveY = this.$$.prveScrollTop - this.$$.default.scrollTop;\n      if (event.moveY < 0) this.dispatchEvent(createCustomEvent(\"scrollUp\", event));\n      if (this.onscroll) this.onscroll(event);\n      this.dispatchEvent(createCustomEvent(\"scroll\", event));\n      if (event.moveY > 0) this.dispatchEvent(createCustomEvent(\"scrollDown\", event));\n      this.$$.prveScrollTop = this.$$.default.scrollTop;\n    },\n    disabledScroll: () => {\n      this.classList.add(\"r-scroll-view-disabled\");\n    },\n    unDisabledScroll: () => {\n      this.classList.remove(\"r-scroll-view-disabled\");\n    },\n  };\n\n  get scrollTop() {\n    return this.$$.default?.scrollTop;\n  }\n\n  set scrollTop(v) {\n    this.$$.default.scrollTop = v;\n  }\n\n  scrollBy(...arg) {\n    this.$$.default?.scrollBy?.(...arg);\n  }\n\n  scrollTo(...arg) {\n    this.$$.default?.scrollTo?.(...arg);\n  }\n\n  constructor(...arg) {\n    super(...arg);\n    this.attachShadow({ mode: \"open\" });\n    this.$$.default.append(this.$$.defaultSlot);\n    this.$$.container.append(this.$$.default);\n    this.shadowRoot.appendChild(this.$$.top);\n    this.shadowRoot.appendChild(this.$$.container);\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.$$.default.addEventListener(\"scroll\", this.$$.onScroll);\n    this.$$.prveScrollTop = this.$$.default.scrollTop;\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    this.$$.default.removeEventListener(\"scroll\", this.$$.onScroll);\n  }\n\n  $render() {\n    const { rElementStyle, rContainerStyle } = this.$.DATA;\n    this.$$.default.setAttribute(\"style\", rElementStyle);\n    this.$$.container.setAttribute(\"style\", rContainerStyle);\n  }\n}\n\n","import \"./index.css\";\nimport {\n  RainbowElement,\n  createElement,\n  createSlot,\n  Transition,\n  createCustomEvent,\n} from \"../../base/index.js\";\n\nexport class RPulldown extends RainbowElement {\n  $$ = {\n    value: false,\n    get dialog() {\n      return document.getElementById(\"aaa-dialog\");\n    },\n    click: () => {\n      console.log(this.$$.dialog);\n      this.$$.dialog.value= !this.$$.dialog.value;\n    },\n  };\n\n  set value(v) {\n    this.$$.value = v;\n    this.$$.dialog.value= v;\n  }\n\n  get value() {\n    return this.$$.value;\n  }\n\n  constructor(...arg) {\n    super(...arg);\n\n    this.addEventListener(\"click\", this.$$.click);\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n\n    console.log(this.$$.dialog);\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n  }\n}\n","import \"./index.css\";\r\nimport { RainbowElement } from \"../../base/index.js\";\r\nimport { arrayLoopMap } from \"@rainbow_ljy/rainbow-js\";\r\n\r\nexport class RRollingTextNum extends RainbowElement {\r\n  static observedAttributes = this.$registerProps({\r\n    \"r-initial-animation\": String, // true false\r\n    \"r-transition\": String,\r\n  });\r\n\r\n  $$container = document.createElement(\"span\");\r\n  $$measure = document.createElement(\"span\");\r\n  $$rotes = arrayLoopMap(10, () => document.createElement(\"span\"));\r\n  $$num = 10;\r\n  $$value = 0;\r\n  $$isMonted = false;\r\n\r\n  get $$deg() {\r\n    return 360 / this.$$num;\r\n  }\r\n\r\n  get value() {\r\n    return this.$$value;\r\n  }\r\n\r\n  set value(v) {\r\n    this.$$value = v;\r\n    console.log(\"set ------ value\", v);\r\n    // if (this.$$isMonted === false) return;\r\n    this.$$rotateX(true);\r\n    console.log(\"set value\", v);\r\n  }\r\n\r\n  // setValue(v, ani = true) {\r\n  //   this.$$value = v;\r\n  //   if (this.$$isMonted === false) return;\r\n  //   this.$$rotateX(ani);\r\n  // }\r\n\r\n  // constructor(...arg) {\r\n  //   super(...arg);\r\n  //   this.attachShadow({ mode: \"open\" });\r\n  //   this.$$container.className = \"r-rolling-num-container r-rolling-num-container-ani\";\r\n  //   this.$$container.setAttribute(\"part\", \"r-rolling-num-container r-rolling-num-container-ani \");\r\n  //   this.$$measure.className = \"r-rolling-num-measure\";\r\n  //   this.$$measure.setAttribute(\"part\", \"r-rolling-num-measure\");\r\n  //   this.$$measure.innerText = \"9\";\r\n  //   this.$$container.appendChild(this.$$measure);\r\n  //   this.shadowRoot.appendChild(this.$$container);\r\n  // }\r\n\r\n  $$renderNums() {\r\n    const deg = this.$$deg;\r\n    const sin = Math.sin((Math.PI / 180) * deg);\r\n    const translateZ = (sin + 0.9) * (this.$$measure.offsetHeight || 1);\r\n\r\n    this.$$rotes.forEach((div, index) => {\r\n      div.style.transform = `rotateX(${deg * index}deg)  translateZ(${translateZ}px)`;\r\n      div.setAttribute(\"part\", \"r-rolling-num-rotate\");\r\n      div.className = \"r-rolling-num-rotate\";\r\n      div.innerText = index;\r\n      this.$$container.appendChild(div);\r\n    });\r\n  }\r\n\r\n  async $$rotateX(isTransition) {\r\n    const { rTransition, rInitialAnimation } = this.$.DATA;\r\n    const rotateX = -((this.$$value / this.$$num) * 360);\r\n    let unactIndex = -Math.round(((rotateX - 180) % 360) / 36);\r\n\r\n    this.$$rotes.forEach((div, index) => {\r\n      let prveIndex = unactIndex - 1 < 0 ? 9 : unactIndex - 1;\r\n      let nextIndex = unactIndex + 1 > 9 ? 0 : unactIndex + 1;\r\n      let className = \"r-rolling-num-rotate\";\r\n      if (unactIndex === index) className = \"r-rolling-num-rotate r-rolling-num-rotate-unact\";\r\n      if (prveIndex === index) className = \"r-rolling-num-rotate r-rolling-num-rotate-unprve\";\r\n      if (nextIndex === index) className = \"r-rolling-num-rotate r-rolling-num-rotate-unnext\";\r\n\r\n      div.setAttribute(\"part\", className);\r\n      div.className = className;\r\n    });\r\n    this.$$container.style.transition = rTransition;\r\n    // if (isTransition) {\r\n    //   this.$$container.style.transition = \"\";\r\n    //   this.$$container.style.transition = rTransition;\r\n    // }\r\n    // if (this.$$isMonted === false && rInitialAnimation === \"true\") {\r\n    //   await new Promise((resolve) => requestAnimationFrame(() => resolve(true)));\r\n    // }\r\n    // this.$$container.style.transform = \"\";\r\n    this.$$container.style.transform = `rotateX(${rotateX}deg)`;\r\n  }\r\n\r\n  // $render() {}\r\n\r\n  connectedCallback(...arg) {\r\n    super.connectedCallback(...arg);\r\n    const { rTransition, rInitialAnimation } = this.$.DATA;\r\n    this.$$container.className = \"r-rolling-num-container r-rolling-num-container-ani\";\r\n    this.$$container.setAttribute(\"part\", \"r-rolling-num-container r-rolling-num-container-ani \");\r\n    this.$$measure.className = \"r-rolling-num-measure\";\r\n    this.$$measure.setAttribute(\"part\", \"r-rolling-num-measure\");\r\n    this.$$measure.innerText = \"9\";\r\n    this.$$container.appendChild(this.$$measure);\r\n    this.appendChild(this.$$container);\r\n    this.$$renderNums();\r\n    this.$$rotateX(rInitialAnimation === \"true\");\r\n    this.$$isMonted = true;\r\n  }\r\n\r\n  disconnectedCallback(...arg) {\r\n    super.connectedCallback(...arg);\r\n  }\r\n}\r\n\r\n","import \"./index.css\";\nimport { RainbowElement, renderChildren } from \"../../base/index.js\";\nimport { arrayLoop, arrayLoopMap } from \"@rainbow_ljy/rainbow-js\";\n\nexport class RRollingText extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-math-type\": String, // 'floor' , 'none'\n  });\n\n  $$renderNumNodes = renderChildren({ parentNode: this });\n\n  $$ = {\n    value: \"\",\n  };\n\n  get value() {\n    return this.$$.value;\n  }\n\n  set value(v) {\n    this.$$.value = v;\n    this.$debouncedRender()\n  }\n\n  $render() {\n    let { rMathType } = this.$.DATA;\n    let rValue = this.value;\n    // console.log(\"rValue $render\", rValue);\n    let rValueStr = String(rValue);\n    let values = (() => {\n      return arrayLoopMap(rValueStr.length, (index) => {\n        const size = Number([1, ...arrayLoopMap(index, () => 0)].join(\"\"));\n        if (rMathType === \"floor\") return Math.floor(rValue / size);\n        return rValue / size;\n      });\n    })();\n\n    this.$$renderNumNodes.renderList(values, {\n      keyExtractor: (item, index) => index,\n      onCreateNode: (item, index, key) => {\n        let node = document.createElement(\"r-rolling-text-num\");\n        node.setAttribute(\"key\", key);\n        node.value = item;\n        return node;\n      },\n      onCacheNode: (node, item, index, key) => {\n        node.value = item;\n        node.setAttribute(\"key\", key);\n        return node;\n      },\n    });\n  }\n}\n\n\n","import { RainbowElement, createSlot, createElement } from \"../../base/index.js\";\nimport { resizeObserverIMP } from \"../../base/imps/index.js\";\n\nexport class RCircle extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-start-angle\": String,\n    \"r-outer-radius\": String,\n    \"r-inner-radius\": String,\n    \"r-origin-x\": String,\n    \"r-origin-y\": String,\n    \"r-stroke-width\": String,\n    \"r-layer-stroke-width\": String,\n    \"r-direction\": String, // clockwise anticlockwise\n    \"r-range-max\": String,\n    \"r-range-min\": String,\n  });\n\n  $onRegisterIMPS() {\n    return [resizeObserverIMP()];\n  }\n\n  $$ = {\n    defaultSlot: createSlot(\"slot\", \"content\", \"content\"),\n    default: createElement(\"div\", \"r-circle-content\"),\n    borderDiv: createElement(\"div\", \"r-circle-border\"),\n    layerDiv: createElement(\"div\", \"r-circle-layer\"),\n    value: 0,\n    toRadians: (angle) => (angle * Math.PI) / 180,\n    getAngleDiff: (startAng, endAng) => {\n      if (endAng === startAng) return 0;\n      let age = (endAng - startAng + 360) % 360;\n      if (age === 0) return 360;\n      return age;\n    },\n    clockwise: {\n      anglePosition: (ang, x, y, radius) => {\n        const angle = this.$$.toRadians(ang);\n        return { angle, x: x + radius * Math.cos(angle), y: y + radius * Math.sin(angle) };\n      },\n      arcTo: (x, y, radius, startAng, endAng, backward = false) => {\n        if (endAng !== startAng && (endAng - startAng + 360) % 360 === 0) endAng = endAng - 0.001;\n        const start = this.$$.clockwise.anglePosition(startAng, x, y, radius);\n        const end = this.$$.clockwise.anglePosition(endAng, x, y, radius);\n        const angleDiff = this.$$.getAngleDiff(startAng, endAng);\n        const largeArcFlag = angleDiff > 180 ? 1 : 0;\n        if (backward) return { start: end, end: start, largeArcFlag, sweepFlag: 0 };\n        return { start, end, largeArcFlag, sweepFlag: 1 };\n      },\n    },\n    anticlockwise: {\n      anglePosition: (ang, x, y, radius) => {\n        const angle = this.$$.toRadians(ang);\n        return { angle, x: x + radius * Math.sin(angle), y: y + radius * Math.cos(angle) };\n      },\n      arcTo: (x, y, radius, startAng, endAng, backward = false) => {\n        if (endAng !== startAng && (endAng - startAng + 360) % 360 === 0) endAng = endAng - 0.001;\n        const start = this.$$.anticlockwise.anglePosition(startAng, x, y, radius);\n        const end = this.$$.anticlockwise.anglePosition(endAng, x, y, radius);\n        const angleDiff = this.$$.getAngleDiff(startAng, endAng);\n        const largeArcFlag = angleDiff > 180 ? 1 : 0;\n        if (backward) return { start: end, end: start, largeArcFlag, sweepFlag: 1 };\n        return { start, end, largeArcFlag, sweepFlag: 0 };\n      },\n    },\n    arcTo: (x, y, radius, startAng, endAng, backward, type) => {\n      if (type) return this.$$[type].arcTo(x, y, radius, startAng, endAng, backward);\n      return this.$$.clockwise.arcTo(x, y, radius, startAng, endAng, backward);\n    },\n    getRangeValue: (min, max) => {\n      if (typeof this.value === \"string\" && /\\d+?%/.test(this.value)) {\n        return (parseInt(this.value.replace(/%/, \"\"), 10) / 100) * 360;\n      }\n      if (typeof min !== \"number\" || typeof max !== \"number\") return this.value;\n      let val = this.value;\n      if (this.value < min) val = min;\n      if (this.value > max) val = max;\n      return (val / (max - min)) * 360;\n    },\n    getAnnulusPath: (x, y, outerRadius, innerRadius, startAng, endAng, type) => {\n      const out = this.$$.arcTo(x, y, outerRadius, startAng, endAng, false, type);\n      const inner = this.$$.arcTo(x, y, innerRadius, startAng, endAng, true, type);\n      const pathData = [\n        `M ${out.start.x} ${out.start.y}`,\n        `A ${outerRadius} ${outerRadius} 0 ${out.largeArcFlag} ${out.sweepFlag} ${out.end.x} ${out.end.y}`,\n        `L ${inner.start.x} ${inner.start.y}`,\n        `A ${innerRadius} ${innerRadius} 0 ${inner.largeArcFlag} ${inner.sweepFlag} ${inner.end.x} ${inner.end.y}`,\n        `L ${out.start.x} ${out.start.y}`,\n        \"Z\",\n      ].join(\" \");\n      return `path('${pathData}')`;\n    },\n    getcirclePath: (x, y, radius, startAng, endAng, type) => {\n      const out = this.$$.arcTo(x, y, radius, startAng, endAng, false, type);\n      const pathData = [\n        `M ${out.start.x} ${out.start.y}`,\n        `A ${radius} ${radius} 0 ${out.largeArcFlag} ${out.sweepFlag} ${out.end.x} ${out.end.y}`,\n        \"Z\",\n      ].join(\" \");\n      return `path('${pathData}')`;\n    },\n  };\n\n  get value() {\n    return this.$$.value;\n  }\n\n  set value(v) {\n    this.$$.value = v;\n    this.$debouncedRender();\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n\n    this.attachShadow({ mode: \"open\" });\n    this.$$.default.appendChild(this.$$.defaultSlot);\n    this.shadowRoot.append(this.$$.layerDiv);\n    this.shadowRoot.append(this.$$.borderDiv);\n    this.shadowRoot.append(this.$$.default);\n  }\n\n  $render() {\n    let {\n      rStartAngle,\n      rOuterRadius,\n      rInnerRadius,\n      rOriginX,\n      rOriginY,\n      rStrokeWidth,\n      rDirection,\n      rLayerStrokeWidth,\n      rRangeMin,\n      rRangeMax,\n    } = this.$.DATA;\n    if (rOuterRadius === \"auto\") rOuterRadius = Math.min(this.offsetHeight, this.offsetWidth) / 2;\n    if (rInnerRadius === \"auto\") rInnerRadius = rOuterRadius;\n    if (!rOuterRadius) rOuterRadius = 0;\n    if (!rInnerRadius) rInnerRadius = 0;\n    rOriginX = this.$.resolvePercentum(rOriginX);\n    rOriginY = this.$.resolvePercentumH(rOriginY);\n\n    this.$$.borderDiv.style.clipPath = this.$$.getAnnulusPath(\n      rOriginX,\n      rOriginY,\n      rOuterRadius - rLayerStrokeWidth,\n      rInnerRadius - rStrokeWidth - rLayerStrokeWidth,\n      rStartAngle,\n      rStartAngle + this.$$.getRangeValue(rRangeMin, rRangeMax),\n      rDirection,\n    );\n\n    this.$$.layerDiv.style.clipPath = this.$$.getAnnulusPath(\n      rOriginX,\n      rOriginY,\n      rOuterRadius,\n      rInnerRadius - rLayerStrokeWidth - rStrokeWidth - rLayerStrokeWidth,\n      rStartAngle,\n      rStartAngle + 360,\n      rDirection,\n    );\n\n    this.$$.default.style.clipPath = this.$$.getcirclePath(\n      rOriginX,\n      rOriginY,\n      rInnerRadius - rLayerStrokeWidth - rStrokeWidth - rLayerStrokeWidth,\n      rStartAngle,\n      rStartAngle + 360,\n      rDirection,\n    );\n  }\n}\n","import { RainbowElement } from \"../../base/index.js\";\r\nimport { resizeObserverIMP } from \"../../base/imps/index.js\";\r\n{/* <div class=\"van-circle\" style=\"width: 100px; height: 100px;\">\r\n  <svg viewBox=\"0 0 1040 1040\">\r\n    <path d=\"M 520 520 m 0, -500 a 500, 500 0 1, 1 0, 1000 a 500, 500 0 1, 1 0, -1000\"\r\n    class=\"van-circle__hover\"\r\n    style=\"fill: none; stroke: rgb(255, 255, 255); stroke-width: 40px;\"></path>\r\n    <path d=\"M 520 520 m 0, -500 a 500, 500 0 1, 1 0, 1000 a 500, 500 0 1, 1 0, -1000\"\r\n    stroke=\"#1989fa\" class=\"van-circle__layer\" style=\"stroke: rgb(25, 137, 250); stroke-width: 41px; s\r\n    troke-dasharray: 2198px, 3140px;\"></path>\r\n    </svg>\r\n    <div class=\"van-circle__text\">70%</div>\r\n    </div> */}\r\nexport class RSvgCircle extends RainbowElement {\r\n  static observedAttributes = this.$registerProps({\r\n    \"r-start-angle\": String,\r\n    \"r-outer-radius\": String,\r\n    \"r-inner-radius\": String,\r\n    \"r-origin-x\": String,\r\n    \"r-origin-y\": String,\r\n  });\r\n\r\n  $onRegisterIMPS() {\r\n    return [resizeObserverIMP()];\r\n  }\r\n\r\n  $$ = {\r\n    value: 0,\r\n  };\r\n\r\n  get value() {\r\n    return this.$$.value;\r\n  }\r\n\r\n  set value(v) {\r\n    this.$$.value = v;\r\n    this.$debouncedRender();\r\n  }\r\n\r\n  $render() {\r\n    // let { rStartAngle, rOuterRadius, rInnerRadius, rOriginX, rOriginY } = this.$.DATA;\r\n    // if (rOuterRadius === \"auto\") {\r\n    //   rOuterRadius = Math.min(this.offsetHeight, this.offsetWidth) / 2 || 0;\r\n    // }\r\n    // if (rInnerRadius === \"auto\") rInnerRadius = rOuterRadius - 2;\r\n    // rOriginX = this.$.resolvePercentum(rOriginX);\r\n    // rOriginY = this.$.resolvePercentumH(rOriginY);\r\n    // let args = [\r\n    //   rOriginX,\r\n    //   rOriginY,\r\n    //   rOuterRadius,\r\n    //   rInnerRadius,\r\n    //   rStartAngle,\r\n    //   rStartAngle + this.value,\r\n    //   false,\r\n    // ];\r\n    // console.log(args);\r\n    // this.style.clipPath = this.$$.arcToClipPathRing(...args);\r\n  }\r\n}\r\n\r\n\r\n","import { RainbowElement } from \"../base/index.js\";\r\n\r\n\r\nexport class RTestD extends RainbowElement {\r\n  $$ = {\r\n    value: \"\",\r\n  };\r\n\r\n  set value(v) {\r\n    this.$$.value = v;\r\n    this.innerText = v;\r\n  }\r\n\r\n\r\n  get value() {\r\n    return this.$$.value;\r\n  }\r\n}\r\n","import { arrayRewriteFunction, ListArray } from \"@rainbow_ljy/rainbow-js\";\nimport { RainbowElement, createCustomEvent, renderChildren } from \"../../base/index.js\";\nimport \"./index.css\";\n\nexport class RScrollVirtualGridList extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-columns\": { type: Number, default: 1 },\n    \"r-min-auto-width\": Number,\n    \"r-gap\": [Number, String],\n    \"r-row-gap\": [Number, String],\n    \"r-column-gap\": [Number, String],\n    \"r-avg-height\": [Number, String],\n  });\n\n  keyExtractor = (val) => val.item;\n\n  get $$columns() {\n    let { rColumns, rMinAutoWidth } = this.$.DATA;\n    if (rMinAutoWidth) return Math.floor(this.offsetWidth / rMinAutoWidth);\n    return rColumns;\n  }\n\n  $$ = {\n    renderChildren: renderChildren({ parentNode: this }),\n    value: [],\n    cache: {\n      end: 0,\n      start: 0,\n    },\n    visible: {\n      end: 0,\n      start: 0,\n    },\n    recycle: {\n      divs: [],\n    },\n    createElement: () => {\n      let node = this.$$.recycle.divs.shift();\n      if (node) return node;\n      return document.createElement(\"div\");\n    },\n    scrollParent: undefined,\n    onScroll: (event) => {\n      this.$$.layout(false);\n    },\n    layout: (isForce = true) => {\n      if (!this.$$.scrollParent) return;\n      const { rAvgHeight, rGap, rColumnGap, rRowGap } = this.$.DATA;\n      const columnGap = rColumnGap || rGap || 0;\n      const rowGap = rRowGap || rGap || 0;\n      // console.log(columnGap);\n      const offsetTop = this.$.getOffsetTop(this);\n      const scrollTop = this.$$.scrollParent.scrollTop;\n      let recycleCount = Math.ceil(window.innerHeight / (rAvgHeight + columnGap)) * this.$$columns;\n      let nth = Math.floor((scrollTop - offsetTop) / (rAvgHeight + columnGap)) * this.$$columns;\n      let index = nth - recycleCount;\n      let start = index < 0 ? 0 : index;\n      this.$$.visible.start = nth < 0 ? 0 : nth;\n      this.$$.visible.end = nth + recycleCount;\n      // console.log(this.$$.visible.start, this.$$.visible.end);\n      let end = index + recycleCount * 3;\n      if (end < 0) end = 0;\n      let list = this.value.slice(start, end);\n      let renderList = list.map((item, sub) => ({ index: start + sub, item, data: item }));\n      let isRender = !(this.$$.cache.start === start && this.$$.cache.end === end);\n      this.$$.cache.start = start;\n      this.$$.cache.end = end;\n      this.style.height = `${(rAvgHeight + columnGap) * Math.ceil(this.value.length / this.$$columns) - columnGap}px`;\n      if (isForce === false && isRender === false) return;\n      // console.log(start, end);\n      this.$$.renderChildren.renderList(renderList, {\n        keyExtractor: this.keyExtractor,\n        onCreateNode: (val, index, key) => {\n          let node = this.$$.createElement();\n          // console.log( this.$$.recycle.divs.length);\n          node.setAttribute(\"key\", key);\n          node.classList.add(\"r-scroll-virtual-grid-list-item\");\n          node.style.height = `${rAvgHeight}px`;\n          node.style.position = \"absolute\";\n          this.$$.measure(node, val, rAvgHeight, rowGap, columnGap);\n          this.dispatchEvent(createCustomEvent(\"renderList\", { ele: node, ...val, key }));\n          return node;\n        },\n        onCacheNode: (node, val, index, key) => {\n          node.setAttribute(\"key\", key);\n          this.$$.measure(node, val, rAvgHeight, rowGap, columnGap);\n          this.dispatchEvent(createCustomEvent(\"renderList\", { ele: node, ...val, key }));\n          return node;\n        },\n        onRemoveNode: (node, key) => {\n          node.setAttribute(\"key\", \"\");\n          node.classList.remove(\"r-scroll-virtual-grid-list-item\");\n          this.$$.recycle.divs.push(node);\n        },\n      });\n    },\n    measure: (node, val, rAvgHeight, rowGap, columnGap) => {\n      let columns = this.$$columns;\n      let rem = val.index % columns;\n      let ret = Math.floor(val.index / columns);\n      node.style.width = `calc( ${100 / columns}% - ${((columns - 1) * columnGap) / columns}px )`;\n      node.style.left = `calc( ${(100 / columns) * rem}% - ${(((columns - 1) * columnGap) / columns) * rem}px + ${rem * columnGap}px )`;\n      node.style.top = ret * (rAvgHeight + rowGap) + \"px\";\n    },\n    onValueChange: () => {\n      this.$$.layout();\n    },\n  };\n\n  set value(v) {\n    if (v instanceof ListArray) {\n      v.removeEventListener(\"change\", this.$$.onValueChange);\n      v.addEventListener(\"change\", this.$$.onValueChange);\n    } else arrayRewriteFunction(v, () => this.$$.layout());\n    this.$$.value = v;\n    this.$$.layout();\n  }\n\n  get value() {\n    return this.$$.value;\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.$$.scrollParent = this.$.findParentByLocalName([\n      \"r-scroll\",\n      \"r-scroll-view\",\n      \"r-nested-scroll\",\n    ]);\n    this.$$.scrollParent.addEventListener(\"scroll\", this.$$.onScroll.bind(this));\n    this.$$.layout();\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    this.$$.scrollParent.removeEventListener(\"scroll\", this.$$.onScroll.bind(this));\n  }\n\n  $render() {\n    this.$$.layout();\n  }\n}\n","import {\n  arrayRewriteFunction,\n  animationDebounced,\n  arrayLoopMap,\n  ListArray,\n  arrayBinaryFindIndex,\n  arrayLoop,\n} from \"@rainbow_ljy/rainbow-js\";\nimport { RainbowElement, createCustomEvent, renderChildren } from \"../../base/index.js\";\nimport \"./index.css\";\n\nclass ItemCache {\n  list = [];\n  width = undefined;\n  height = undefined;\n  left = undefined;\n  top = undefined;\n  vTop = undefined;\n  bottom = undefined;\n  vBottom = undefined;\n}\n\nexport class RScrollVirtualFallsList extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-columns\": { type: Number, default: 1 },\n    \"r-min-auto-width\": Number,\n    \"r-gap\": [Number, String],\n    \"r-row-gap\": [Number, String],\n    \"r-column-gap\": [Number, String],\n    \"r-avg-height\": [Number, String],\n  });\n\n  keyExtractor = (val) => val.item;\n\n  get $$columns() {\n    let { rColumns, rMinAutoWidth } = this.$.DATA;\n    if (rMinAutoWidth) return Math.floor(this.offsetWidth / rMinAutoWidth);\n    return rColumns;\n  }\n\n  $$ = {\n    resizeObserver: new ResizeObserver((entries) => {\n      entries.forEach((entrie) => {\n        const offset = getBoundingClientRect(entrie.target);\n        if (entrie.target?.__bindData__?.__cache__) {\n          entrie.target.__bindData__.__cache__.height = offset.height;\n        }\n      });\n      this.$$.layout();\n    }),\n    renderChildren: renderChildren({ parentNode: this }),\n    value: [],\n    preLoadIndex: 0,\n    cache: {\n      start: undefined,\n      end: undefined,\n    },\n    // recycle: {\n    //   divs: [],\n    // },\n    createElement: () => {\n      // let node = this.$$.recycle.divs.shift();\n      // if (node) return node;\n      let node = document.createElement(\"div\");\n      this.$$.resizeObserver.observe(node);\n      return node;\n    },\n    scrollParent: undefined,\n    onScroll: (event) => {\n      this.$$.layout(false);\n    },\n    findIndex: (scrollTop) => {\n      return arrayBinaryFindIndex(\n        this.value,\n        (item) => {\n          if (!item.__cache__) return false;\n          return item.__cache__.vTop <= scrollTop && scrollTop <= item.__cache__.vBottom;\n        },\n        (item) => {\n          if (!item.__cache__) return false;\n          return item.__cache__.vTop < scrollTop;\n        },\n      );\n    },\n    falls: {\n      list: [],\n    },\n    getCssValues: () => {\n      const { rAvgHeight, rGap, rColumnGap, rRowGap } = this.$.DATA;\n      const columnGap = rColumnGap || rGap || 0;\n      const rowGap = rRowGap || rGap || 0;\n      const offsetTop = this.$.getOffsetTop(this);\n      const recycleTop = -window.innerHeight + offsetTop;\n      const recycleBottom = window.innerHeight * 2 + offsetTop;\n      const scrollTop = this.$$.scrollParent.scrollTop;\n      return { scrollTop, recycleBottom, recycleTop, offsetTop, rowGap, columnGap, rAvgHeight };\n    },\n    layout: (isForce = true) => {\n      if (!this.$$.scrollParent) return;\n      const { scrollTop, recycleBottom, recycleTop, rowGap } = this.$$.getCssValues();\n      let start = this.$$.findIndex(scrollTop);\n      if (start === -1) start = 0;\n      let end = start + 30;\n      if (end > this.value.length) end = this.value.length;\n      let isRender = !(this.$$.cache.start === start && this.$$.cache.end === end);\n      this.$$.cache.start = start;\n      this.$$.cache.end = end;\n      this.$$.preLoadIndex = end;\n      if (isForce === false && isRender === false) return;\n      console.log(\"start\", start);\n      let startItem = this.value[start];\n      if (!startItem) return;\n      let list = this.value.slice(start, end);\n      let renderList = list.map((item, sub) => ({ index: start + sub, item, data: item }));\n      if (startItem.__cache__) this.$$.falls.list = startItem.__cache__.list;\n      else this.$$.falls.list = initList.call(this);\n      // console.log(startItem);\n      let minColumn = getMinHeightItem(this.$$.falls.list);\n      let __cache__ = new ItemCache();\n      this.$$.renderChildren.renderList(renderList, {\n        keyExtractor: this.keyExtractor,\n        onCreateNode: (val, index, key) => {\n          let ele = this.$$.createElement();\n          ele.setAttribute(\"key\", key);\n          ele.classList.add(\"r-scroll-virtual-falls-list-item\");\n          ele.style.position = \"absolute\";\n          this.dispatchEvent(createCustomEvent(\"renderList\", { ele: ele, ...val, key }));\n          return ele;\n        },\n        onCacheNode: (ele, val, index, key) => {\n          ele.setAttribute(\"key\", key);\n          this.dispatchEvent(createCustomEvent(\"renderList\", { ele: ele, ...val, key }));\n          return ele;\n        },\n        onBeforeInsertNode: (val, index, key) => {\n          minColumn = getMinHeightItem(this.$$.falls.list);\n          if (!val.item.__cache__) val.item.__cache__ = new ItemCache();\n          __cache__ = val.item.__cache__;\n          __cache__.list = this.$$.falls.list.map((el) => ({ ...el }));\n        },\n        onInsertBeforeNode: (ele, val, index, key) => {\n          if (minColumn.height) minColumn.height = minColumn.height + rowGap;\n          ele.style.width = minColumn.width;\n          ele.style.left = minColumn.left;\n          ele.style.top = minColumn.height + \"px\";\n          const offset = getBoundingClientRect(ele);\n          __cache__.height = offset.height;\n          __cache__.width = ele.offsetWidth;\n          __cache__.top = minColumn.height;\n          __cache__.vTop = minColumn.height + recycleTop;\n          __cache__.left = ele.style.left;\n          minColumn.height = minColumn.height + offset.height;\n          __cache__.bottom = minColumn.height;\n          __cache__.vBottom = minColumn.height + recycleBottom;\n          __cache__.calculateList = this.$$.falls.list.map((el) => ({ ...el }));\n          ele.__bindData__ = val.item;\n          // console.log(__cache__);\n        },\n        onRemoveNode: (ele, key) => {\n          ele.setAttribute(\"key\", \"\");\n          // this.$$.recycle.divs.push(ele);\n          this.$$.resizeObserver.unobserve(ele);\n        },\n      });\n      this.$$.preLoads();\n      this.$$.setHeight();\n      this.$$.backstage.reStart();\n    },\n    setHeight: () => {\n      const calculateList = this.value.at(-1)?.__cache__?.calculateList;\n      if (!calculateList?.length) {\n        const { rAvgHeight, columnGap } = this.$$.getCssValues();\n        this.style.height = `${(rAvgHeight + columnGap) * Math.ceil(this.value.length / this.$$columns) - columnGap}px`;\n        return;\n      }\n      this.style.height = `${getMaxHeightItem(calculateList).height}px`;\n    },\n    onValueChange: () => {\n      this.$$.layout();\n    },\n    preLoads: (count = 100) => {\n      let maxCount = this.value.length - this.$$.preLoadIndex;\n      if (count > maxCount) count = maxCount;\n      arrayLoop(count, () => {\n        this.$$.preLoad();\n        this.$$.preLoadIndex++;\n      });\n    },\n    preLoad: () => {\n      // console.log(this.$$.preLoadIndex);\n      const item = this.value[this.$$.preLoadIndex];\n      if (!item) return;\n      const { scrollTop, recycleBottom, recycleTop, rowGap, rAvgHeight } = this.$$.getCssValues();\n      let __cache__ = new ItemCache();\n      if (!item.__cache__) item.__cache__ = new ItemCache();\n      __cache__ = item.__cache__;\n      __cache__.list = this.$$.falls.list.map((el) => ({ ...el }));\n      // console.log(item);\n      let minColumn = getMinHeightItem(this.$$.falls.list);\n      if (!__cache__.height) __cache__.height = rAvgHeight;\n      if (minColumn.height) minColumn.height = minColumn.height + rowGap;\n      __cache__.top = minColumn.height;\n      __cache__.vTop = minColumn.height + recycleTop;\n      __cache__.left = minColumn.left;\n      __cache__.width = minColumn.width;\n      minColumn.height = minColumn.height + __cache__.height;\n      __cache__.bottom = minColumn.height;\n      __cache__.vBottom = minColumn.height + recycleBottom;\n      __cache__.calculateList = this.$$.falls.list.map((el) => ({ ...el }));\n    },\n    backstage: createBackstage(\n      () => {\n        this.$$.preLoads(50);\n        this.$$.setHeight();\n        // console.log(this.$$.preLoadIndex);\n      },\n      () => this.$$.preLoadIndex >= this.value.length,\n    ),\n  };\n\n  set value(v) {\n    if (v instanceof ListArray) {\n      v.removeEventListener(\"change\", this.$$.onValueChange);\n      v.addEventListener(\"change\", this.$$.onValueChange);\n    } else arrayRewriteFunction(v, () => this.$$.layout());\n    this.$$.value = v;\n    this.$$.layout();\n  }\n\n  get value() {\n    return this.$$.value;\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.$$.scrollParent = this.$.findParentByLocalName([\n      \"r-scroll\",\n      \"r-scroll-view\",\n      \"r-nested-scroll\",\n    ]);\n    this.$$.scrollParent.addEventListener(\"scroll\", this.$$.onScroll.bind(this));\n    this.$$.falls.list = initList.call(this);\n    this.$$.layout();\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    this.$$.scrollParent.removeEventListener(\"scroll\", this.$$.onScroll.bind(this));\n    this.$$.backstage.stop();\n  }\n}\n\nfunction initList() {\n  const columns = this.$$columns || 1;\n  const { rAvgHeight, rGap, rColumnGap, rRowGap } = this.$.DATA;\n  const columnGap = rColumnGap || rGap || 0;\n  const rowGap = rRowGap || rGap || 0;\n\n  return arrayLoopMap(columns, (i) => ({\n    width: `calc( ${100 / columns}% - ${((columns - 1) * columnGap) / columns}px )`,\n    left: `calc( ${(100 / columns) * i}% - ${(((columns - 1) * columnGap) / columns) * i}px + ${i * columnGap}px )`,\n    height: 0,\n    top: 0,\n    index: i,\n  }));\n}\n\nfunction getMinHeightItem(list) {\n  let item = list[0];\n  list.forEach((el) => {\n    if (el.height < item.height) item = el;\n  });\n  return item;\n}\n\nfunction getMaxHeightItem(list) {\n  let item = list[0];\n  list.forEach((el) => {\n    if (el.height > item.height) item = el;\n  });\n  return item;\n}\n\nfunction createBackstage(callback, stopFmt) {\n  let timer;\n  let requestTimer = requestIdleCallback || requestAnimationFrame;\n  let cancelRequestTimer = requestIdleCallback ? cancelIdleCallback : cancelAnimationFrame;\n\n  function idleCallback(deadline) {\n    stop();\n    if (stopFmt()) return;\n    if (deadline.timeRemaining() > 0) {\n      callback();\n      if (!deadline.didTimeout) timer = requestTimer(idleCallback);\n    }\n  }\n\n  function start() {\n    timer = requestTimer(idleCallback);\n  }\n\n  function stop() {\n    cancelRequestTimer(timer);\n  }\n\n  function reStart() {\n    stop();\n    start();\n  }\n\n  return { start, stop, reStart };\n}\n\nfunction getBoundingClientRect(ele = document.createElement(\"div\")) {\n  let offset = ele.getBoundingClientRect();\n  return {\n    height: Number(offset.height.toFixed(2)),\n  };\n}\n","import \"./index.css\";\r\nimport { RainbowElement } from \"../../base/index.js\";\r\n\r\nexport class RFoldText extends RainbowElement {\r\n  static observedAttributes = this.$registerProps({\r\n    \"r-max-line\": Number,\r\n  });\r\n\r\n  $slotContainer = {\r\n    default: document.createElement(\"span\"),\r\n    text: document.createElement(\"span\"),\r\n    end: document.createElement(\"span\"),\r\n    fold: document.createElement(\"span\"),\r\n    unfold: document.createElement(\"span\"),\r\n  };\r\n\r\n  $$ = {\r\n    value: \"\",\r\n    isFold: false,\r\n    foldText: \"\",\r\n    rowHeight: 0,\r\n    click: () => {\r\n      if (!this.$$.foldText) return;\r\n      const { text: span, default: content, end, fold, unfold } = this.$slotContainer;\r\n      if (this.$$.isFold === true) span.innerText = this.value;\r\n      if (this.$$.isFold === false) span.innerText = this.$$.foldText;\r\n      this.$$.isFold = !this.$$.isFold;\r\n      const offset = content.getBoundingClientRect();\r\n      this.style.height = offset.height + \"px\";\r\n      if (this.$$.isFold) {\r\n        end.classList.add(\"r-fold-text-end-fold\");\r\n        end.classList.remove(\"r-fold-text-end-unfold\");\r\n      } else {\r\n        end.classList.add(\"r-fold-text-end-unfold\");\r\n        end.classList.remove(\"r-fold-text-end-fold\");\r\n      }\r\n    },\r\n    setInnerText: (index = 0, line = 0, height = 0) => {\r\n      index++;\r\n      if (index > this.value.length) return \" \";\r\n      const { text: span, default: content, end, fold, unfold } = this.$slotContainer;\r\n      const text = this.value.slice(0, index);\r\n      span.innerText = text;\r\n      const offset = content.getBoundingClientRect();\r\n      if (height !== offset.height) {\r\n        height = offset.height;\r\n        line += 1;\r\n        // debugger;\r\n        if (line > 2) {\r\n          // debugger\r\n          return this.value.slice(0, index - 1);\r\n        }\r\n      }\r\n      return this.$$.setInnerText(index, line, height);\r\n    },\r\n    draw: (index = 0, line = 0, height = 0) => {\r\n      index++;\r\n      if (index > this.value.length) return;\r\n      const { text: span, default: content, end, fold, unfold } = this.$slotContainer;\r\n      const text = this.value.slice(0, index);\r\n      span.innerText = text;\r\n      const offset = content.getBoundingClientRect();\r\n      if (height !== offset.height) {\r\n        height = offset.height;\r\n        line += 1;\r\n        if (line > 2) {\r\n          this.style.height = this.rowHeight + \"px\";\r\n          end.classList.remove(\"r-fold-text-end-none\");\r\n          // requestAnimationFrame(() => {\r\n          this.$$.foldText = this.$$.setInnerText();\r\n          span.innerText = this.$$.foldText;\r\n          this.$$.isFold = true;\r\n\r\n          if (this.$$.isFold) {\r\n            end.classList.add(\"r-fold-text-end-fold\");\r\n            end.classList.remove(\"r-fold-text-end-unfold\");\r\n          } else {\r\n            end.classList.add(\"r-fold-text-end-unfold\");\r\n            end.classList.remove(\"r-fold-text-end-fold\");\r\n          }\r\n          // });\r\n          // debugger\r\n          return;\r\n        }\r\n        this.rowHeight = height;\r\n      }\r\n      this.$$.draw(index, line, height);\r\n    },\r\n  };\r\n\r\n  set value(v) {\r\n    this.$$.value = v;\r\n    this.$slotContainer.end.classList.add(\"r-fold-text-end-none\");\r\n    this.$$.draw();\r\n  }\r\n\r\n  get value() {\r\n    return this.$$.value;\r\n  }\r\n\r\n  connectedCallback(...arg) {\r\n    console.log(\"connectedCallback-connectedCallback\")\r\n    super.connectedCallback(...arg);\r\n    this.addEventListener(\"click\", this.$$.click.bind(this));\r\n    this.$slotContainer.default.classList.add(\"r-fold-text-default\");\r\n    this.$slotContainer.text.classList.add(\"r-fold-text-text\");\r\n    this.$slotContainer.end.classList.add(\"r-fold-text-end\", \"iconfont\");\r\n    this.$slotContainer.fold.classList.add(\"r-fold-text-end-fold-solt\");\r\n    this.$slotContainer.unfold.classList.add(\"r-fold-text-end-unfold-solt\");\r\n    if (!this.$slotContainer.end.innerHTML) {\r\n      this.$slotContainer.end.innerHTML = \"&#xe745;&#xe745;&#xe745\";\r\n    }\r\n    this.$.append(this.$slotContainer.default);\r\n    this.$slotContainer.default.append(this.$slotContainer.text);\r\n    this.$slotContainer.default.append(this.$slotContainer.end);\r\n    this.$slotContainer.default.append(this.$slotContainer.fold);\r\n    this.$slotContainer.default.append(this.$slotContainer.unfold);\r\n\r\n  }\r\n\r\n  disconnectedCallback(...arg) {\r\n    super.disconnectedCallback(...arg);\r\n    this.removeEventListener(\"click\", this.$$.click.bind(this));\r\n  }\r\n}\r\n","import \"./index.css\";\nimport \"./iconfont/iconfont.css\";\nexport * from \"./global.js\";\nexport * from \"./base/index.js\";\nexport * from \"./element.js\";\nimport * as elements from \"./element.js\";\n\nexport function defineElements() {\n  for (const key in elements) {\n    if (Object.prototype.hasOwnProperty.call(elements, key)) {\n      const element = elements[key];\n      const defineKey = key.replaceAll(/[A-Z]/g, (v) => \"-\" + v.toLowerCase()).slice(1);\n      customElements.define(defineKey, element);\n    }\n  }\n}\n\n\ndefineElements();\n"],"names":["ListArray","Array","constructor","args","super","Object","defineProperty","this","value","writable","enumerable","configurable","addEventListener","type","listener","events","push","removeEventListener","arrayRemove","onChange","name","change","forEach","funs","copyWithin","res","fill","pop","shift","unshift","splice","sort","reverse","arrayAt","list","index","length","arrayLoop","num","cb","arrayLoopMap","arr","item","findIndex","el","arrayBinarySearch","setPointer","right","formatter","compare","fg","left","result","Math","floor","arrayBinaryFindIndex","arrayRewriteFunction","props","original","defineProperties","call","Function","useQueue","options","onBegin","onFinish","onPush","onPushed","onRemove","onRemoved","queue","current","includes","remove","setTimeoutPromise","time","resolveValue","Promise","resolve","setTimeout","requestAnimationFramePromise","requestAnimationFrame","animationDebounced","callback","id","arg","cancelAnimationFrame","prototype","at","rainbow","overlay","document","createElement","body","append","zIndex","zIndexAdd","overlayQueue","dialogQueue","customRender","node","dialog","innerHTML","deleteKey","target","source","bool","key","hasOwnProperty","error","assignStyle","style","newStyle","convertToCamelCase","str","parts","split","slice","map","part","charAt","toUpperCase","join","camelCaseToKebabCase","replace","toLowerCase","window","RainbowEvent","Event","eventInitDict","event","detail","undefined","console","warn","createCustomEvent","newEvent","CustomEvent","bubbles","cancelable","renderChildren","parentNode","pointer","cacheMap","Map","renderList","p","config","beforeEach","keyExtractor","onCacheNode","onCreateNode","onDeleteNode","onRemoveNode","onBeforeInsertNode","onInsertBeforeNode","has","get","nextSibling","insertBefore","delete","firstChild","set","className","ele","setAttribute","createSlot","slotName","wipePX","test","Number","toggleClass","addClass","removeClass","classList","add","isNum","d","Transition","eventNode","dispatchNode","formatterVisible","animateSymbol","finishSymbol","onTransitionend","hideClassName","dispatchEvent","show","Symbol","hide","MutationObserver","mutations","fun","observe","subtree","attributes","attributeOldValue","treeAttrsChangeIMP","simult","init","$","changePropsRender","disconnected","settle","async","resizeObserverIMP","obs","isOnlyResizeWidth","isOnlyResizeHeight","resizeCallback","resizeOptions","cache","bind","$debouncedRender","ResizeObserver","offset","width","offsetWidth","height","offsetHeight","disconnect","treeObserverIMP","mObserver","rObserver","childrenResizeOptions","onChildrenSizeChange","onSizeChange","onWidthChange","onHeightChange","mutationOptions","childList","onChildChange","onAttributeChange","entries","some","mutation","addedNodes","from","filter","removedNodes","unobserve","RainbowElement","HTMLElement","$registerProps","types","keys","default","$types","$props","IMPS","self","getSlotContainer","soltName","getAttribute","container","$slotContainer","_getSC","renderSolt","localName","isInitAttrs","data","DATA","Proxy","prop","resolveFunCss","calc","v","resolveCss","isAttrFun","cssVal","len","replaceAll","innerWidth","innerHeight","eval","trim","Boolean","class","resolvePercentum","fmt","resolvePercentumH","setStyle","fmtStyle","ftStyle","reduce","assign","setClass","fmtClass","newClass","newMap","findParentByLocalName","parent","findChildByLocalName","c","val","getElementsByTagName","flat","Infinity","getOffsetTop","offsetParent","top","offsetTop","isAnimation","transitionrun","transitioncancel","transitionend","force","isChange","css","getComputedStyle","startsWith","getPropertyValue","nodes","appendChild","removeChild","$onRegisterIMPS","$render","attributeChangedCallback","oldValue","newValue","$onAttributeChanged","changeAttr","connectedCallback","connected","adoptedCallback","adopted","disconnectedCallback","RAbsolute","static","String","ROverlay","$$","transition","RDialog","content","defaultSlot","onOverlayClick","stopPropagation","log","onDocumentClick","click","open","prveDialog","close","afterLeave","afterEnter","attachShadow","mode","shadowRoot","rOrientation","createDialog","params","RFalls","rMinAutoWidth","rColumns","rGap","rRowGap","rColumnGap","col","colGap","rowGap","i","itemWidth","children","child","getMinHeightItem","getMaxHeightItem","RGrid","$$columns","$$doLayout","rGridWrap","rGridStretch","clumnList","start","gridColumns","maxColumn","end","end2","RMove","bottom","caches","x","y","startTouche","onTouchstart","touches","onTouchmove","rMoveBorderLeft","rMoveBorderTop","rMoveBorderRight","rMoveBorderBottom","touche","maxX","maxH","clientX","clientY","onTouchend","rAdsorbBorderLeft","rAdsorbBorderTop","rAdsorbBorderRight","rAdsorbBorderBottom","rAdsorb","adsorb","com","horizontal","vertical","nook","nearby","min","COMPUTE_INTERVAL","currentView","srcViews","timer","customEventNameMap","compute","isGetPdownLock","SlideEvent","altKey","altitudeAngle","azimuthAngle","button","buttons","ctrlKey","currentTime","deltaAng","deltaC","deltaTime","deltaX","deltaY","direction","fromElement","getModifierState","getPredictedEvents","initMouseEvent","initUIEvent","isPrimary","layerX","layerY","metaKey","moveX","moveY","movementX","movementY","offsetX","offsetY","orientation","pageX","pageY","persistentDeviceId","pointerId","pointerType","pressure","relatedTarget","screenX","screenY","shiftKey","sourceCapabilities","speedX","speedY","tangentialPressure","tiltX","tiltY","toElement","twist","velocityX","velocityY","view","which","extendedSlideEvents","$set","onCapturePointerdown","currentTarget","onPointerdown","bindEvents","passive","capture","customEventName","destroy","undefinedReturn","def","isNaN","inheritPointerEvent","calcHypotenuse","a","b","sqrt","calculateAngle","dx","dy","atan2","PI","clearTimeout","extendedEventArgs","beginEvent","prveEvent","intervalEvent","isVerdict","isStart","pressures","ang","isRightAng","isTopAng","isLeftAng","isBottomAng","Date","now","avgPressure","toFixed","slideEvent","customSlideEven","ScrollEvent","scrollTop","inheritSlideEvent","LOG","RNestedScroll","nestedChild","nestedChildren","nestedParent","setNestedChild","mOffset","getBoundingClientRect","find","captureOptions","scrollEvent","setup","scrollEl","disabledScroll","unDisabledScroll","ani","adsorbAni","coefficient","isScrollToBottomEnd","ceil","isScrollToTopEnd","maxScrollTop","isScrollRightEnd","scrollLeft","isScrollLeftEnd","maxScrollLeft","rollingConflict","every","rScrollDirection","slideCaptureTop","doScrollTop","slideBottom","doScrollBottom","slideCaptureTopEnd","dispatchScrollTopFlying","slideBottomEnd","dispatchScrollBottomFlying","createEvent","scrollHeight","containerHeight","space","velocity","stop","cAni","onanimation","onanimationEnd","slideLeft","slideRight","slideLeftEnd","slideLeftRightEnd","slideRightEnd","roundIndex","round","adsIndex","to","Animation","avg","aLeft","onanimationend","bubble","opt","deceleration","stopAction","isReduce","animaMinus","animaAdd","anima","duration","RRefresh","onrefresh","$$renderRefresh","circle","loadIcon","text","handleLoading","loading","rRefreshHeignt","innerText","release","createPromise","promise","scrollView","render","pointerdownEvent","touchstartEvent","lock","pointerdown","pointermove","touchstart","touchmove","rMaxRefreshHeignt","stopImmediatePropagation","preventDefault","refreshHeight","touchend","rMinTime","allSettled","unbindEvents","RScroll","refreshView","prveScrollTop","onScroll","RScrollRefresh","scrollParent","RScrollMemoryBubble","$$visible","$$cacheMoveY","$$scrollParent","rInitVisibility","findParentByType","$$setVisibleFalse","$$setVisibleTrue","$$setClass","abs","rVisibleDistance","RScrollSticky","$$onGetClass","isSticky","isStickyTop","isStickyBottom","isStickyAct","stickyBottom","stickyTop","rActiveTop","topClass","unSticky","unStickyAct","unStickyTop","unStickyBottom","rActiveBottom","pTop","bottomClass","RScrollFixed","RScrollView","onscroll","scrollBy","scrollTo","rElementStyle","rContainerStyle","RPulldown","getElementById","RRollingTextNum","$$container","$$measure","$$rotes","$$num","$$value","$$isMonted","$$deg","$$rotateX","$$renderNums","deg","translateZ","sin","div","transform","isTransition","rTransition","rInitialAnimation","rotateX","unactIndex","RRollingText","$$renderNumNodes","rMathType","rValue","values","size","RCircle","borderDiv","layerDiv","toRadians","angle","getAngleDiff","startAng","endAng","age","clockwise","anglePosition","radius","cos","arcTo","backward","largeArcFlag","sweepFlag","anticlockwise","getRangeValue","max","parseInt","getAnnulusPath","outerRadius","innerRadius","out","inner","getcirclePath","rStartAngle","rOuterRadius","rInnerRadius","rOriginX","rOriginY","rStrokeWidth","rDirection","rLayerStrokeWidth","rRangeMin","rRangeMax","clipPath","RSvgCircle","RTestD","RScrollVirtualGridList","visible","recycle","divs","layout","isForce","rAvgHeight","columnGap","recycleCount","nth","sub","isRender","position","measure","columns","rem","ret","onValueChange","ItemCache","vTop","vBottom","RScrollVirtualFallsList","resizeObserver","entrie","__bindData__","__cache__","preLoadIndex","falls","getCssValues","recycleTop","recycleBottom","startItem","initList","minColumn","calculateList","preLoads","setHeight","backstage","reStart","count","maxCount","preLoad","createBackstage","stopFmt","requestTimer","requestIdleCallback","cancelRequestTimer","cancelIdleCallback","idleCallback","deadline","timeRemaining","didTimeout","RFoldText","fold","unfold","isFold","foldText","rowHeight","span","setInnerText","line","draw","defineElements","elements","element","defineKey","customElements","define"],"mappings":"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"}