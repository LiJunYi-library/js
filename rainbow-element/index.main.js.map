{"version":3,"file":"index.main.js","sources":["src/base/utils.js","src/base/imps/treeAttrsChangeIMP.js","src/base/imps/resizeObserverIMP.js","src/base/imps/treeObserverIMP.js","../rainbow-js/package/array/ListArray.js","../rainbow-js/package/array/index.js","../rainbow-js/package/promise/index.js","../rainbow-js/package/timer/index.js","src/base/rainbow-element.js","src/layout/absolute/index.js","src/layout/dialog/index.js","src/layout/falls/index.js","src/layout/grid/index.js","src/layout/scroll/index.js","src/layout/scroll-refresh/index.js","src/layout/scroll-memory-bable/index.js","src/layout/scroll-sticky/index.js","src/events/slide.js","src/events/scroll.js","src/layout/nested-scroll/index.js","src/data/rolling-text-num/index.js","src/data/rolling-text/index.js","src/data/circle/r-circle.js","src/data/circle/r-svg-circle.js","src/data/test-d.js","src/data/scroll-virtual-grid-list/index.js","src/data/scroll-virtual-falls-list/index.js","src/data/fold-text/index.js","src/index.js"],"sourcesContent":["export function deleteKey(target, source, bool) {\n  for (const key in target) {\n    if (Object.prototype.hasOwnProperty.call(target, key)) {\n      try {\n        if (bool) source[key] = \"\";\n        delete source[key];\n      } catch (error) {}\n    }\n  }\n}\n\nexport function assignStyle(style, newStyle) {\n  for (const key in newStyle) {\n    if (Object.prototype.hasOwnProperty.call(newStyle, key)) {\n      style[key] = \"\";\n      style[key] = newStyle[key];\n    }\n  }\n}\n\nexport function convertToCamelCase(str) {\n  if (str.includes(\"-\")) {\n    const parts = str.split(\"-\");\n    const firstPart = parts[0];\n    const remainingParts = parts\n      .slice(1)\n      .map((part) => part.charAt(0).toUpperCase() + part.slice(1));\n    return firstPart + remainingParts.join(\"\");\n  }\n  return str;\n}\n\nexport function camelCaseToKebabCase(str) {\n  return str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\n\n// bubbles: true, cancelable: true,\n\nexport class RainbowEvent extends Event {\n  constructor(type, eventInitDict, event) {\n    super(type, eventInitDict);\n    this.detail = event;\n    if (event instanceof Array) {\n      for (const key in event) {\n        try {\n          if (this[key] === undefined) this[key] = event[key];\n        } catch (error) {\n          console.warn(error);\n        }\n      }\n    }\n  }\n}\n\nexport function createCustomEvent(name, event, eventInitDict = {}) {\n  const newEvent = new CustomEvent(name, { bubbles: true, cancelable: true, ...eventInitDict });\n  for (const key in event) {\n    try {\n      if (newEvent[key] === undefined) newEvent[key] = event[key];\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n  return newEvent;\n}\n\nexport function renderChildren(props = {}) {\n  const options = { parentNode: undefined, ...props };\n  let cacheMap = new Map();\n  let pointer = undefined;\n  let recycle = [];\n\n  function renderList(source = [], p) {\n    const config = {\n      beforeEach: () => 0,\n      keyExtractor: (item, index) => index,\n      onCacheNode: () => 0,\n      onCreateNode: () => 0,\n      onDeleteNode: () => 0,\n      onRemoveNode: () => 0,\n      onBeforeInsertNode: () => 0,\n      onInsertBeforeNode: () => 0,\n      ...p,\n    };\n    const map = new Map();\n    pointer = undefined;\n    config.beforeEach({ cacheMap, pointer });\n    source.forEach((item, index) => {\n      const key = config.keyExtractor(item, index);\n      let node;\n      config.onBeforeInsertNode(item, index, key);\n      if (cacheMap.has(key)) {\n        node = cacheMap.get(key);\n        config.onCacheNode(node, item, index, key);\n        if (pointer) {\n          if (pointer.nextSibling === node) {\n            //当前指针的下一个和要渲染的div相同 b不做处理\n          } else {\n            options.parentNode.insertBefore(node, pointer.nextSibling);\n          }\n        }\n        pointer = node;\n        cacheMap.delete(key);\n        config.onDeleteNode(node, item, index, key);\n      } else {\n        node = config.onCreateNode(item, index, key);\n        if (!pointer) options.parentNode.insertBefore(node, options.parentNode?.firstChild);\n        else options.parentNode.insertBefore(node, pointer?.nextSibling);\n        pointer = node;\n      }\n      config.onInsertBeforeNode(node, item, index, key);\n      map.set(key, node);\n    });\n    cacheMap.forEach((node, key) => {\n      node.remove();\n      config.onRemoveNode(node, key);\n    });\n    pointer = undefined;\n    cacheMap = map;\n  }\n\n  return { renderList };\n}\n","const events = new Map();\n\nnew MutationObserver((mutations) => {\n    events.forEach((fun, item) => {\n        if (fun instanceof Function) fun.call(item, mutations)\n    })\n    // console.log('document MutationObserver')\n}).observe(document, { subtree: true, attributes: true, attributeOldValue: true })\n\n\nexport const treeAttrsChangeIMP = {\n    simult: {\n        init() {\n            if (!this.$.changePropsRender) return;\n            events.set(this, () => this.$.changePropsRender())\n        },\n        disconnected() {\n            events.delete(this)\n        },\n    },\n    settle: {\n        init() { },\n    },\n    async: {\n        init() { },\n    }\n}\n\n","export function resizeObserverIMP(props = {}) {\r\n    let obs;\r\n    const config = {\r\n        isOnlyResizeWidth: false,\r\n        isOnlyResizeHeight: false,\r\n        resizeCallback: undefined,\r\n        resizeOptions: {},\r\n        ...props\r\n    }\r\n\r\n    let cache = {}\r\n\r\n    return {\r\n        simult: {\r\n            init() {\r\n                const cb = config.resizeCallback ? config.resizeCallback.bind(this) : this.$debouncedRender.bind(this);\r\n                try {\r\n                    obs = new ResizeObserver((...arg) => {\r\n                        let offset = { width: this.offsetWidth, height: this.offsetHeight };\r\n                        if (config.isOnlyResizeWidth && cache.width !== offset.width) cb(...arg)\r\n                        if (config.isOnlyResizeHeight && cache.height !== offset.height) cb(...arg)\r\n                        if (!config.isOnlyResizeWidth && !config.isOnlyResizeHeight) cb(...arg)\r\n                        cache = offset;\r\n                    });\r\n                    obs.observe(this, config.resizeOptions)\r\n                } catch (error) {\r\n                    console.warn(error);\r\n                }\r\n            },\r\n            disconnected() {\r\n                obs.disconnect(this)\r\n            },\r\n        },\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","export function treeObserverIMP(props = {}) {\r\n    let mObserver;\r\n    let rObserver;\r\n\r\n    const config = {\r\n        childrenResizeOptions: {},\r\n        onChildrenSizeChange() { },\r\n        resizeOptions: {},\r\n        onSizeChange() { },\r\n        onWidthChange() { },\r\n        onHeightChange() { },\r\n\r\n\r\n\r\n        mutationOptions: { childList: true },\r\n        onChildChange() { },\r\n        onAttributeChange() { },\r\n        ...props\r\n    }\r\n\r\n    let cache = {\r\n        offset: {},\r\n    }\r\n\r\n    return {\r\n        simult: {\r\n            init() {\r\n                try {\r\n                    rObserver = new ResizeObserver((entries, ...arg) => {\r\n                        let offset = { width: this.offsetWidth, height: this.offsetHeight };\r\n                        if (cache.offset.width !== offset.width) config.onWidthChange.call(this, entries, offset);\r\n                        if (cache.offset.height !== offset.height) config.onHeightChange.call(this, entries, offset);\r\n                        if (cache.offset.width !== offset.width || cache.offset.height !== offset.height) {\r\n                            config.onSizeChange.call(this, entries, offset);\r\n                        }\r\n                        cache.offset = offset;\r\n                        let includes = entries.some((el) => el.target === this)\r\n                        if (includes === false) config.onChildrenSizeChange.call(this, entries);\r\n                    });\r\n                    rObserver?.observe?.(this, config.resizeOptions)\r\n                } catch (error) {\r\n                    console.warn(error);\r\n                }\r\n                mObserver = new MutationObserver((mutations, ...arg) => {\r\n                    for (let mutation of mutations) {\r\n                        if (mutation.type === \"childList\") {\r\n                            const addedNodes = Array.from(mutation.addedNodes).filter(el => el.style);\r\n                            const removedNodes = Array.from(mutation.removedNodes).filter(el => el.style);\r\n                            addedNodes.forEach(ele => rObserver.observe(ele, config.childrenResizeOptions));\r\n                            removedNodes.forEach(ele => rObserver.unobserve(ele));\r\n                            config.onChildChange.call(this, mutation);\r\n                        } else if (mutation.type === \"attributes\") {\r\n                            config.onAttributeChange.call(this, mutation);\r\n                        }\r\n                    }\r\n                })\r\n                mObserver.observe(this, config.mutationOptions)\r\n            },\r\n            disconnected() {\r\n                mObserver.disconnect(this)\r\n                rObserver.disconnect(this)\r\n            },\r\n        },\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { arrayRemove } from \"./\";\n\nexport class ListArray extends Array {\n  constructor(...args) {\n    super(...args);\n\n    Object.defineProperty(this, \"events\", {\n      value: {},\n      writable: true,\n      enumerable: false,\n      configurable: false,\n    });\n  }\n\n  addEventListener(type, listener) {\n    if (!this.events[type]) this.events[type] = [];\n    this.events[type].push(listener);\n  }\n\n  removeEventListener(type, listener) {\n    if (!this.events[type]) this.events[type] = [];\n    arrayRemove(this.events[type], listener);\n  }\n\n  onChange(name, ...args) {\n    if (this.events.change instanceof Array) {\n      this.events.change.forEach((funs) => funs(name, ...args));\n    }\n\n    if (this.events[name] instanceof Array) {\n      this.events[name].forEach((funs) => funs(...args));\n    }\n  }\n\n  copyWithin(...args) {\n    let res = super.copyWithin(...args);\n    this?.onChange?.(\"copyWithin\", ...args);\n    return res;\n  }\n\n  fill(...args) {\n    let res = super.fill(...args);\n    this?.onChange?.(\"fill\", ...args);\n    return res;\n  }\n\n  pop(...args) {\n    let res = super.pop(...args);\n    this?.onChange?.(\"pop\", ...args);\n    return res;\n  }\n\n  push(...args) {\n    let res = super.push(...args);\n    this?.onChange?.(\"push\", ...args);\n    return res;\n  }\n\n  shift(...args) {\n    let res = super.shift(...args);\n    this?.onChange?.(\"shift\", ...args);\n    return res;\n  }\n\n  unshift(...args) {\n    let res = super.unshift(...args);\n    this?.onChange?.(\"unshift\", ...args);\n    return res;\n  }\n\n  splice(...args) {\n    let res = super.splice(...args);\n    this?.onChange?.(\"splice\", ...args);\n    return res;\n  }\n\n  sort(...args) {\n    let res = super.sort(...args);\n    this?.onChange?.(\"sort\", ...args);\n    return res;\n  }\n\n  reverse(...args) {\n    let res = super.reverse(...args);\n    this?.onChange?.(\"reverse\", ...args);\n    return res;\n  }\n}\n","const testArr = [\n  // { num: 33, tt: \"奇\" },\n  // { num: 44, tt: \"偶\" },\n  // { num: 11, tt: \"奇***\" },\n  // { num: 99, tt: \"奇***\" },\n  // { num: 22, tt: \"偶\" },\n  // { num: 77, tt: \"奇\" },\n  // { num: 88, tt: \"偶\" },\n  // { num: 99, tt: \"奇----\" },\n  // { num: 55, tt: \"奇\" },\n  // { num: 11, tt: \"奇----\" },\n  // { num: 66, tt: \"偶\" },\n\n  { num: 11, tt: \"奇\" },\n  { num: 22, tt: \"偶\" },\n  { num: 33, tt: \"奇***\" },\n  { num: 44, tt: \"偶***\" },\n  { num: 55, tt: \"奇\" },\n  { num: 66, tt: \"偶\" },\n  { num: 77, tt: \"奇\" },\n  { num: 88, tt: \"偶----\" },\n  { num: 99, tt: \"奇\" },\n];\n\nexport * from \"./sql.js\";\nexport * from \"./ListArray.js\";\n\nif (!Array.prototype.at) {\n  Array.prototype.at = function (...arg) {\n    return arrayAt(this, ...arg);\n  };\n}\n\nexport function arrayAt(list, index) {\n  let nth = index < 0 ? list.length + index : index;\n  return list[nth];\n}\n\n//循环\nexport function arrayLoop(num, cb) {\n  for (let index = 0; index < num; index++) {\n    if (cb(index) === false) return;\n  }\n}\n//循环创建\nexport function arrayLoopMap(num, cb) {\n  const arr = [];\n  for (let index = 0; index < num; index++) {\n    arr.push(cb(index));\n  }\n  return arr;\n}\n//冒泡查找\nexport function arrayBubble(list = [], formatter, verdict) {\n  let value = null;\n  let index;\n  let item;\n  list.forEach((ele, nth) => {\n    if (value === null) {\n      item = ele;\n      index = nth;\n      value = formatter(ele, nth, list);\n      return;\n    }\n\n    if (verdict(value, ele, nth, list)) {\n      item = ele;\n      index = nth;\n      value = formatter(ele, nth, list);\n    }\n  });\n  return item;\n}\n//冒泡查找最小\nexport function arrayBubbleMin(list = [], formatter) {\n  return arrayBubble(\n    list,\n    formatter,\n    (value, item, index, list) => formatter(item, index, list) < value,\n  );\n}\n//冒泡倒数查找最小\nexport function arrayBubbleLastMin(list = [], formatter) {\n  return arrayBubble(\n    list,\n    formatter,\n    (value, item, index, list) => formatter(item, index, list) <= value,\n  );\n}\n//冒泡查找最大\nexport function arrayBubbleMax(list = [], formatter) {\n  return arrayBubble(\n    list,\n    formatter,\n    (value, item, index, list) => formatter(item, index, list) > value,\n  );\n}\n//冒泡倒数查找最大\nexport function arrayBubbleLastMax(list = [], formatter) {\n  return arrayBubble(\n    list,\n    formatter,\n    (value, item, index, list) => formatter(item, index, list) >= value,\n  );\n}\n// 删除数组中的第n个 改变数组\nexport function arrayRemoveIndex(list = [], num) {\n  list.splice(num, 1);\n  return list;\n}\n// 删除数组中第一个找到的item 不改变数组\nexport function arrayRemove(list = [], item) {\n  const index = list.findIndex((el) => el === item);\n  if (~index) list.splice(index, 1);\n  return list;\n}\n// 删除数组中最后一个找到的item  不改变数组\nexport function arrayRemoveLast(list = [], item) {\n  const index = list.findLastIndex((el) => el === item);\n  if (~index) list.splice(index, 1);\n  return list;\n}\n// 删除数组中的所有 相同的 item 改变数组\nexport function arrayRemoves(list = [], item) {\n  const sames = list.filter((el) => el === item);\n  sames.forEach((el) => {\n    arrayRemove(list, el);\n  });\n  return list;\n}\n// 切割数组的index\nexport function arraySplitIndex(list = [], num) {\n  const arr = [];\n  for (let index = 0; index < list.length; index += num) {\n    const ar = [];\n    const max = index + num > list.length ? list.length : index + num;\n    for (let j = index; j < max; j++) {\n      ar.push(j);\n    }\n    arr.push(ar);\n  }\n  return arr;\n}\n// 切割数组\nexport function arraySplit(list = [], num) {\n  const arr = [];\n  for (let index = 0; index < list.length; index += num) {\n    const max = index + num > list.length ? list.length : index + num;\n    const ar = list.slice(index, max);\n    arr.push(ar);\n  }\n  return arr;\n}\n// 数组 根据某个属性 去重\nexport function arrayWipeRepetition(list = [], formatter) {\n  if (!formatter) return [...new Set(list)];\n  const map = new Map();\n  return list.filter(\n    (item, index) =>\n      !map.has(formatter(item, index).toString()) && map.set(formatter(item, index).toString()),\n  );\n}\n// 数组 根据某个属性 去重 从后面\nexport function arrayWipeRepetitionLast(list = [], formatter) {\n  if (!formatter) return [...new Set(list)];\n  const map = {};\n  list.forEach((item, index) => (map[formatter(item, index)] = item));\n  const arr = [];\n  for (const key in map) {\n    if (Object.hasOwnProperty.call(map, key)) {\n      const element = map[key];\n      arr.push(element);\n    }\n  }\n  return arr;\n}\n// 数组提取相同\nexport function arrayExtractSame(list = [], formatter) {\n  const map = {};\n  list.forEach((item) => {\n    if (!map[formatter(item)]) map[formatter(item)] = [];\n    map[formatter(item)].push(item);\n  });\n  const arr = [];\n  for (const key in map) {\n    if (Object.hasOwnProperty.call(map, key)) {\n      const element = map[key];\n      if (element.length > 1) arr.push(element);\n    }\n  }\n  return arr.flat();\n}\n\n// 数组排序 根据属性正序\nexport function arraySort(list = [], formatter, formatter2) {\n  let fmt = formatter2 || formatter;\n  list.sort((a, b) => formatter(a) - fmt(b));\n  return list;\n}\n\nexport function arraySortMin(...arg) {\n  return arraySort(...arg)[0];\n}\n\nexport function arraySortMax(list = [], ...arg) {\n  return arraySort(list, ...arg)[list.length - 1];\n}\n\n// 数组排序  根据属性倒序\nexport function arrayReverseSort(list = [], formatter, formatter2) {\n  let fmt = formatter2 || formatter;\n  list.sort((a, b) => fmt(b) - formatter(a));\n  return list;\n}\n\nexport function arrayReverseSortMin(...arg) {\n  return arrayReverseSort(...arg)[list.length - 1];\n}\n\nexport function arrayReverseSortMax(list = [], ...arg) {\n  return arrayReverseSort(list, ...arg)[0];\n}\n\n/**\n * 数组排序 根据另一个数组的属性\n * @param {*} list\n * @param {*} arr\n * @param {*} formatter\n * @returns\n */\nexport function arraySortByList(list, arr, formatter) {\n  list.forEach((item) => {\n    const sortIndex = arr.findIndex((ele) => formatter(item, ele));\n    item.sortIndex = sortIndex === -1 ? list.length : sortIndex;\n  });\n  list.sort(function (a, b) {\n    return a.sortIndex - b.sortIndex;\n  });\n  return list;\n}\n// 数组打乱\nexport function arrayRandom(list) {\n  const length = list.length;\n  for (let nth = 0; nth < length; nth++) {\n    const index = Math.floor(Math.random() * (list.length - 1));\n    list.push(list[index]);\n    list.splice(index, 1);\n  }\n}\n// 触发数组方法\nexport function arrayInvokeFuns(...args) {\n  const [list, formatter, ...arg] = args;\n  let funArgs = [formatter, ...arg];\n  let fmt = (item) => item;\n  if (formatter instanceof Function) {\n    fmt = formatter;\n    funArgs = [...arg];\n  }\n  list.forEach((item) => {\n    const fun = fmt(item);\n    fun(...funArgs);\n  });\n}\n/* 事件派发 */\nexport function arrayEvents() {\n  const events = [];\n\n  function push(eventCB) {\n    events.push(eventCB);\n  }\n\n  function remove(eventCB) {\n    arrayRemove(events, eventCB);\n  }\n\n  function invoke(...args) {\n    arrayInvokeFuns(events, ...args);\n  }\n\n  function invokes(fun) {\n    events.forEach(fun);\n  }\n\n  return { events, push, remove, invoke, invokes };\n}\n\n/* 二分查找 */\nexport function arrayBinarySearch(\n  setPointer = (args, index) => (args.right = index - 1),\n  arr = [],\n  formatter,\n  compare,\n) {\n  const fg = {\n    left: 0,\n    right: arr.length - 1,\n    result: -1,\n  };\n  while (fg.left <= fg.right) {\n    const index = Math.floor((fg.left + fg.right) / 2);\n    const item = arr[index];\n    if (formatter(item)) {\n      fg.result = index;\n      setPointer(fg, index, item);\n    } else if (compare(item)) {\n      fg.left = index + 1;\n    } else {\n      fg.right = index - 1;\n    }\n  }\n  return fg.result;\n}\n/* 二分查找到符合条件的第一个元素的下标 没有找到返回-1 compare<*/\nexport function arrayBinaryFindIndex(arr = [], formatter, compare) {\n  return arrayBinarySearch(\n    (args, index) => {\n      args.right = index - 1;\n    },\n    arr,\n    formatter,\n    compare,\n  );\n}\n/* 二分查找到符合条件的第一个元素 没有找到返回undefined compare<*/\nexport function arrayBinaryFind(arr = [], formatter, compare) {\n  const index = arrayBinaryFindIndex(arr, formatter, compare);\n  return index === -1 ? undefined : arr[index];\n}\n/* 二分查找到符合条件的最后一个元素的下标 没有找到返回-1 compare<*/\nexport function arrayBinaryFindLastIndex(arr = [], formatter, compare) {\n  return arrayBinarySearch(\n    (args, index) => {\n      args.left = index + 1;\n    },\n    arr,\n    formatter,\n    compare,\n  );\n}\n/* 二分查找到符合条件的最后一个元素 没有找到返回undefined compare<*/\nexport function arrayBinaryFindLast(arr = [], formatter, compare) {\n  const index = arrayBinaryFindLastIndex(arr, formatter, compare);\n  return index === -1 ? undefined : arr[index];\n}\n\n// 重新改变数组的方法 原来监听数组变化\nexport function arrayRewriteFunction(arr = [], props) {\n  const funName = [\n    \"copyWithin\",\n    \"fill\",\n    \"push\",\n    \"pop\",\n    \"shift\",\n    \"unshift\",\n    \"splice\",\n    \"sort\",\n    \"reverse\",\n  ];\n  const original = {};\n  const defineProperties = {};\n\n  funName.forEach((name) => {\n    original[name] = arr[name];\n\n    defineProperties[name] = {\n      value: function (...args) {\n        const res = original[name].call(arr, ...args);\n        if (props instanceof Function) props?.(\"name\", ...args);\n        return res;\n      },\n      writable: true,\n      enumerable: false,\n      configurable: false,\n    };\n  });\n\n  Object.defineProperties(arr, defineProperties);\n\n  return arr;\n}\n","import { arrayRemove } from \"../array\";\n\nexport function useQueue(props = {}) {\n  const options = {\n    onBegin: () => undefined,\n    onFinish: () => undefined,\n    onPush: () => undefined,\n    onPushed: () => undefined,\n    onRemove: () => undefined,\n    onRemoved: () => undefined,\n    ...props,\n  };\n\n  const queue = [];\n\n  function push(current) {\n    if (queue.length === 0) options.onBegin(queue, current);\n    options.onPush(queue, current);\n    queue.push(current);\n    options.onPushed(queue, current);\n  }\n\n  function change(current) {\n    //\n  }\n\n  function remove(current) {\n    options.onRemove(queue, current);\n    arrayRemove(queue, current);\n    options.onRemoved(queue, current);\n    if (queue.length === 0) options.onFinish(queue, current);\n  }\n\n  return { queue, push, remove, change };\n}\n\nexport function setTimeoutPromise(time = 0, resolveValue = time) {\n  return new Promise((resolve) => setTimeout(() => resolve(resolveValue), time));\n}\n","/**\n * 创建一个防抖函数\n * @param {Function} callback - 要执行的回调函数\n * @param {number} delay - 延迟时间，默认为500毫秒\n * @returns {Function} - 返回一个防抖函数\n */\nexport function timerDebounced(callback, delay = 500) {\n  let timeout;\n  return function fun(...arg) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      callback(...arg);\n    }, delay);\n  };\n}\n\nexport function animationDebounced(callback) {\n  let id;\n  return function fun(...arg) {\n    cancelAnimationFrame(id);\n    id = requestAnimationFrame((time) => {\n      callback(...arg);\n    });\n  };\n}\n\n/**\n * 定时器节流函数\n * @param {Function} callback - 需要节流的回调函数\n * @param {number} delay - 节流的时间间隔，默认为500毫秒\n * @returns {Function} - 节流后的回调函数\n */\nexport function timerThrottle(callback, delay = 500) {\n  let isThrottled = false;\n  return function throttledCallback(...args) {\n    if (isThrottled) return;\n    isThrottled = true;\n    callback(...args);\n    setTimeout(() => {\n      isThrottled = false;\n    }, delay);\n  };\n}\n/***\n *\n */\nexport function timeRefush(props = {}) {\n  const config = {\n    formatterTime: (date) => date.getDate(),\n    onChange: () => undefined,\n    once: false,\n    ms: 1000,\n    ...props,\n  };\n  let prveTime = config.formatterTime(new Date());\n  const timer = setInterval(() => {\n    const date = new Date();\n    const time = config.formatterTime(date);\n    if (prveTime !== time) {\n      config.onChange(time);\n      if (config.once) clearInterval(timer);\n    }\n    prveTime = time;\n  }, config.ms);\n}\n","import { camelCaseToKebabCase, assignStyle, convertToCamelCase, RainbowEvent } from \"./utils\";\nimport { treeAttrsChangeIMP } from \"../base/imps/index.js\";\nimport { animationDebounced } from \"@rainbow_ljy/rainbow-js\";\n\nexport class RainbowElement extends HTMLElement {\n  static $registerProps(types) {\n    const keys = [];\n    const props = {};\n    for (const key in types) {\n      if (Object.prototype.hasOwnProperty.call(types, key)) {\n        keys.push(key);\n        if (types[key]?.default instanceof Function) props[key] = types[key].default(props);\n        else props[key] = types[key]?.default;\n      }\n    }\n    this.prototype.$types = types;\n    this.prototype.$props = props;\n    return keys;\n  }\n\n  IMPS = [treeAttrsChangeIMP];\n\n  $ = {\n    self: this,\n    getSlotContainer: (node) => {\n      const soltName = node?.getAttribute?.(\"solt\");\n      if (!soltName) return undefined;\n      const container = this.$slotContainer?.[soltName];\n      return container;\n    },\n    _getSC: (...arg) => this.$.getSlotContainer(...arg),\n    renderSolt: (node) => {\n      if ([\"r-template\", \"template\"].includes(node.localName)) {\n        const soltName = node.getAttribute(\"solt\");\n        this.$slotContainer?.[soltName]?.append(node);\n        return node;\n      }\n      return false;\n    },\n    isInitAttrs: false,\n    data: {},\n    DATA: new Proxy({}, { get: (target, prop) => this.$.data[camelCaseToKebabCase(prop)] }),\n    props: { ...this.constructor.prototype.$props },\n    resolveFunCss: {\n      calc: (v, ...arg) => {\n        return v;\n      },\n    },\n    resolveCss: (key, str = \"\") => {\n      try {\n        const isAttrFun = /r-attr\\([^\\)]*?\\)/.test(str); //如果是r-attr 使用属性参数\n        if (isAttrFun) str = this.$.props[key];\n        // 解析px  vw vh\n        let cssVal = str.replace(/\\d+px|\\d+vw|\\d+vh/g, (len) => {\n          if (/\\d+px/.test(len)) return Number(len.replaceAll(\"px\", \"\"));\n          if (/\\d+vw/.test(len))\n            return (Number(len.replaceAll(\"vw\", \"\")) / 100) * window.innerWidth;\n          if (/\\d+vh/.test(len))\n            return (Number(len.replaceAll(\"vh\", \"\")) / 100) * window.innerHeight;\n          return len;\n        });\n        // 如果是方法\n        if (/([^\\(]*?)\\([^\\)]*?\\)/.test(cssVal)) {\n          return eval(`this.$.resolveFunCss.${cssVal}`);\n        }\n        // 如果可以转换成数字\n        let number = Number(cssVal);\n        if (!isNaN(number)) return number;\n        // 如果可以转换成数组\n        if (/.*?,.*?/.test(cssVal)) return cssVal.trim().split(\",\").filter(Boolean);\n        return cssVal;\n      } catch (error) {\n        console.log(error);\n        return str;\n      }\n    },\n    cache: {\n      data: {},\n      style: {},\n      class: new Map(),\n    },\n    resolvePercentum: (v = \"\", node = this, fmt = (node) => node.offsetWidth) => {\n      if (/\\d+?%/.test(v)) return fmt(node) * (v.replaceAll(\"%\", \"\") / 100);\n      return v;\n    },\n    resolvePercentumH: (v, node, fmt = (node) => node.offsetHeight) => {\n      return this.$.resolvePercentum(v, node, fmt);\n    },\n    setStyle: (fmtStyle = () => ({})) => {\n      let ftStyle = fmtStyle(this.$.data) || {};\n      let newStyle = ftStyle;\n      if (ftStyle instanceof Array) {\n        newStyle = ftStyle.filter(Boolean).reduce((add, value) => {\n          Object.assign(add, value);\n          return add;\n        }, {});\n      }\n      for (const key in newStyle) {\n        if (Object.prototype.hasOwnProperty.call(newStyle, key)) {\n          if (this.$.cache.style[key] !== newStyle[key]) {\n            this.style[key] = \"\";\n            this.style[key] = newStyle[key];\n          }\n          delete this.$.cache.style[key];\n        }\n      }\n      for (const key in this.$.cache.style) {\n        if (Object.prototype.hasOwnProperty.call(this.$.cache.style, key)) {\n          this.style[key] = \"\";\n        }\n      }\n      this.$.cache.style = newStyle;\n    },\n    setClass: (fmtClass = () => []) => {\n      let newClass = fmtClass(this.$.data);\n      if (newClass?.length === undefined) newClass = [newClass];\n      newClass = newClass.filter(Boolean);\n      let newMap = new Map();\n      newClass.forEach((key) => {\n        newMap.set(key, key);\n        this.$.cache.class.delete(key);\n        this.classList.add(key);\n      });\n      this.$.cache.class.forEach((key, v) => {\n        this.classList.remove(key);\n      });\n      this.$.cache.class = newMap;\n    },\n    findParentByLocalName: (name, p = this) => {\n      if (!p) return;\n      const parent = p.parentNode;\n      if (!parent) return;\n      if (name instanceof Array && name.includes(parent.localName)) return parent;\n      if (parent.localName === name) return parent;\n      return this.$.findParentByLocalName(name, parent);\n    },\n    findChildByLocalName: (name, c = this) => {\n      if (!c) return;\n      const child = c.getElementsByTagName(name);\n      return child;\n    },\n    getOffsetTop: (p, num = 0) => {\n      if (this.offsetParent === p) return num;\n      let offsetTop = this.offsetTop;\n      let top = num + offsetTop;\n      return this.$.getOffsetTop(this.offsetParent, top);\n    },\n    isAnimation: false,\n    transitionrun: () => {\n      this.$.isAnimation = true;\n    },\n    transitioncancel: () => {\n      this.$.isAnimation = false;\n    },\n    transitionend: () => {\n      this.$.isAnimation = false;\n    },\n    changePropsRender: (force) => {\n      if (this.$.isAnimation) return;\n      let isChange = false;\n      const css = {};\n      const style = window.getComputedStyle(this);\n      for (const key in this.$.props) {\n        if (Object.prototype.hasOwnProperty.call(this.$.props, key)) {\n          const cssVal = style.getPropertyValue(\"--\" + key).trim();\n          css[key] = this.$.resolveCss(key, cssVal);\n          if (this.$.cache.data[key] !== css[key]) isChange = true;\n        }\n      }\n      this.$.data = css;\n      this.$.cache.data = css;\n      // console.log(isChange);\n      if (isChange || force === true) this.$debouncedRender(css);\n      return css;\n    },\n    append: (...nodes) => {\n      return super.append(...nodes);\n    },\n    appendChild: (...nodes) => {\n      return super.appendChild(...nodes);\n    },\n    insertBefore: (...nodes) => {\n      return super.insertBefore(...nodes);\n    },\n    removeChild: (...nodes) => {\n      return super.removeChild(...nodes);\n    },\n  };\n\n  constructor(...arg) {\n    super(...arg);\n    this.IMPS.push(...(this.$onRegisterIMPS?.() || []));\n    this.$debouncedRender = animationDebounced((...pop) => this.$render(...pop));\n    this.IMPS.map((el) => el?.simult)?.forEach((el) => el?.init?.call?.(this));\n    this.addEventListener(\"transitionrun\", this.$.transitionrun);\n    this.addEventListener(\"transitioncancel\", this.$.transitioncancel);\n    this.addEventListener(\"transitionend\", this.$.transitionend);\n  }\n\n  $slotContainer = {\n    default: this,\n  };\n\n  append(...nodes) {\n    console.log(\"append\");\n    nodes.forEach((node, index) => {\n      if (this.$._getSC(node)) return this.$._getSC(node)?.append?.(node);\n      if (this === this.$slotContainer.default) return super.append?.(node);\n      this.$slotContainer.default?.append?.(node);\n    });\n  }\n\n  appendChild(node) {\n    console.log(\"appendChild\");\n    if (this.$._getSC(node)) return this.$._getSC(node)?.appendChild?.(node);\n    if (this === this.$slotContainer.default) return super.appendChild?.(node);\n    return this.$slotContainer.default?.appendChild?.(node);\n  }\n\n  insertBefore(node, child) {\n    console.log(\"insertBefore\");\n    if (this.$._getSC(node)) return this.$._getSC(node)?.insertBefore?.(node, child);\n    if (this === this.$slotContainer.default) return super.insertBefore?.(node, child);\n    return this.$slotContainer.default.insertBefore?.(node, child);\n  }\n\n  removeChild(child) {\n    console.log(\"removeChild\");\n    if (this.$._getSC(child)) return this.$._getSC(child)?.removeChild?.(child);\n    if (this === this.$slotContainer.default) return super.removeChild?.(child);\n    return this.$slotContainer.default.removeChild?.(child);\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    this.$.props[name] = newValue;\n    if (this.$.isInitAttrs === true) this.$onAttributeChanged(name, oldValue, newValue);\n  }\n\n  $onAttributeChanged() {\n    this.IMPS.map((el) => el?.simult)?.forEach((el) => el?.changeAttr?.call?.(this));\n    this.$.changePropsRender();\n  }\n\n  connectedCallback() {\n    this.$.isInitAttrs = true;\n    this.IMPS.map((el) => el?.simult)?.forEach((el) => el?.connected?.call?.(this));\n    this.$.changePropsRender();\n  }\n\n  adoptedCallback() {\n    this.IMPS.map((el) => el?.simult)?.forEach((el) => el?.adopted?.call?.(this));\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener(\"transitionrun\", this.$.transitionrun);\n    this.removeEventListener(\"transitioncancel\", this.$.transitioncancel);\n    this.removeEventListener(\"transitionend\", this.$.transitionend);\n    this.IMPS.map((el) => el?.simult)?.forEach((el) => el?.disconnected?.call?.(this));\n  }\n\n  $onRegisterIMPS() {\n    return [];\n  }\n\n  $render() {}\n}\n\n\n","import { RainbowElement } from '../../base/index.js'\nimport './index.css'\n\nexport class RAbsolute extends RainbowElement {\n    static observedAttributes = this.$registerProps({\n        'r-position': [Boolean, String],\n    });\n}\n\n","import \"./index.css\";\nimport { RainbowElement, createCustomEvent } from \"../../base/index.js\";\nfunction Transition(params = {}) {\n  const props = {\n    node: document.createElement(\"div\"),\n    name: \"\",\n    className: \"\",\n    oBeforeEnter: () => 0,\n    onEnter: () => 0,\n    onAfterEnter: () => 0,\n    onEnterCancelled: () => 0,\n    ...params,\n  };\n\n  const args = {\n    className: [],\n    show,\n    hide,\n    setName,\n    visible,\n  };\n\n  function setName(str) {\n    props.name = str;\n  }\n\n  const enter = {\n    isAnimation: false,\n    resolve: () => 0,\n    clear: () => {\n      props.node.classList.remove(\n        `${props.name}enter-active`,\n        `${props.name}enter-to`,\n        `${props.name}enter-from`,\n      );\n      props.node.setAttribute(\"part\", props.node.className);\n      props.node.removeEventListener(\"transitionend\", enter.transitionend);\n      props.node.removeEventListener(\"transitioncancel\", enter.transitioncancel);\n      enter.isAnimation = false;\n    },\n    transitionend: () => {\n      console.log(\"enter transitionend\");\n      enter.clear();\n    },\n    transitioncancel: () => {\n      console.log(\"enter transitioncancel\");\n      enter.clear();\n    },\n    destroy() {\n      enter.clear();\n      return new Promise((resolve, reject) => {\n        resolve(true);\n      });\n    },\n  };\n\n  const leave = {\n    isAnimation: false,\n    resolve: () => 0,\n    clear: () => {\n      props.node.classList.remove(\n        `${props.name}leave-active`,\n        `${props.name}leave-from`,\n        `${props.name}leave-to`,\n      );\n      props.node.setAttribute(\"part\", props.node.className);\n      props.node.removeEventListener(\"transitionend\", leave.transitionend);\n      props.node.removeEventListener(\"transitioncancel\", leave.transitioncancel);\n      leave.isAnimation = false;\n    },\n    transitionend: () => {\n      console.log(\"leave transitionend\");\n      props.node.classList.remove(`${props.className}show`);\n      props.node.classList.add(`${props.className}hide`);\n      props.node.setAttribute(\"part\", props.node.className);\n      leave.clear();\n    },\n    transitioncancel: () => {\n      console.log(\"leave transitioncancel\");\n      leave.clear();\n    },\n    destroy() {\n      leave.clear();\n      return new Promise((resolve, reject) => {\n        resolve(true);\n      });\n    },\n  };\n\n  async function show() {\n    if (enter.isAnimation === true) return;\n    enter.isAnimation = true;\n    await leave.destroy();\n    props.node.classList.add(\n      `${props.className}show`,\n      `${props.name}enter-active`,\n      `${props.name}enter-from`,\n    );\n    props.node.classList.remove(`${props.name}enter-to`, `${props.className}hide`);\n    props.node.setAttribute(\"part\", props.node.className);\n    props?.oBeforeEnter?.();\n    requestAnimationFrame(() => {\n      props.node.classList.add(`${props.name}enter-to`);\n      props.node.classList.remove(`${props.name}enter-from`);\n      props.node.setAttribute(\"part\", props.node.className);\n      props.onEnter();\n      props.node.addEventListener(\"transitionend\", enter.transitionend);\n      //   props.node.addEventListener(\"transitioncancel\", enter.transitioncancel);\n    });\n  }\n\n  async function hide() {\n    if (leave.isAnimation === true) return;\n    leave.isAnimation = true;\n    await enter.destroy();\n    props.node.classList.add(`${props.name}leave-active`, `${props.name}leave-from`);\n    props.node.classList.remove(`${props.name}leave-to`);\n    props.node.setAttribute(\"part\", props.node.className);\n    requestAnimationFrame(() => {\n      props.node.classList.add(`${props.name}leave-to`);\n      props.node.classList.remove(`${props.name}leave-from`);\n      props.node.setAttribute(\"part\", props.node.className);\n      props.node.addEventListener(\"transitionend\", leave.transitionend);\n      //   props.node.addEventListener(\"transitioncancel\", leave.transitioncancel);\n    });\n  }\n\n  function visible(bool) {\n    if (bool) {\n      props.node.classList.add(`${props.className}show`);\n      props.node.classList.remove(`${props.className}hide`);\n      props.node.setAttribute(\"part\", props.node.className);\n      return;\n    }\n\n    props.node.classList.add(`${props.className}hide`);\n    props.node.classList.remove(`${props.className}show`);\n    props.node.setAttribute(\"part\", props.node.className);\n  }\n\n  return args;\n}\n\nclass RVisibleAnimate extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-orientation\": String, // \"left\" \"right\" \"top\" \"bottom\" \"center\"\n  });\n\n  $$visible = true;\n\n  $$transition = Transition({\n    node: this,\n    name: \"r-visible-animate-\",\n    className: \"r-visible-animate-\",\n  });\n\n  constructor(...arg) {\n    super(...arg);\n  }\n\n  open() {\n    this.$$visible = true;\n    this.$$transition.show();\n  }\n\n  close() {\n    this.$$visible = false;\n    this.$$transition.hide();\n  }\n\n  $render() {\n    const { rOrientation } = this.$.DATA;\n    this.$$transition.setName([\"r-visible-animate\", rOrientation].filter(Boolean).join(\"-\") + \"-\");\n    this.$.setClass(() => [rOrientation && \"r-visible-animate-\" + rOrientation]);\n    this.$$transition.visible(this.$$visible);\n  }\n}\n\ncustomElements.define(\"r-visible-animate\", RVisibleAnimate);\n\nexport class RDialog extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-orientation\": String, // \"left\" \"right\" \"top\" \"bottom\" \"center\"\n  });\n\n  $$content;\n  $$visible = false;\n  $$transition = Transition({ node: this, name: \"r-dialog-\", className: \"r-dialog-\" });\n\n  constructor(...arg) {\n    super(...arg);\n  }\n\n  open() {\n    this.$$visible = true;\n    this.$$transition.show();\n  }\n\n  close() {\n    this.$$visible = false;\n    this.$$transition.hide();\n  }\n\n  $$setClass() {\n    const { rOrientation } = this.$.DATA;\n    this.$.setClass(() => [\n      rOrientation && \"r-dialog-\" + rOrientation,\n      this.$$visible === true && \"r-dialog-show\",\n      this.$$visible === false && \"r-dialog-hide\",\n    ]);\n  }\n\n  $render() {\n    // this.$$setClass();\n\n    const { rOrientation } = this.$.DATA;\n    this.$$transition.setName([\"r-dialog\", rOrientation].filter(Boolean).join(\"-\") + \"-\");\n    this.$.setClass(() => [rOrientation && \"r-dialog-\" + rOrientation]);\n    this.$$transition.visible(this.$$visible);\n  }\n}\n\n","import { RainbowElement } from \"../../base/index.js\";\nimport { arrayLoopMap } from \"@rainbow_ljy/rainbow-js\";\nimport { treeObserverIMP } from \"../../base/imps/index.js\";\nimport \"./index.css\";\n\nexport class RFalls extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-min-auto-width\": Number,\n    \"r-columns\": { type: Number, default: 2 },\n    \"r-gap\": { type: Number, default: 0 },\n    \"r-row-gap\": { type: Number, default: 0 },\n    \"r-column-gap\": { type: Number, default: 0 },\n  });\n\n  $onRegisterIMPS() {\n    return [\n      treeObserverIMP({\n        onWidthChange() {\n          this.$debouncedRender(this.$?.data);\n        },\n        onChildrenSizeChange() {\n          this.$debouncedRender(this.$?.data);\n        },\n      }),\n    ];\n  }\n\n  $render() {\n    let { rMinAutoWidth, rColumns, rGap, rRowGap, rColumnGap } = this.$.DATA;\n    // console.log(rMinAutoWidth, rColumns, rGap, rRowGap, rColumnGap);\n    const col = (() => {\n      if (rMinAutoWidth) return Math.floor(this.offsetWidth / rMinAutoWidth);\n      return rColumns;\n    })();\n    // console.log(col);\n    let colGap = rColumnGap || rGap;\n    let rowGap = rRowGap || rGap;\n    let left = (i) =>\n      `calc( ${(100 / col) * i}% - ${(((col - 1) * colGap) / col) * i}px + ${i * colGap}px )`;\n    const list = arrayLoopMap(col, (i) => ({ height: 0, left: left(i), top: 0, index: i }));\n    // console.log(list);\n    let itemWidth = `calc( ${100 / col}% - ${((col - 1) * colGap) / col}px )`;\n    // console.log(itemWidth);\n    Array.from(this.children).forEach((child) => {\n      child.classList.add(\"r-falls-item\");\n      child.style.width = itemWidth;\n      let node = getMinHeightItem(list);\n      if (node.height) node.height = node.height + rowGap;\n      child.style.left = node.left;\n      child.style.top = node.height + \"px\";\n      node.height = node.height + child.offsetHeight;\n    });\n    this.style.height = getMaxHeightItem(list).height + \"px\";\n  }\n}\n\nfunction getMinHeightItem(list) {\n  let item = list[0];\n  list.forEach((el) => {\n    if (el.height < item.height) item = el;\n  });\n  return item;\n}\n\nfunction getMaxHeightItem(list) {\n  let item = list[0];\n  list.forEach((el) => {\n    if (el.height > item.height) item = el;\n  });\n  return item;\n}\n\n","import { RainbowElement } from \"../../base/index.js\";\nimport { resizeObserverIMP } from \"../../base/imps/index.js\";\nimport \"./index.css\";\n\nexport class RGrid extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-columns\": { type: Number, default: 1 },\n    \"r-min-auto-width\": Number,\n    \"r-gap\": [Number, String],\n    \"r-row-gap\": [Number, String],\n    \"r-column-gap\": [Number, String],\n    \"r-grid-wrap\": String,\n    \"r-grid-stretch\": String,\n  });\n\n  $onRegisterIMPS() {\n    return [resizeObserverIMP({ isOnlyResizeWidth: true })];\n  }\n\n  $render() {\n    // console.log([this], this.$.data);\n    const { rGap, rRowGap, rColumnGap } = this.$.DATA;\n    this.$.setStyle(() => [\n      {\n        \"grid-template-columns\": `repeat(${this.$$columns}, 1fr)`,\n        \"grid-gap\": rGap + \"px\",\n        \"row-gap\": (rRowGap || rGap) + \"px\",\n        \"column-gap\": (rColumnGap || rGap) + \"px\",\n      },\n    ]);\n    this.$$doLayout();\n  }\n\n  get $$columns() {\n    let { rColumns, rMinAutoWidth } = this.$.DATA;\n    if (rMinAutoWidth) return Math.floor(this.offsetWidth / rMinAutoWidth);\n    return rColumns;\n  }\n\n  $$doLayout() {\n    const { rGridWrap, rGridStretch } = this.$.DATA;\n    let children = Array.from(this.children);\n    let clumnList = children.map((el) => el.getAttribute(\"grid-column\") * 1 || 1);\n    let start = 1;\n    let gridColumns = [];\n    let maxColumn = this.$$columns + 1;\n    clumnList.forEach((num, index) => {\n      let end = start + num;\n      if (rGridWrap === \"wrap\") {\n        if (end > maxColumn) {\n          if (rGridStretch === \"stretch\") {\n            if (gridColumns[index - 1]) gridColumns[index - 1].end = maxColumn;\n          }\n          start = 1;\n          let end2 = start + num;\n          end = end2 > maxColumn ? maxColumn : end2;\n        }\n      } else {\n        if (end > maxColumn) end = maxColumn;\n      }\n      gridColumns.push({\n        start: start,\n        end: end,\n        index,\n      });\n      start = start + num;\n      if (start > this.$$columns) start = 1;\n    });\n    children.forEach((el, index) => {\n      el.classList.add(\"r-grid-item\");\n      el.style[\"grid-column-start\"] = gridColumns[index].start;\n      el.style[\"grid-column-end\"] = gridColumns[index].end;\n    });\n  }\n}\n\n\n","import \"./index.css\";\nimport { RainbowElement, createCustomEvent } from \"../../base/index.js\";\n\nexport class RScroll extends RainbowElement {\n  $$ = {\n    default: document.createElement(\"div\"),\n    top: document.createElement(\"div\"),\n    content: document.createElement(\"div\"),\n    prveScrollTop: 0,\n    onScroll: (event) => {\n      event.scrollTop = this.$$.default.scrollTop;\n      event.moveY = this.$$.prveScrollTop - this.$$.default.scrollTop;\n      if (event.moveY < 0) this.dispatchEvent(createCustomEvent(\"scrollUp\", event));\n      if (this.onscroll) this.onscroll(event);\n      this.dispatchEvent(createCustomEvent(\"scroll\", event));\n      if (event.moveY > 0) this.dispatchEvent(createCustomEvent(\"scrollDown\", event));\n      this.$$.prveScrollTop = this.$$.default.scrollTop;\n    },\n    disabledScroll: () => {\n      this.$$.default.classList.add(\"r-scroll-element-disabled-scroll\");\n    },\n    unDisabledScroll: () => {\n      this.$$.default.classList.remove(\"r-scroll-element-disabled-scroll\");\n    },\n  };\n\n  $slotContainer = {\n    default: this.$$.default,\n    top: this.$$.top,\n  };\n\n  get scrollTop() {\n    return this.$$.default?.scrollTop;\n  }\n\n  set scrollTop(v) {\n    this.$$.default.scrollTop = v;\n  }\n\n  scrollBy(...arg) {\n    this.$$.default?.scrollBy?.(...arg);\n  }\n\n  scrollTo(...arg) {\n    this.$$.default?.scrollTo?.(...arg);\n  }\n\n  constructor(...arg) {\n    super(...arg);\n    this.$$.default.addEventListener(\"scroll\", this.$$.onScroll);\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    this.$$.default.removeEventListener(\"scroll\", this.$$.onScroll);\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.$$.top.classList.add(\"r-scroll-top\");\n    this.$$.content.classList.add(\"r-scroll-content\");\n    this.$$.default.classList.add(\"r-scroll-element\");\n    this.$$.content.append(this.$$.default);\n    this.$.append(this.$$.top);\n    this.$.append(this.$$.content);\n    this.$$.prveScrollTop = this.$$.default.scrollTop;\n  }\n}\n\n","import \"./index.css\";\nimport { RainbowElement, createCustomEvent } from \"../../base/index.js\";\nimport { setTimeoutPromise } from \"@rainbow_ljy/rainbow-js\";\n\nexport class RScrollRefresh extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-refresh-heignt\": { type: String, default: \"0\" },\n    \"r-max-refresh-heignt\": { type: String, default: \"0\" },\n    \"r-min-time\": { type: String, default: \"500\" },\n  });\n\n  onrefresh() {}\n\n  $$renderRefresh() {\n    const circle = document.createElement(\"r-circle\");\n    circle.classList.add(\"r-scroll-refresh-circle\");\n    const loadIcon = document.createElement(\"i\");\n    loadIcon.classList.add(\"loading-icon\", \"iconfont\", \"r-scroll-refresh-loading\");\n    loadIcon.innerHTML = \"&#xe607;\";\n    const text = document.createElement(\"div\");\n    text.classList.add(\"r-scroll-refresh-text\");\n\n    this.$.append(circle);\n    this.$.append(loadIcon);\n    this.$.append(text);\n\n    const handleLoading = () => {\n      if (!this.$$.loading) {\n        loadIcon.classList.add(\"r-scroll-refresh-loading-hide\");\n        circle.classList.remove(\"r-scroll-refresh-circle-hide\");\n      } else {\n        loadIcon.classList.remove(\"r-scroll-refresh-loading-hide\");\n        circle.classList.add(\"r-scroll-refresh-circle-hide\");\n      }\n    };\n\n    handleLoading();\n    return () => {\n      handleLoading();\n      const { rRefreshHeignt } = this.$.DATA;\n      circle.value = (this.$$.height / rRefreshHeignt) * 100;\n      text.innerText = (() => {\n        if (this.$$.loading) return \"正在刷新\";\n        if (this.$$.release) return \"释放刷新\";\n        return \"下拉刷新\";\n      })();\n    };\n  }\n\n  $$ = {\n    createPromise: () => {\n      return new Promise((resolve) => {\n        this.$$.resolve = resolve;\n      });\n    },\n    resolve: () => 0,\n    promise: undefined,\n    scrollParent: this.$.findParentByLocalName([\"r-scroll\", \"r-nested-scroll\"]),\n    loading: false,\n    DATA: this.$.DATA,\n    get release() {\n      const { rRefreshHeignt } = this.DATA;\n      return this.height > rRefreshHeignt;\n    },\n    render: () => {},\n    pointerdownEvent: undefined,\n    touchstartEvent: undefined,\n    lock: false,\n    height: 0,\n    pointerdown: (event) => {\n      if (this.$$.loading === true) return;\n      // event.stopPropagation();\n      this.$$.pointerdownEvent = event;\n      this.$$.lock = false;\n    },\n    pointermove: (event) => {\n      if (this.$$.loading === true) return;\n      // event.stopPropagation();\n      const moveY = event.pageY - this.$$.pointerdownEvent.pageY;\n      const { scrollParent } = this.$$;\n      if (scrollParent.scrollTop > 0) {\n        scrollParent.removeEventListener(\"pointermove\", this.$$.pointermove);\n        this.$$.lock = false;\n        return;\n      }\n      if (moveY >= 8 && scrollParent.scrollTop <= 0) this.$$.lock = true;\n    },\n    touchstart: (event) => {\n      if (this.$$.loading === true) return;\n      // event.stopPropagation();\n      this.$$.touchstartEvent = event.touches[0];\n    },\n    touchmove: (event) => {\n      if (this.$$.loading === true) return;\n      if (!this.$$.lock) return;\n      const { rMaxRefreshHeignt } = this.$.DATA;\n      // event.stopPropagation();\n      let moveY = event.touches[0].pageY - this.$$.touchstartEvent.pageY;\n      event.stopImmediatePropagation();\n      event.preventDefault();\n      if (moveY < 0) moveY = 0;\n      this.classList.remove(\"r-scroll-refresh-transition\");\n      this.$$.height = (moveY / (rMaxRefreshHeignt / 2 + moveY)) * rMaxRefreshHeignt;\n      event.refreshHeight = this.$$.height;\n      this.style.height = this.$$.height + \"px\";\n      this.$$.render();\n    },\n    touchend: async (event) => {\n      if (this.$$.loading === true) return;\n      if (!this.$$.lock) return;\n      // event.stopPropagation();\n      const { scrollParent } = this.$$;\n      const { rRefreshHeignt, rMinTime } = this.$.DATA;\n      this.classList.add(\"r-scroll-refresh-transition\");\n      const release = this.$$.release;\n      this.$$.height = release ? rRefreshHeignt : 0;\n      this.$$.lock = false;\n      event.refreshHeight = this.$$.height;\n      this.style.height = this.$$.height + \"px\";\n      this.$$.render();\n      if (release) {\n        this.$$.loading = true;\n        this.$$.render();\n        scrollParent.$$.disabledScroll();\n        this.$$.promise = this.$$.createPromise();\n        event.resolve = this.$$.resolve;\n        this.dispatchEvent(createCustomEvent(\"refresh\", event));\n        await Promise.allSettled(\n          [setTimeoutPromise(rMinTime, true), this.onrefresh(), this.$$.promise].filter(Boolean),\n        );\n        this.$$.height = 0;\n        event.refreshHeight = this.$$.height;\n        this.$$.loading = false;\n        this.style.height = this.$$.height + \"px\";\n        this.$$.render();\n        scrollParent.$$.unDisabledScroll();\n      }\n    },\n  };\n\n  constructor(...arg) {\n    super(...arg);\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.classList.add(\"r-scroll-refresh\");\n    this.$$.scrollParent = this.$.findParentByLocalName([\"r-scroll\", \"r-nested-scroll\"]);\n    const { scrollParent } = this.$$;\n    const opt = { passive: false, capture: true };\n    scrollParent.addEventListener(\"pointerdown\", this.$$.pointerdown, opt);\n    scrollParent.addEventListener(\"pointermove\", this.$$.pointermove, opt);\n    scrollParent.addEventListener(\"touchstart\", this.$$.touchstart);\n    scrollParent.addEventListener(\"touchmove\", this.$$.touchmove);\n    scrollParent.addEventListener(\"touchend\", this.$$.touchend);\n    this.$$.render = this.$$renderRefresh();\n  }\n\n  disconnectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    const { scrollParent } = this.$$;\n    scrollParent.removeEventListener(\"pointerdown\", this.$$.pointerdown);\n    scrollParent.removeEventListener(\"pointermove\", this.$$.pointermove);\n    scrollParent.removeEventListener(\"touchstart\", this.$$.touchstart);\n    scrollParent.removeEventListener(\"touchmove\", this.$$.touchmove);\n    scrollParent.removeEventListener(\"touchend\", this.$$.touchend);\n  }\n}\n\n\n","import './index.css';\nimport { RainbowElement } from '../../base/index.js'\n\nexport class RScrollMemoryBubble extends RainbowElement {\n    static observedAttributes = this.$registerProps({\n        'r-orientation': { type: String, default: \"right\" },  // \"left\" \"right\" \"top\" \"bottom\"\n        'r-init-visibility': { type: String, default: 'visible' }, // 'hidden' 'visible'\n        'r-visible-distance': { type: String, default: '100px' }, // px\n        'r-visible-reversal': String // 'noReversal' 'reversal'\n    });\n\n    $$visible = true;\n    $$cacheMoveY = 0;\n    $$scrollParent;\n\n    connectedCallback(...arg) {\n        super.connectedCallback(...arg);\n        this.$$visible = this.$.DATA.rInitVisibility === 'visible'\n        this.$$scrollParent = this.$.findParentByType('RScroll');\n\n        this.$$scrollParent.addEventListener('scrollUp', this.$$setVisibleFalse.bind(this))\n        this.$$scrollParent.addEventListener('scrollDown', this.$$setVisibleTrue.bind(this))\n    }\n\n    disconnectedCallback(...arg) {\n        super.connectedCallback(...arg);\n\n        this.$$scrollParent.removeEventListener('scrollUp', this.$$setVisibleFalse.bind(this));\n        this.$$scrollParent.removeEventListener('scrollDown', this.$$setVisibleTrue.bind(this));\n    }\n\n    $$setClass() {\n        const { rOrientation } = this.$.DATA\n        this.$.setClass(() => ([\n            \"r-scroll-memory-bubble-\" + rOrientation,\n            this.$$visible ? `r-scroll-memory-bubble-visible` : `r-scroll-memory-bubble-hide`,\n            this.$$visible ? `r-scroll-memory-bubble-visible-${rOrientation}` : `r-scroll-memory-bubble-hide-${rOrientation}`,\n        ]))\n    }\n\n    $$setVisibleTrue(event) {\n        if (this.$$visible === true) return this.$$cacheMoveY = 0;\n        this.$$cacheMoveY = this.$$cacheMoveY + Math.abs(event.moveY);\n        if (this.$$cacheMoveY >= this.$.DATA.rVisibleDistance) {\n            this.$$cacheMoveY = 0;\n            this.$$visible = true;\n            this.$$setClass();\n        }\n    }\n\n    $$setVisibleFalse(event) {\n        if (this.$$visible === false) return this.$$cacheMoveY = 0;\n        this.$$cacheMoveY = this.$$cacheMoveY + Math.abs(event.moveY);\n        if (this.$$cacheMoveY >= this.$.DATA.rVisibleDistance) {\n            this.$$cacheMoveY = 0;\n            this.$$visible = false;\n            this.$$setClass();\n        }\n    }\n\n    $render() {\n        this.$$setClass();\n    }\n}\n\n","import './index.css';\nimport { RainbowElement } from '../../base/index.js'\n\nexport class RScrollSticky extends RainbowElement {\n    static observedAttributes = this.$registerProps({\n        top: Number,\n        bottom: Number,\n        'r-scroll-anima': Number,\n        'r-active-top': Number, // r-scroll-sticky-act 的高度\n        'r-opacity-ani': Boolean,\n        'r-opacity-top': Number,\n        'r-visible-ani': Boolean,\n        'r-visible-top': Number,\n        'r-opacity-delay': { type: Number, default: 0 }\n    });\n\n    $$isSticky = false;\n    $$isStickyTop = false;\n    $$isStickyBottom = false;\n    $$isStickyAct = false;\n    $$scrollParent;\n    $$opacity;\n    $$display;\n\n\n    $render() {\n        console.log(this.$.data)\n    }\n\n    $bindClass() {\n        // this.$.setClass(() => [\n        //     this.$$isSticky && \"sticky\",\n        //     !this.$$isSticky && \"un-sticky\",\n        //     this.$$isStickyTop && \"sticky-top\",\n        //     !this.$$isStickyTop && \"un-sticky-top\",\n        //     !this.$$isStickyBottom && \"un-sticky-bottom\",\n        //     this.$$isStickyAct && \"sticky-act\",\n        // ])\n    }\n\n    $bindStyle() {\n        // this.$.setStyle(() => ({\n        //     top: this.$setStylePx(props.top),\n        //     bottom: this.$setStylePx(props.bottom),\n        //     opacity: this.$$opacity,\n        //     display: this.$$display,\n        // }))\n    }\n\n    connectedCallback(...arg) {\n        super.connectedCallback(...arg);\n\n        this.$$scrollParent = this.$.findParentByType('RScroll');\n        this.$$initTop = this.$.getOffsetTop(this.$$scrollParent);\n        this.$$onScroll();\n        this.$$scrollParent.addEventListener('scroll', this.$$onScroll.bind(this))\n    }\n\n    disconnectedCallback(...arg) {\n        super.connectedCallback(...arg);\n\n        this.$$scrollParent.removeEventListener('scroll', this.$$onScroll.bind(this));\n    }\n\n\n\n\n    // get $$opacityTop() {\n    //     if (this.$attrs['opacity-top'] !== undefined) return this.$attrs['opacity-top']\n    //     return this.$initTop\n    // }\n\n    // get $visibleTop() {\n    //     if (this.$attrs['visible-top'] !== undefined) return this.$attrs['visible-top']\n    //     return this.$$opacityTop\n    // }\n\n    $$onScroll(event) {\n        console.log('onScroll',event)\n        // console.log(this.$attrs);\n        // if (this.$attrs.top === undefined) return;\n        // const { scrollTop, } = this.$scrollParent;\n        // const { top, opacityDelay } = this.$attrs;\n        // let oTop = Math.round(this.$getOffsetTop(this.$scrollParent) - scrollTop);\n        // this.$$isSticky = top === oTop;\n        // this.$$isStickyTop = top >= oTop;\n        // this.$$isStickyBottom = top <= oTop;\n        // if (this.$attrs['active-top'] !== undefined) this.$$isStickyAct = scrollTop >= this.$attrs['active-top'];\n\n        // const opacity = ((scrollTop - opacityDelay) / (this.$$opacityTop - top)).toFixed(3)\n        // if (this.$attrs['opacity-ani'] === true) this.$$opacity = opacity\n        // if (this.$attrs['opacity-ani'] === false) this.$$opacity = 1 - opacity\n\n        // const visible = ((scrollTop) / (this.$visibleTop - top))\n        // if (this.$attrs['visible-ani'] === true) this.$$display = visible > 1 ? 'block' : 'none';\n        // if (this.$attrs['visible-ani'] === false) this.$$display = (1 - visible) < 0 ? 'none' : 'block';\n\n        // this.$bindClass();\n        // this.$bindStyle();\n    }\n\n\n}\n\n\n\n// export class RScrollFixed extends RScrollSticky {\n//     $bindClass() {\n//         this.$setClass((props) => [\n//             \"r-scroll-fixed\",\n//             this.$$isSticky && \"r-scroll-fixed-fixed\",\n//             !this.$$isSticky && \"r-scroll-fixed-un-fixed\",\n//             this.$$isStickyTop && \"r-scroll-fixed-fixed-top\",\n//             !this.$$isStickyTop && \"r-scroll-fixed-un-fixed-top\",\n//             !this.$$isStickyBottom && \"r-scroll-fixed-un-fixed-bottom\",\n//             this.$$isStickyAct && \"r-scroll-fixed-act\",\n//         ])\n//     }\n// }\n\n// customElements.define('r-scroll-fixed', RScrollFixed);\n\n","const COMPUTE_INTERVAL = 30;\nlet currentView = document.createElement(\"div\");\nlet srcViews = [];\nlet timer;\nexport const customEventNameMap = new Map();\nconst compute = {\n  isGetPdownLock: false,\n  srcViews: [],\n};\nexport class SlideEvent extends CustomEvent {\n  altKey = undefined;\n  altitudeAngle = undefined;\n  azimuthAngle = undefined;\n  button = undefined;\n  buttons = undefined;\n  clientX = undefined;\n  clientY = undefined;\n  ctrlKey = undefined;\n  currentTime = undefined;\n  deltaAng = undefined;\n  deltaC = undefined;\n  deltaTime = undefined;\n  deltaX = undefined;\n  deltaY = undefined;\n  direction = undefined;\n  fromElement = undefined;\n  getModifierState = undefined;\n  getPredictedEvents = undefined;\n  height = undefined;\n  initMouseEvent = undefined;\n  initUIEvent = undefined;\n  isPrimary = undefined;\n  layerX = undefined;\n  layerY = undefined;\n  metaKey = undefined;\n  moveX = undefined;\n  moveY = undefined;\n  movementX = undefined;\n  movementY = undefined;\n  offsetX = undefined;\n  offsetY = undefined;\n  orientation = undefined;\n  pageX = undefined;\n  pageY = undefined;\n  persistentDeviceId = undefined;\n  pointerId = undefined;\n  pointerType = undefined;\n  pressure = undefined;\n  relatedTarget = undefined;\n  screenX = undefined;\n  screenY = undefined;\n  shiftKey = undefined;\n  sourceCapabilities = undefined;\n  speedX = undefined;\n  speedY = undefined;\n  srcViews = undefined;\n  tangentialPressure = undefined;\n  tiltX = undefined;\n  tiltY = undefined;\n  toElement = undefined;\n  twist = undefined;\n  velocityX = undefined;\n  velocityY = undefined;\n  view = undefined;\n  which = undefined;\n  width = undefined;\n  x = undefined;\n  y = undefined;\n  constructor(type, eventInitDict = {}) {\n    super(type, eventInitDict);\n  }\n}\n\n(() => {\n  // **TODO pointercancel\n  document.addEventListener(\"pointerdown\", onPointerdown);\n  document.addEventListener(\"pointermove\", onPointermove);\n  document.addEventListener(\"pointerup\", onPointerup);\n  let isVerdict = false;\n  let beginEvent;\n  let prveEvent;\n  let intervalEvent;\n  let direction;\n  let orientation;\n  let isStart = true;\n  let pressures = [];\n\n  function onPointerdown(event) {\n    clearTimeout(timer);\n    extendedEventArgs(event);\n    dispatchEvent(\"slideDown\", event);\n    beginEvent = event;\n    prveEvent = event;\n    intervalEvent = event;\n    isVerdict = false;\n    isStart = true;\n    direction = undefined;\n    orientation = undefined;\n    pressures = [];\n  }\n\n  function onPointermove(event) {\n    clearTimeout(timer);\n    extendedEventArgs(event);\n    prveEvent = event;\n    if (!isVerdict) {\n      if (event.deltaC > 8) {\n        const ang = event.deltaAng;\n        const isRightAng = 315 <= ang || ang < 45;\n        const isTopAng = 45 <= ang && ang < 135;\n        const isLeftAng = 135 <= ang && ang < 225;\n        const isBottomAng = 225 <= ang && ang < 315;\n        if (isRightAng) direction = \"right\";\n        if (isTopAng) direction = \"top\";\n        if (isLeftAng) direction = \"left\";\n        if (isBottomAng) direction = \"bottom\";\n        if (isRightAng || isLeftAng) orientation = \"horizontal\";\n        if (isTopAng || isBottomAng) orientation = \"vertical\";\n        isVerdict = true;\n        return;\n      }\n      return;\n    }\n    if (isStart) {\n      dispatchEvent(\"slideStrat\", event);\n      if (event.moveX < 0) dispatchEvent(\"slideRightStrat\", event);\n      if (event.moveY < 0) dispatchEvent(\"slideBottomStrat\", event);\n      if (event.moveX > 0) dispatchEvent(\"slideLeftStrat\", event);\n      if (event.moveY > 0) dispatchEvent(\"slideTopStrat\", event);\n      if (event.moveX !== 0) dispatchEvent(\"slideHorizontalStrat\", event);\n      if (event.moveY !== 0) dispatchEvent(\"slideVerticalStrat\", event);\n      isStart = false;\n      return;\n    }\n\n    dispatchEvent(\"slideMove\", event);\n    if (event.moveX < 0) dispatchEvent(\"slideRight\", event);\n    if (event.moveY < 0) dispatchEvent(\"slideBottom\", event);\n    if (event.moveX > 0) dispatchEvent(\"slideLeft\", event);\n    if (event.moveY > 0) dispatchEvent(\"slideTop\", event);\n    if (event.moveX !== 0) dispatchEvent(\"slideHorizontal\", event);\n    if (event.moveY !== 0) dispatchEvent(\"slideVertical\", event);\n    dispatchEvent(\"slideAfterMove\", event);\n    timer = setTimeout(() => {\n      intervalEvent = event;\n    }, COMPUTE_INTERVAL);\n  }\n\n  function onPointerup(event) {\n    clearTimeout(timer);\n    extendedEventArgs(event);\n    if (isVerdict) {\n      dispatchEvent(\"slideEnd\", event);\n      if (event.velocityX < 0) dispatchEvent(\"slideRightEnd\", event);\n      if (event.velocityY < 0) dispatchEvent(\"slideBottomEnd\", event);\n      if (event.velocityX > 0) dispatchEvent(\"slideLeftEnd\", event);\n      if (event.velocityY > 0) dispatchEvent(\"slideTopEnd\", event);\n      if (event.velocityX !== 0) dispatchEvent(\"slideHorizontalEnd\", event);\n      if (event.velocityY !== 0) dispatchEvent(\"slideVerticalEnd\", event);\n      dispatchEvent(\"slideAfterEnd\", event);\n    }\n    dispatchEvent(\"slideUp\", event);\n    currentView = undefined;\n  }\n\n  function extendedEventArgs(event) {\n    pressures.push(event.pressure);\n    event.srcViews = compute.srcViews;\n    event.currentTime = Date.now();\n    event.direction = direction;\n    event.orientation = orientation;\n    if (!beginEvent) return;\n    event.deltaX = event.pageX - (beginEvent?.pageX ?? 0);\n    event.deltaY = event.pageY - (beginEvent?.pageY ?? 0);\n    event.deltaC = calcHypotenuse(event.deltaX, event.deltaY);\n    event.deltaAng = calculateAngle(event.deltaX, event.deltaY);\n    if (!prveEvent) return;\n    event.moveX = (prveEvent?.pageX ?? 0) - event.pageX;\n    event.moveY = (prveEvent?.pageY ?? 0) - event.pageY;\n    event.deltaTime = event.currentTime - (prveEvent?.currentTime ?? 0);\n    event.speedX = event.moveX / event.deltaTime;\n    event.speedY = event.moveY / event.deltaTime;\n    if (!intervalEvent) return;\n    event.velocityX = undefinedReturn(intervalEvent.velocityX, event.speedX);\n    event.velocityY = undefinedReturn(intervalEvent.velocityY, event.speedY);\n    if (event.currentTime - intervalEvent.currentTime >= COMPUTE_INTERVAL) {\n      let avgPressure = 1;\n      // let avgPressure = pressures.reduce((add, v) => { add = v + add; return add }, 0) / pressures.length;\n      // // TODO 兼容性需处理\n      // if (avgPressure < 0.8) avgPressure = 0.8\n      // if (avgPressure > 1.8) avgPressure = avgPressure - 1\n      // if (avgPressure > 2.8) avgPressure = avgPressure - 2\n      // if (avgPressure > 3.8) avgPressure = avgPressure - 3\n      // if (avgPressure > 4.8) avgPressure = 1.8;\n      // console.log('avgPressure', avgPressure);\n      // console.log('avgPressure', intervalEvent?.pageY, event.pageY);\n      const moveX = (intervalEvent?.pageX ?? 0) - event.pageX;\n      const moveY = (intervalEvent?.pageY ?? 0) - event.pageY;\n      const deltaTime = event.currentTime - (intervalEvent?.currentTime ?? 0);\n      event.velocityX = Number(((moveX / deltaTime) * avgPressure).toFixed(2));\n      event.velocityY = Number(((moveY / deltaTime) * avgPressure).toFixed(2));\n      intervalEvent = event;\n      pressures = [];\n    }\n  }\n\n  function dispatchEvent(name, event) {\n    if (!currentView) return;\n    const slideEvent = inheritPointerEvent(name, event);\n    currentView.dispatchEvent(slideEvent);\n    customEventNameMap.forEach((value) => {\n      const customEventName = name.replace(/(Slide|slide)/, value);\n      const customSlideEven = inheritPointerEvent(customEventName, event);\n      currentView.dispatchEvent(customSlideEven);\n    });\n  }\n})();\n\n/**\n *\n * @param {*} view\n */\nexport function extendedSlideEvents(view = document.createElement(\"div\"), options = {}) {\n  function $set(name, value) {\n    if (!view.$$) return;\n    view.$$[name] = value;\n  }\n\n  function onCapturePointerdown(event) {\n    $set(\"parentViews\", [...srcViews]);\n    srcViews.push(event.currentTarget);\n    $set(\"srcViews\", [...srcViews]);\n    compute.isGetPdownLock = false;\n  }\n\n  function onCapturePointerdownFinsh(event) {\n    compute.srcViews = [...srcViews];\n    currentView = srcViews.at(-1);\n    srcViews = [];\n  }\n\n  function onPointerdown(event) {\n    if (!compute.isGetPdownLock) {\n      onCapturePointerdownFinsh(event);\n      compute.isGetPdownLock = true;\n    }\n    $set(\"slideEventViews\", [...compute.srcViews]);\n  }\n\n  function destroy() {\n    view.removeEventListener(\"pointerdown\", onCapturePointerdown, {\n      passive: false,\n      capture: true,\n    });\n    view.removeEventListener(\"pointerdown\", onPointerdown);\n  }\n\n  function bindEvents() {\n    view.addEventListener(\"pointerdown\", onCapturePointerdown, { passive: false, capture: true });\n    view.addEventListener(\"pointerdown\", onPointerdown);\n    let config = { customEventName: \"\", direction: \"\", ...options };\n    if (config.customEventName) {\n      customEventNameMap.set(config.customEventName, config.customEventName);\n      $set(\"slideCustomEventName\", config.customEventName);\n    }\n  }\n\n  return { bindEvents, destroy };\n}\n\nfunction undefinedReturn(params, def) {\n  if (isNaN(params)) return def;\n  if (params === undefined) return def;\n  return params;\n}\n\nfunction inheritPointerEvent(\n  name,\n  event = {},\n  eventInitDict = { bubbles: true, cancelable: true },\n) {\n  const newEvent = new SlideEvent(name, eventInitDict);\n  for (const key in event) {\n    try {\n      if (newEvent[key] === undefined) newEvent[key] = event[key];\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n  return newEvent;\n}\n\nfunction calcHypotenuse(a, b) {\n  return Math.sqrt(a * a + b * b);\n}\n\nfunction calculateAngle(dx, dy) {\n  const angleRadians = Math.atan2(dy, dx);\n  const angleDegrees = angleRadians * (180 / Math.PI);\n  const angleNormalized = 360 - ((angleDegrees + 360) % 360);\n  return angleNormalized;\n}\n\nfunction stringUpperFirstCase(str) {\n  const s = str[0].toUpperCase() + str.slice(1);\n  return s;\n}\n","import { SlideEvent } from \"./slide\";\n\nexport class ScrollEvent extends SlideEvent {\n  scrollTop = undefined;\n}\n\nexport function inheritSlideEvent(\n  name,\n  event = {},\n  eventInitDict = { bubbles: true, cancelable: true },\n) {\n  const newEvent = new ScrollEvent(name, eventInitDict);\n  for (const key in event) {\n    try {\n      if (newEvent[key] === undefined) newEvent[key] = event[key];\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n  return newEvent;\n}\n","import \"./index.css\";\nimport { RainbowElement, createCustomEvent } from \"../../base/index.js\";\nimport { extendedSlideEvents } from \"../../events/slide\";\nimport { inheritSlideEvent } from \"../../events/scroll\";\nimport { arrayRemove, arrayWipeRepetition } from \"@rainbow_ljy/rainbow-js\";\nconst LOG = (...arg) => console.log(...arg);\n\nexport class RNestedScroll extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-scroll-direction\": String,\n  });\n\n  $slotContainer = {\n    default: document.createElement(\"div\"),\n  };\n\n  $$ = {\n    nestedChild: undefined,\n    nestedChildren: [],\n    nestedParent: undefined,\n    setNestedChild: () => {\n      if (this.$$.nestedChildren.length === 1) {\n        this.$$.nestedChild = this.$$.nestedChildren[0];\n        return;\n      }\n      if (!this.$$.nestedChildren.length) return;\n      const mOffset = this.getBoundingClientRect();\n      // console.log(mOffset);\n      //   this.$$.nestedChildren.forEach(element => {\n      //     const offset = element.getBoundingClientRect()\n      //    console.log(offset);\n      //  });\n      this.$$.nestedChild = this.$$.nestedChildren.find((ele) => {\n        const offset = ele.getBoundingClientRect();\n        return offset.left - mOffset.left >= -1 && offset.right <= mOffset.right + 1;\n      });\n\n      // console.log( \"this.$$.nestedChild\");\n      // console.log( this.$$.nestedChild);\n    },\n\n    captureOptions: { passive: false, capture: true },\n    slideEvent: extendedSlideEvents(this, {\n      // direction: [\"top\", \"bottom\"],\n      // customEventName: \"scroll\",\n    }),\n    scrollEvent: setup({\n      scrollEl: this,\n      container: this.$slotContainer.default,\n    }),\n    disabledScroll: () => {},\n    unDisabledScroll: () => {},\n  };\n\n  constructor(...arg) {\n    super(...arg);\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.$.appendChild(this.$slotContainer.default);\n    this.$$.nestedParent = this.$.findParentByLocalName([\"r-nested-scroll\"]);\n    if (this.$$.nestedParent) this.$$.nestedParent.$$.nestedChildren.push(this);\n    this.$$.setNestedChild();\n    this.$slotContainer.default.classList.add(\"r-nested-scroll-content\");\n    this.classList.add(\"r-nested-scroll\");\n    this.$$.slideEvent.bindEvents();\n    this.$$.scrollEvent.bindEvents();\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    if (this.$$.nestedParent) arrayRemove(this.$$.nestedParent.$$.nestedChildren, this);\n    this.$$.slideEvent.destroy();\n    this.$$.scrollEvent.destroy();\n  }\n}\n\nfunction setup(props) {\n  const { scrollEl, container, view = scrollEl } = props;\n  let ani;\n  let adsorbAni;\n  const coefficient = 20;\n  let isScrollToBottomEnd = () =>\n    scrollEl.offsetHeight + Math.ceil(scrollEl.scrollTop) >= container.offsetHeight;\n  let isScrollToTopEnd = () => scrollEl.scrollTop <= 0;\n  let maxScrollTop = () => container.offsetHeight - scrollEl.offsetHeight;\n  let isScrollRightEnd = () => scrollEl.offsetWidth + scrollEl.scrollLeft >= container.offsetWidth;\n  let isScrollLeftEnd = () => scrollEl.scrollLeft <= 0;\n  let maxScrollLeft = () => container.offsetWidth - scrollEl.offsetWidth;\n\n  let parent = () => view.$.findParentByLocalName([\"r-nested-scroll\"]);\n\n  let rollingConflict = (event, orientation = \"vertical\") => {\n    let conflict = event.srcViews.every((el) => el.$.DATA.rScrollDirection === orientation);\n    if (!conflict && event.orientation !== orientation) return true;\n    return false;\n  };\n\n  function slideCaptureTop(event) {\n    if (rollingConflict(event, \"vertical\")) return;\n    // 如果滚动到了底部 就不消费事件 return 出去\n    // 如果没滚动到底部消费事件 并阻止事件向下传递\n    // console.log(view.className, isScrollToBottomEnd());\n    if (isScrollToBottomEnd()) return;\n    event.stopPropagation();\n    doScrollTop(event.moveY, event);\n  }\n\n  function slideBottom(event) {\n    if (rollingConflict(event, \"vertical\")) return;\n    // 如果滚动到了顶部 就不消费事件 return 出去\n    // 如果没滚动顶部 就去消费事件 并阻止事件向上冒泡\n    if (isScrollToTopEnd()) return;\n    event.stopPropagation();\n    doScrollBottom(event.moveY);\n  }\n\n  function slideCaptureTopEnd(event) {\n    if (rollingConflict(event, \"vertical\")) return;\n    // 如果滚动到了底部 就不消费事件 return 出去\n    // 如果没滚动到底部消费事件 并阻止事件向下传递\n    if (isScrollToBottomEnd()) return;\n    event.stopPropagation();\n    // LOG('清除动画 滚动结束并产生速度 slideCaptureTopEnd', event.velocityY);\n    dispatchScrollTopFlying(event.velocityY, event);\n  }\n\n  function slideBottomEnd(event) {\n    if (rollingConflict(event, \"vertical\")) return;\n    // 如果滚动到了顶部 就不消费事件 return 出去\n    // 如果没滚动顶部 就去消费事件 并阻止事件向上冒泡\n    if (isScrollToTopEnd()) return;\n    event.stopPropagation();\n    // LOG('清除动画 滚动结束并产生速度 slideBottomEnd', event.velocityY);\n    dispatchScrollBottomFlying(event.velocityY, event);\n  }\n\n  function doScrollBottom(moveY, event) {\n    let scrollTop = scrollEl.scrollTop + moveY;\n    if (scrollTop < 0) scrollTop = 0;\n    scrollEl.scrollTop = scrollTop;\n    view.dispatchEvent(createEvent(\"scrollDown\", event));\n    view.dispatchEvent(createEvent(\"scrollChange\", event));\n    if (isScrollToTopEnd()) view.dispatchEvent(createEvent(\"scrollTop\", event));\n  }\n\n  function createEvent(name, event = {}) {\n    return inheritSlideEvent(name, {\n      ...event,\n      scrollTop: scrollEl.scrollTop,\n      scrollHeight: scrollEl.offsetHeight,\n      containerHeight: container.offsetHeight,\n      space: event?.moveY,\n    });\n  }\n\n  function doScrollTop(moveY, event = {}) {\n    let scrollTop = scrollEl.scrollTop + moveY;\n    if (scrollTop > maxScrollTop()) scrollTop = maxScrollTop() + 2;\n    scrollEl.scrollTop = scrollTop;\n    view.dispatchEvent(createEvent(\"scrollUp\", event));\n    view.dispatchEvent(createEvent(\"scrollChange\", event));\n    if (isScrollToBottomEnd()) view.dispatchEvent(createEvent(\"scrollBottom\", event));\n  }\n\n  function dispatchScrollTopFlying(velocity, event) {\n    ani?.stop?.();\n    ani = cAni({\n      velocity,\n      onanimation(v) {\n        const moveY = Math.ceil(v * coefficient);\n        if (moveY > 0) {\n          doScrollTop(moveY, event);\n          if (isScrollToBottomEnd()) {\n            ani?.stop?.();\n            LOG(\"滚动停止 到底停止\");\n            view.$$.nestedChild?.$$?.scrollEvent?.dispatchScrollTopFlying?.(v, event);\n          }\n        }\n      },\n      onanimationEnd(v) {\n        LOG(\"滚动停止 scrollEnd \");\n        view.dispatchEvent(createEvent(\"scrollEnd\", event));\n      },\n    });\n    ani.start();\n  }\n\n  function dispatchScrollBottomFlying(velocity, event) {\n    ani?.stop?.();\n    ani = cAni({\n      velocity,\n      onanimation(v) {\n        const moveY = Math.ceil(v * coefficient);\n        if (moveY < 0) {\n          doScrollBottom(moveY, event);\n          if (isScrollToTopEnd()) {\n            ani?.stop?.();\n            LOG(\"滚动停止 到顶部停止\");\n            parent()?.$$?.scrollEvent?.dispatchScrollBottomFlying?.(v, event);\n            // expose.parent?.dispatchScrollBottomFlying?.(v)\n          }\n        }\n      },\n      onanimationEnd(v) {\n        LOG(\"滚动停止\");\n        view.dispatchEvent(createEvent(\"scrollEnd\", event));\n      },\n    });\n    ani.start();\n  }\n\n  function slideLeft(event) {\n    if (event.orientation !== \"horizontal\") return;\n    // 如果没有滚动到了最右边 就不消费事件 return 出去\n    // 如果滚动到了最右边 就去消费事件 并阻止事件向上冒泡\n    if (isScrollRightEnd()) return;\n    event.stopPropagation();\n\n    let scrollLeft = scrollEl.scrollLeft + event.moveX;\n    if (scrollLeft > maxScrollLeft()) scrollLeft = maxScrollLeft() + 2;\n    scrollEl.scrollLeft = scrollLeft;\n    view.$$.setNestedChild();\n  }\n\n  function slideRight(event) {\n    if (event.orientation !== \"horizontal\") return;\n    // 如果没有滚动到了最左边 就不消费事件 return 出去\n    // 如果滚动到了最左边 就去消费事件 并阻止事件向上冒泡\n    if (isScrollLeftEnd()) return;\n    event.stopPropagation();\n\n    let scrollLeft = scrollEl.scrollLeft + event.moveX;\n    if (scrollLeft < 0) scrollLeft = 0;\n    scrollEl.scrollLeft = scrollLeft;\n    view.$$.setNestedChild();\n  }\n\n  function slideLeftEnd(event) {\n    slideLeftRightEnd(event);\n  }\n\n  function slideRightEnd(event) {\n    slideLeftRightEnd(event);\n  }\n\n  function slideLeftRightEnd(event) {\n    if (event.orientation !== \"horizontal\") return;\n    if (isScrollRightEnd()) return;\n    if (isScrollLeftEnd()) return;\n    event.stopPropagation();\n\n    const from = scrollEl.scrollLeft;\n    const index = Math.floor(from / scrollEl.offsetWidth);\n    const roundIndex = Math.round(from / scrollEl.offsetWidth);\n    let adsIndex = roundIndex;\n    if (event.velocityX > 0.4) adsIndex = index + 1;\n    if (event.velocityX < -0.4) adsIndex = index;\n    console.log(index, roundIndex);\n    const to = scrollEl.offsetWidth * adsIndex;\n    adsorbAni = Animation({\n      from: from,\n      to: to,\n      avg: 30,\n      onanimation(aLeft) {\n        scrollEl.scrollLeft = aLeft;\n        view.$$.setNestedChild();\n      },\n      onanimationend() {\n        //   expose.index = index;\n        //   if (parent) parent.child = expose?.children?.[expose.index];\n        //   props.listHook?.updateIndex?.(expose.index);\n      },\n    });\n    adsorbAni.start();\n  }\n\n  function bindEvents() {\n    const { rScrollDirection } = scrollEl.$.DATA;\n    const bubble = { passive: true, capture: false };\n    const capture = { passive: true, capture: true };\n    console.log(\"rScrollDirection\", rScrollDirection);\n\n    if (rScrollDirection === \"vertical\") {\n      scrollEl.addEventListener(\"slideTop\", slideCaptureTop, capture);\n      scrollEl.addEventListener(\"slideBottom\", slideBottom, bubble);\n      scrollEl.addEventListener(\"slideTopEnd\", slideCaptureTopEnd, capture);\n      scrollEl.addEventListener(\"slideBottomEnd\", slideBottomEnd, bubble);\n    }\n\n    if (rScrollDirection === \"horizontal\") {\n      scrollEl.addEventListener(\"slideLeft\", slideLeft, bubble);\n      scrollEl.addEventListener(\"slideRight\", slideRight, bubble);\n      scrollEl.addEventListener(\"slideLeftEnd\", slideLeftEnd, bubble);\n      scrollEl.addEventListener(\"slideRightEnd\", slideRightEnd, bubble);\n    }\n  }\n\n  function destroy() {}\n\n  return { bindEvents, destroy, dispatchScrollTopFlying, dispatchScrollBottomFlying };\n}\n\nfunction cAni(config = {}) {\n  let time;\n  const opt = {\n    velocity: 0,\n    deceleration: 0.04,\n    onanimation: () => undefined,\n    onanimationEnd: () => undefined,\n    ...config,\n  };\n  let stopAction = false;\n\n  const isReduce = opt.velocity < 0;\n\n  function animaMinus() {\n    if (stopAction) return cancelAnimationFrame(time);\n    time = requestAnimationFrame(() => {\n      if (stopAction) return cancelAnimationFrame(time);\n      opt.velocity = Number((opt.velocity + opt.deceleration).toFixed(3));\n      if (opt.velocity > 0) opt.velocity = 0;\n      if (opt.velocity >= 0) {\n        stop();\n        opt.onanimationEnd(opt.velocity);\n        return;\n      }\n      if (stopAction) return cancelAnimationFrame(time);\n      // LOG('onanimation')\n      opt.onanimation(opt.velocity);\n      animaMinus();\n    });\n  }\n\n  function animaAdd() {\n    if (stopAction) return cancelAnimationFrame(time);\n    time = requestAnimationFrame(() => {\n      if (stopAction) return cancelAnimationFrame(time);\n      opt.velocity = Number((opt.velocity - opt.deceleration).toFixed(3));\n      if (opt.velocity < 0) opt.velocity = 0;\n      if (opt.velocity <= 0) {\n        stop();\n        opt.onanimationEnd(opt.velocity);\n        return;\n      }\n      if (stopAction) return cancelAnimationFrame(time);\n      // LOG('onanimation')\n      opt.onanimation(opt.velocity);\n      animaAdd();\n    });\n  }\n\n  function anima() {\n    if (isReduce) animaMinus();\n    else animaAdd();\n  }\n\n  function stop() {\n    stopAction = true;\n    cancelAnimationFrame(time);\n  }\n\n  function start() {\n    stopAction = false;\n    anima();\n  }\n\n  return { start, stop };\n}\n\nfunction Animation(config = {}) {\n  let timer;\n  let stopAction = false;\n  const opt = {\n    from: 0,\n    to: 300,\n    avg: 10,\n    duration: 500,\n    onanimationend: () => undefined,\n    onanimation: () => undefined,\n    ...config,\n  };\n  let value = opt.from;\n\n  function flash() {\n    if (opt.from < opt.to) {\n      value = value + opt.avg;\n      if (value >= opt.to) value = opt.to;\n      opt.onanimation(value);\n      if (value >= opt.to) {\n        opt.onanimationend(value);\n        stop();\n        return;\n      }\n    }\n\n    if (opt.from > opt.to) {\n      value = value - opt.avg;\n      if (value <= opt.to) value = opt.to;\n      opt.onanimation(value);\n      if (value <= opt.to) {\n        opt.onanimationend(value);\n        stop();\n        return;\n      }\n    }\n  }\n\n  function start() {\n    if (stopAction) return cancelAnimationFrame(timer);\n    timer = requestAnimationFrame(() => {\n      if (stopAction) return cancelAnimationFrame(timer);\n      flash();\n      start();\n    });\n  }\n\n  function stop() {\n    stopAction = true;\n    cancelAnimationFrame(timer);\n  }\n\n  return { start, stop };\n}\n","import \"./index.css\";\nimport { RainbowElement } from \"../../base/index.js\";\nimport { arrayLoopMap } from \"@rainbow_ljy/rainbow-js\";\n\nexport class RRollingTextNum extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-initial-animation\": String, // true false\n    \"r-transition\": String,\n  });\n\n  $$container = document.createElement(\"span\");\n  $$measure = document.createElement(\"span\");\n  $$rotes = arrayLoopMap(10, () => document.createElement(\"span\"));\n  $$num = 10;\n  $$value = 0;\n  $$isMonted = false;\n\n  get $$deg() {\n    return 360 / this.$$num;\n  }\n\n  get value() {\n    return this.$$value;\n  }\n\n  set value(v) {\n    this.$$value = v;\n    console.log(\"set ------ value\", v);\n    // if (this.$$isMonted === false) return;\n    this.$$rotateX(true);\n    console.log(\"set value\", v);\n  }\n\n  // setValue(v, ani = true) {\n  //   this.$$value = v;\n  //   if (this.$$isMonted === false) return;\n  //   this.$$rotateX(ani);\n  // }\n\n  // constructor(...arg) {\n  //   super(...arg);\n  //   this.attachShadow({ mode: \"open\" });\n  //   this.$$container.className = \"r-rolling-num-container r-rolling-num-container-ani\";\n  //   this.$$container.setAttribute(\"part\", \"r-rolling-num-container r-rolling-num-container-ani \");\n  //   this.$$measure.className = \"r-rolling-num-measure\";\n  //   this.$$measure.setAttribute(\"part\", \"r-rolling-num-measure\");\n  //   this.$$measure.innerText = \"9\";\n  //   this.$$container.appendChild(this.$$measure);\n  //   this.shadowRoot.appendChild(this.$$container);\n  // }\n\n  $$renderNums() {\n    const deg = this.$$deg;\n    const sin = Math.sin((Math.PI / 180) * deg);\n    const translateZ = (sin + 0.9) * (this.$$measure.offsetHeight || 1);\n\n    this.$$rotes.forEach((div, index) => {\n      div.style.transform = `rotateX(${deg * index}deg)  translateZ(${translateZ}px)`;\n      div.setAttribute(\"part\", \"r-rolling-num-rotate\");\n      div.className = \"r-rolling-num-rotate\";\n      div.innerText = index;\n      this.$$container.appendChild(div);\n    });\n  }\n\n  async $$rotateX(isTransition) {\n    const { rTransition, rInitialAnimation } = this.$.DATA;\n    const rotateX = -((this.$$value / this.$$num) * 360);\n    let unactIndex = -Math.round(((rotateX - 180) % 360) / 36);\n\n    this.$$rotes.forEach((div, index) => {\n      let prveIndex = unactIndex - 1 < 0 ? 9 : unactIndex - 1;\n      let nextIndex = unactIndex + 1 > 9 ? 0 : unactIndex + 1;\n      let className = \"r-rolling-num-rotate\";\n      if (unactIndex === index) className = \"r-rolling-num-rotate r-rolling-num-rotate-unact\";\n      if (prveIndex === index) className = \"r-rolling-num-rotate r-rolling-num-rotate-unprve\";\n      if (nextIndex === index) className = \"r-rolling-num-rotate r-rolling-num-rotate-unnext\";\n\n      div.setAttribute(\"part\", className);\n      div.className = className;\n    });\n    this.$$container.style.transition = rTransition;\n    // if (isTransition) {\n    //   this.$$container.style.transition = \"\";\n    //   this.$$container.style.transition = rTransition;\n    // }\n    // if (this.$$isMonted === false && rInitialAnimation === \"true\") {\n    //   await new Promise((resolve) => requestAnimationFrame(() => resolve(true)));\n    // }\n    // this.$$container.style.transform = \"\";\n    this.$$container.style.transform = `rotateX(${rotateX}deg)`;\n  }\n\n  // $render() {}\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    const { rTransition, rInitialAnimation } = this.$.DATA;\n    this.$$container.className = \"r-rolling-num-container r-rolling-num-container-ani\";\n    this.$$container.setAttribute(\"part\", \"r-rolling-num-container r-rolling-num-container-ani \");\n    this.$$measure.className = \"r-rolling-num-measure\";\n    this.$$measure.setAttribute(\"part\", \"r-rolling-num-measure\");\n    this.$$measure.innerText = \"9\";\n    this.$$container.appendChild(this.$$measure);\n    this.appendChild(this.$$container);\n    this.$$renderNums();\n    this.$$rotateX(rInitialAnimation === \"true\");\n    this.$$isMonted = true;\n  }\n\n  disconnectedCallback(...arg) {\n    super.connectedCallback(...arg);\n  }\n}\n\n","import \"./index.css\";\nimport { RainbowElement, renderChildren } from \"../../base/index.js\";\nimport { arrayLoop, arrayLoopMap } from \"@rainbow_ljy/rainbow-js\";\n\nexport class RRollingText extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    // \"r-value\": String,\n    \"r-math-type\": String, // 'floor' , 'none'\n  });\n\n  $$renderNumNodes = renderChildren({ parentNode: this });\n\n  $$ = {\n    value: \"\",\n  };\n\n  get value() {\n    return this.$$.value;\n  }\n\n  set value(v) {\n    this.$$.value = v;\n    this.$debouncedRender()\n  }\n\n  $render() {\n    let { rMathType } = this.$.DATA;\n    let rValue = this.value;\n    console.log(\"rValue $render\", rValue);\n    let rValueStr = String(rValue);\n    let values = (() => {\n      return arrayLoopMap(rValueStr.length, (index) => {\n        const size = Number([1, ...arrayLoopMap(index, () => 0)].join(\"\"));\n        if (rMathType === \"floor\") return Math.floor(rValue / size);\n        return rValue / size;\n      });\n    })();\n\n    this.$$renderNumNodes.renderList(values, {\n      keyExtractor: (item, index) => index,\n      onCreateNode: (item, index, key) => {\n        let node = document.createElement(\"r-rolling-text-num\");\n        node.setAttribute(\"key\", key);\n        node.value = item;\n        return node;\n      },\n      onCacheNode: (node, item, index, key) => {\n        node.value = item;\n        node.setAttribute(\"key\", key);\n        return node;\n      },\n    });\n  }\n}\n\n\n","import { RainbowElement } from \"../../base/index.js\";\nimport { resizeObserverIMP } from \"../../base/imps/index.js\";\n\nexport class RCircle extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-start-angle\": String,\n    \"r-outer-radius\": String,\n    \"r-inner-radius\": String,\n    \"r-origin-x\": String,\n    \"r-origin-y\": String,\n    \"r-stroke-width\": String,\n    \"r-layer-stroke-width\": String,\n    \"r-direction\": String, // clockwise anticlockwise\n    \"r-range-max\": String,\n    \"r-range-min\": String,\n  });\n\n  $onRegisterIMPS() {\n    return [resizeObserverIMP()];\n  }\n\n  $slotContainer = {\n    default: document.createElement(\"div\"),\n  };\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.$$.borderDiv.classList.add(\"r-circle-border\");\n    this.$$.layerDiv.classList.add(\"r-circle-layer\");\n    this.$slotContainer.default.classList.add(\"r-circle-content\");\n    this.$.append(this.$$.layerDiv);\n    this.$.append(this.$$.borderDiv);\n    this.$.append(this.$slotContainer.default);\n  }\n\n  $$ = {\n    borderDiv: document.createElement(\"div\"),\n    layerDiv: document.createElement(\"div\"),\n    value: 0,\n    toRadians: (angle) => (angle * Math.PI) / 180,\n    getAngleDiff: (startAng, endAng) => {\n      if (endAng === startAng) return 0;\n      let age = (endAng - startAng + 360) % 360;\n      if (age === 0) return 360;\n      return age;\n    },\n    clockwise: {\n      anglePosition: (ang, x, y, radius) => {\n        const angle = this.$$.toRadians(ang);\n        return { angle, x: x + radius * Math.cos(angle), y: y + radius * Math.sin(angle) };\n      },\n      arcTo: (x, y, radius, startAng, endAng, backward = false) => {\n        if (endAng !== startAng && (endAng - startAng + 360) % 360 === 0) endAng = endAng - 0.001;\n        const start = this.$$.clockwise.anglePosition(startAng, x, y, radius);\n        const end = this.$$.clockwise.anglePosition(endAng, x, y, radius);\n        const angleDiff = this.$$.getAngleDiff(startAng, endAng);\n        const largeArcFlag = angleDiff > 180 ? 1 : 0;\n        if (backward) return { start: end, end: start, largeArcFlag, sweepFlag: 0 };\n        return { start, end, largeArcFlag, sweepFlag: 1 };\n      },\n    },\n    anticlockwise: {\n      anglePosition: (ang, x, y, radius) => {\n        const angle = this.$$.toRadians(ang);\n        return { angle, x: x + radius * Math.sin(angle), y: y + radius * Math.cos(angle) };\n      },\n      arcTo: (x, y, radius, startAng, endAng, backward = false) => {\n        if (endAng !== startAng && (endAng - startAng + 360) % 360 === 0) endAng = endAng - 0.001;\n        const start = this.$$.anticlockwise.anglePosition(startAng, x, y, radius);\n        const end = this.$$.anticlockwise.anglePosition(endAng, x, y, radius);\n        const angleDiff = this.$$.getAngleDiff(startAng, endAng);\n        const largeArcFlag = angleDiff > 180 ? 1 : 0;\n        if (backward) return { start: end, end: start, largeArcFlag, sweepFlag: 1 };\n        return { start, end, largeArcFlag, sweepFlag: 0 };\n      },\n    },\n    arcTo: (x, y, radius, startAng, endAng, backward, type) => {\n      if (type) return this.$$[type].arcTo(x, y, radius, startAng, endAng, backward);\n      return this.$$.clockwise.arcTo(x, y, radius, startAng, endAng, backward);\n    },\n    getRangeValue: (min, max) => {\n      if (typeof this.value === \"string\" && /\\d+?%/.test(this.value)) {\n        return (parseInt(this.value.replace(/%/, \"\"), 10) / 100) * 360;\n      }\n      if (typeof min !== \"number\" || typeof max !== \"number\") return this.value;\n      let val = this.value;\n      if (this.value < min) val = min;\n      if (this.value > max) val = max;\n      return (val / (max - min)) * 360;\n    },\n    getAnnulusPath: (x, y, outerRadius, innerRadius, startAng, endAng, type) => {\n      const out = this.$$.arcTo(x, y, outerRadius, startAng, endAng, false, type);\n      const inner = this.$$.arcTo(x, y, innerRadius, startAng, endAng, true, type);\n      const pathData = [\n        `M ${out.start.x} ${out.start.y}`,\n        `A ${outerRadius} ${outerRadius} 0 ${out.largeArcFlag} ${out.sweepFlag} ${out.end.x} ${out.end.y}`,\n        `L ${inner.start.x} ${inner.start.y}`,\n        `A ${innerRadius} ${innerRadius} 0 ${inner.largeArcFlag} ${inner.sweepFlag} ${inner.end.x} ${inner.end.y}`,\n        `L ${out.start.x} ${out.start.y}`,\n        \"Z\",\n      ].join(\" \");\n      return `path('${pathData}')`;\n    },\n    getcirclePath: (x, y, radius, startAng, endAng, type) => {\n      const out = this.$$.arcTo(x, y, radius, startAng, endAng, false, type);\n      const pathData = [\n        `M ${out.start.x} ${out.start.y}`,\n        `A ${radius} ${radius} 0 ${out.largeArcFlag} ${out.sweepFlag} ${out.end.x} ${out.end.y}`,\n        \"Z\",\n      ].join(\" \");\n      return `path('${pathData}')`;\n    },\n  };\n\n  get value() {\n    return this.$$.value;\n  }\n\n  set value(v) {\n    this.$$.value = v;\n    this.$debouncedRender();\n  }\n\n  $render() {\n    let {\n      rStartAngle,\n      rOuterRadius,\n      rInnerRadius,\n      rOriginX,\n      rOriginY,\n      rStrokeWidth,\n      rDirection,\n      rLayerStrokeWidth,\n      rRangeMin,\n      rRangeMax,\n    } = this.$.DATA;\n    if (rOuterRadius === \"auto\") rOuterRadius = Math.min(this.offsetHeight, this.offsetWidth) / 2;\n    if (rInnerRadius === \"auto\") rInnerRadius = rOuterRadius;\n    if (!rOuterRadius) rOuterRadius = 0;\n    if (!rInnerRadius) rInnerRadius = 0;\n    rOriginX = this.$.resolvePercentum(rOriginX);\n    rOriginY = this.$.resolvePercentumH(rOriginY);\n\n    this.$$.borderDiv.style.clipPath = this.$$.getAnnulusPath(\n      rOriginX,\n      rOriginY,\n      rOuterRadius - rLayerStrokeWidth,\n      rInnerRadius - rStrokeWidth - rLayerStrokeWidth,\n      rStartAngle,\n      rStartAngle + this.$$.getRangeValue(rRangeMin, rRangeMax),\n      rDirection,\n    );\n\n    this.$$.layerDiv.style.clipPath = this.$$.getAnnulusPath(\n      rOriginX,\n      rOriginY,\n      rOuterRadius,\n      rInnerRadius - rLayerStrokeWidth - rStrokeWidth - rLayerStrokeWidth,\n      rStartAngle,\n      rStartAngle + 360,\n      rDirection,\n    );\n\n    this.$slotContainer.default.style.clipPath = this.$$.getcirclePath(\n      rOriginX,\n      rOriginY,\n      rInnerRadius - rLayerStrokeWidth - rStrokeWidth - rLayerStrokeWidth,\n      rStartAngle,\n      rStartAngle + 360,\n      rDirection,\n    );\n  }\n}\n","import { RainbowElement } from \"../../base/index.js\";\nimport { resizeObserverIMP } from \"../../base/imps/index.js\";\n{/* <div class=\"van-circle\" style=\"width: 100px; height: 100px;\">\n  <svg viewBox=\"0 0 1040 1040\">\n    <path d=\"M 520 520 m 0, -500 a 500, 500 0 1, 1 0, 1000 a 500, 500 0 1, 1 0, -1000\"\n    class=\"van-circle__hover\"\n    style=\"fill: none; stroke: rgb(255, 255, 255); stroke-width: 40px;\"></path>\n    <path d=\"M 520 520 m 0, -500 a 500, 500 0 1, 1 0, 1000 a 500, 500 0 1, 1 0, -1000\"\n    stroke=\"#1989fa\" class=\"van-circle__layer\" style=\"stroke: rgb(25, 137, 250); stroke-width: 41px; s\n    troke-dasharray: 2198px, 3140px;\"></path>\n    </svg>\n    <div class=\"van-circle__text\">70%</div>\n    </div> */}\nexport class RSvgCircle extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-start-angle\": String,\n    \"r-outer-radius\": String,\n    \"r-inner-radius\": String,\n    \"r-origin-x\": String,\n    \"r-origin-y\": String,\n  });\n\n  $onRegisterIMPS() {\n    return [resizeObserverIMP()];\n  }\n\n  $$ = {\n    value: 0,\n  };\n\n  get value() {\n    return this.$$.value;\n  }\n\n  set value(v) {\n    this.$$.value = v;\n    this.$debouncedRender();\n  }\n\n  $render() {\n    // let { rStartAngle, rOuterRadius, rInnerRadius, rOriginX, rOriginY } = this.$.DATA;\n    // if (rOuterRadius === \"auto\") {\n    //   rOuterRadius = Math.min(this.offsetHeight, this.offsetWidth) / 2 || 0;\n    // }\n    // if (rInnerRadius === \"auto\") rInnerRadius = rOuterRadius - 2;\n    // rOriginX = this.$.resolvePercentum(rOriginX);\n    // rOriginY = this.$.resolvePercentumH(rOriginY);\n    // let args = [\n    //   rOriginX,\n    //   rOriginY,\n    //   rOuterRadius,\n    //   rInnerRadius,\n    //   rStartAngle,\n    //   rStartAngle + this.value,\n    //   false,\n    // ];\n    // console.log(args);\n    // this.style.clipPath = this.$$.arcToClipPathRing(...args);\n  }\n}\n\n\n","import { RainbowElement } from \"../base/index.js\";\n\n\nexport class RTestD extends RainbowElement {\n  $$ = {\n    value: \"\",\n  };\n\n  set value(v) {\n    this.$$.value = v;\n    this.innerText = v;\n  }\n\n\n  get value() {\n    return this.$$.value;\n  }\n}\n","import { arrayRewriteFunction, ListArray } from \"@rainbow_ljy/rainbow-js\";\nimport { RainbowElement, createCustomEvent, renderChildren } from \"../../base/index.js\";\nimport \"./index.css\";\n\nexport class RScrollVirtualGridList extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-columns\": { type: Number, default: 1 },\n    \"r-min-auto-width\": Number,\n    \"r-gap\": [Number, String],\n    \"r-row-gap\": [Number, String],\n    \"r-column-gap\": [Number, String],\n    \"r-avg-height\": [Number, String],\n  });\n\n  keyExtractor = (val) => val.item;\n\n  get $$columns() {\n    let { rColumns, rMinAutoWidth } = this.$.DATA;\n    if (rMinAutoWidth) return Math.floor(this.offsetWidth / rMinAutoWidth);\n    return rColumns;\n  }\n\n  $$ = {\n    renderChildren: renderChildren({ parentNode: this }),\n    value: [],\n    cache: {\n      end: 0,\n      start: 0,\n    },\n    recycle: {\n      divs: [],\n    },\n    createElement: () => {\n      let node = this.$$.recycle.divs.shift();\n      if (node) return node;\n      return document.createElement(\"div\");\n    },\n    scrollParent: undefined,\n    onScroll: (event) => {\n      this.$$.layout(false);\n    },\n    layout: (isForce = true) => {\n      const { rAvgHeight, rGap, rColumnGap, rRowGap } = this.$.DATA;\n      const columnGap = rColumnGap || rGap || 0;\n      const rowGap = rRowGap || rGap || 0;\n      // console.log(columnGap);\n      const offsetTop = this.$.getOffsetTop(this.$$.scrollParent);\n      const scrollTop = this.$$.scrollParent.scrollTop;\n      let recycleCount = Math.ceil(window.innerHeight / (rAvgHeight + columnGap)) * this.$$columns;\n      let nth = Math.ceil((scrollTop - offsetTop) / (rAvgHeight + columnGap)) * this.$$columns;\n      let index = nth - recycleCount;\n      let start = index < 0 ? 0 : index;\n      let end = index + recycleCount * 3;\n      if (end < 0) end = 0;\n      let list = this.value.slice(start, end);\n      let renderList = list.map((item, sub) => ({ index: start + sub, item, data: item }));\n      let isRender = !(this.$$.cache.start === start && this.$$.cache.end === end);\n      this.$$.cache.start = start;\n      this.$$.cache.end = end;\n      this.style.height = `${(rAvgHeight + columnGap) * Math.ceil(this.value.length / this.$$columns) - columnGap}px`;\n      if (isForce === false && isRender === false) return;\n      // console.log(start, end);\n      this.$$.renderChildren.renderList(renderList, {\n        keyExtractor: this.keyExtractor,\n        onCreateNode: (val, index, key) => {\n          let node = this.$$.createElement();\n          // console.log( this.$$.recycle.divs.length);\n          node.setAttribute(\"key\", key);\n          node.classList.add(\"r-scroll-virtual-grid-list-item\");\n          node.style.height = `${rAvgHeight}px`;\n          node.style.position = \"absolute\";\n          this.$$.measure(node, val, rAvgHeight, rowGap, columnGap);\n          this.dispatchEvent(createCustomEvent(\"renderList\", { ele: node, ...val, key }));\n          return node;\n        },\n        onCacheNode: (node, val, index, key) => {\n          node.setAttribute(\"key\", key);\n          this.$$.measure(node, val, rAvgHeight, rowGap, columnGap);\n          this.dispatchEvent(createCustomEvent(\"renderList\", { ele: node, ...val, key }));\n          return node;\n        },\n        onRemoveNode: (node, key) => {\n          node.setAttribute(\"key\", \"\");\n          node.classList.remove(\"r-scroll-virtual-grid-list-item\");\n          this.$$.recycle.divs.push(node);\n        },\n      });\n    },\n    measure: (node, val, rAvgHeight, rowGap, columnGap) => {\n      let columns = this.$$columns;\n      let rem = val.index % columns;\n      let ret = Math.floor(val.index / columns);\n      node.style.width = `calc( ${100 / columns}% - ${((columns - 1) * columnGap) / columns}px )`;\n      node.style.left = `calc( ${(100 / columns) * rem}% - ${(((columns - 1) * columnGap) / columns) * rem}px + ${rem * columnGap}px )`;\n      node.style.top = ret * (rAvgHeight + rowGap) + \"px\";\n    },\n    onValueChange: () => {\n      this.$$.layout();\n    },\n  };\n\n  set value(v) {\n    if (v instanceof ListArray) {\n      v.removeEventListener(\"change\", this.$$.onValueChange);\n      v.addEventListener(\"change\", this.$$.onValueChange);\n    } else arrayRewriteFunction(v, () => this.$$.layout());\n    this.$$.value = v;\n    this.$$.layout();\n  }\n\n  get value() {\n    return this.$$.value;\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.$$.scrollParent = this.$.findParentByLocalName(\"r-scroll\");\n    this.$$.scrollParent.addEventListener(\"scroll\", this.$$.onScroll.bind(this));\n    this.$$.layout();\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    this.$$.scrollParent.removeEventListener(\"scroll\", this.$$.onScroll.bind(this));\n  }\n}\n","import {\n  arrayRewriteFunction,\n  animationDebounced,\n  arrayLoopMap,\n  ListArray,\n  arrayBinaryFindIndex,\n  arrayLoop,\n} from \"@rainbow_ljy/rainbow-js\";\nimport { RainbowElement, createCustomEvent, renderChildren } from \"../../base/index.js\";\nimport \"./index.css\";\n\nclass ItemCache {\n  list = [];\n  width = undefined;\n  height = undefined;\n  left = undefined;\n  top = undefined;\n  vTop = undefined;\n  bottom = undefined;\n  vBottom = undefined;\n}\n\nexport class RScrollVirtualFallsList extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-columns\": { type: Number, default: 1 },\n    \"r-min-auto-width\": Number,\n    \"r-gap\": [Number, String],\n    \"r-row-gap\": [Number, String],\n    \"r-column-gap\": [Number, String],\n    \"r-avg-height\": [Number, String],\n  });\n\n  keyExtractor = (val) => val.item;\n\n  get $$columns() {\n    let { rColumns, rMinAutoWidth } = this.$.DATA;\n    if (rMinAutoWidth) return Math.floor(this.offsetWidth / rMinAutoWidth);\n    return rColumns;\n  }\n\n  $$ = {\n    resizeObserver: new ResizeObserver((entries) => {\n      entries.forEach((entrie) => {\n        const offset = getBoundingClientRect(entrie.target);\n        if (entrie.target?.__bindData__?.__cache__) {\n          entrie.target.__bindData__.__cache__.height = offset.height;\n        }\n      });\n      this.$$.layout();\n    }),\n    renderChildren: renderChildren({ parentNode: this }),\n    value: [],\n    preLoadIndex: 0,\n    cache: {\n      start: undefined,\n      end: undefined,\n    },\n    // recycle: {\n    //   divs: [],\n    // },\n    createElement: () => {\n      // let node = this.$$.recycle.divs.shift();\n      // if (node) return node;\n      let node = document.createElement(\"div\");\n      this.$$.resizeObserver.observe(node);\n      return node;\n    },\n    scrollParent: undefined,\n    onScroll: (event) => {\n      this.$$.layout(false);\n    },\n    findIndex: (scrollTop) => {\n      return arrayBinaryFindIndex(\n        this.value,\n        (item) => {\n          if (!item.__cache__) return false;\n          return item.__cache__.vTop <= scrollTop && scrollTop <= item.__cache__.vBottom;\n        },\n        (item) => {\n          if (!item.__cache__) return false;\n          return item.__cache__.vTop < scrollTop;\n        },\n      );\n    },\n    falls: {\n      list: [],\n    },\n    getCssValues: () => {\n      const { rAvgHeight, rGap, rColumnGap, rRowGap } = this.$.DATA;\n      const columnGap = rColumnGap || rGap || 0;\n      const rowGap = rRowGap || rGap || 0;\n      const offsetTop = this.$.getOffsetTop(this.$$.scrollParent);\n      const recycleTop = -window.innerHeight + offsetTop;\n      const recycleBottom = window.innerHeight * 2 + offsetTop;\n      const scrollTop = this.$$.scrollParent.scrollTop;\n      return { scrollTop, recycleBottom, recycleTop, offsetTop, rowGap, columnGap, rAvgHeight };\n    },\n    layout: (isForce = true) => {\n      const { scrollTop, recycleBottom, recycleTop, rowGap } = this.$$.getCssValues();\n      let start = this.$$.findIndex(scrollTop);\n      if (start === -1) start = 0;\n      let end = start + 30;\n      if (end > this.value.length) end = this.value.length;\n      let isRender = !(this.$$.cache.start === start && this.$$.cache.end === end);\n      this.$$.cache.start = start;\n      this.$$.cache.end = end;\n      this.$$.preLoadIndex = end;\n      if (isForce === false && isRender === false) return;\n      // console.log(start);\n      let startItem = this.value[start];\n      if (!startItem) return;\n      let list = this.value.slice(start, end);\n      let renderList = list.map((item, sub) => ({ index: start + sub, item, data: item }));\n      if (startItem.__cache__) this.$$.falls.list = startItem.__cache__.list;\n      else this.$$.falls.list = initList.call(this);\n      // console.log(startItem);\n      let minColumn = getMinHeightItem(this.$$.falls.list);\n      let __cache__ = new ItemCache();\n      this.$$.renderChildren.renderList(renderList, {\n        keyExtractor: this.keyExtractor,\n        onCreateNode: (val, index, key) => {\n          let ele = this.$$.createElement();\n          ele.setAttribute(\"key\", key);\n          ele.classList.add(\"r-scroll-virtual-falls-list-item\");\n          ele.style.position = \"absolute\";\n          this.dispatchEvent(createCustomEvent(\"renderList\", { ele: ele, ...val, key }));\n          return ele;\n        },\n        onCacheNode: (ele, val, index, key) => {\n          ele.setAttribute(\"key\", key);\n          this.dispatchEvent(createCustomEvent(\"renderList\", { ele: ele, ...val, key }));\n          return ele;\n        },\n        onBeforeInsertNode: (val, index, key) => {\n          minColumn = getMinHeightItem(this.$$.falls.list);\n          if (!val.item.__cache__) val.item.__cache__ = new ItemCache();\n          __cache__ = val.item.__cache__;\n          __cache__.list = this.$$.falls.list.map((el) => ({ ...el }));\n        },\n        onInsertBeforeNode: (ele, val, index, key) => {\n          if (minColumn.height) minColumn.height = minColumn.height + rowGap;\n          ele.style.width = minColumn.width;\n          ele.style.left = minColumn.left;\n          ele.style.top = minColumn.height + \"px\";\n          const offset = getBoundingClientRect(ele);\n          __cache__.height = offset.height;\n          __cache__.width = ele.offsetWidth;\n          __cache__.top = minColumn.height;\n          __cache__.vTop = minColumn.height + recycleTop;\n          __cache__.left = ele.style.left;\n          minColumn.height = minColumn.height + offset.height;\n          __cache__.bottom = minColumn.height;\n          __cache__.vBottom = minColumn.height + recycleBottom;\n          __cache__.calculateList = this.$$.falls.list.map((el) => ({ ...el }));\n          ele.__bindData__ = val.item;\n          // console.log(__cache__);\n        },\n        onRemoveNode: (ele, key) => {\n          ele.setAttribute(\"key\", \"\");\n          // this.$$.recycle.divs.push(ele);\n          this.$$.resizeObserver.unobserve(ele);\n        },\n      });\n      this.$$.preLoads();\n      this.$$.setHeight();\n      this.$$.backstage.reStart();\n    },\n    setHeight: () => {\n      const calculateList = this.value.at(-1)?.__cache__?.calculateList;\n      if (!calculateList?.length) {\n        const { rAvgHeight, columnGap } = this.$$.getCssValues();\n        this.style.height = `${(rAvgHeight + columnGap) * Math.ceil(this.value.length / this.$$columns) - columnGap}px`;\n        return;\n      }\n      this.style.height = `${getMaxHeightItem(calculateList).height}px`;\n    },\n    onValueChange: () => {\n      this.$$.layout();\n    },\n    preLoads: (count = 100) => {\n      let maxCount = this.value.length - this.$$.preLoadIndex;\n      if (count > maxCount) count = maxCount;\n      arrayLoop(count, () => {\n        this.$$.preLoad();\n        this.$$.preLoadIndex++;\n      });\n    },\n    preLoad: () => {\n      // console.log(this.$$.preLoadIndex);\n      const item = this.value[this.$$.preLoadIndex];\n      if (!item) return;\n      const { scrollTop, recycleBottom, recycleTop, rowGap, rAvgHeight } = this.$$.getCssValues();\n      let __cache__ = new ItemCache();\n      if (!item.__cache__) item.__cache__ = new ItemCache();\n      __cache__ = item.__cache__;\n      __cache__.list = this.$$.falls.list.map((el) => ({ ...el }));\n      // console.log(item);\n      let minColumn = getMinHeightItem(this.$$.falls.list);\n      if (!__cache__.height) __cache__.height = rAvgHeight;\n      if (minColumn.height) minColumn.height = minColumn.height + rowGap;\n      __cache__.top = minColumn.height;\n      __cache__.vTop = minColumn.height + recycleTop;\n      __cache__.left = minColumn.left;\n      __cache__.width = minColumn.width;\n      minColumn.height = minColumn.height + __cache__.height;\n      __cache__.bottom = minColumn.height;\n      __cache__.vBottom = minColumn.height + recycleBottom;\n      __cache__.calculateList = this.$$.falls.list.map((el) => ({ ...el }));\n    },\n    backstage: createBackstage(\n      () => {\n        this.$$.preLoads(50);\n        this.$$.setHeight();\n        // console.log(this.$$.preLoadIndex);\n      },\n      () => this.$$.preLoadIndex >= this.value.length,\n    ),\n  };\n\n  set value(v) {\n    if (v instanceof ListArray) {\n      v.removeEventListener(\"change\", this.$$.onValueChange);\n      v.addEventListener(\"change\", this.$$.onValueChange);\n    } else arrayRewriteFunction(v, () => this.$$.layout());\n    this.$$.value = v;\n    this.$$.layout();\n  }\n\n  get value() {\n    return this.$$.value;\n  }\n\n  connectedCallback(...arg) {\n    super.connectedCallback(...arg);\n    this.$$.scrollParent = this.$.findParentByLocalName(\"r-scroll\");\n    this.$$.scrollParent.addEventListener(\"scroll\", this.$$.onScroll.bind(this));\n    this.$$.falls.list = initList.call(this);\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    this.$$.scrollParent.removeEventListener(\"scroll\", this.$$.onScroll.bind(this));\n    this.$$.backstage.stop();\n  }\n}\n\nfunction initList() {\n  const columns = this.$$columns || 1;\n  const { rAvgHeight, rGap, rColumnGap, rRowGap } = this.$.DATA;\n  const columnGap = rColumnGap || rGap || 0;\n  const rowGap = rRowGap || rGap || 0;\n\n  return arrayLoopMap(columns, (i) => ({\n    width: `calc( ${100 / columns}% - ${((columns - 1) * columnGap) / columns}px )`,\n    left: `calc( ${(100 / columns) * i}% - ${(((columns - 1) * columnGap) / columns) * i}px + ${i * columnGap}px )`,\n    height: 0,\n    top: 0,\n    index: i,\n  }));\n}\n\nfunction getMinHeightItem(list) {\n  let item = list[0];\n  list.forEach((el) => {\n    if (el.height < item.height) item = el;\n  });\n  return item;\n}\n\nfunction getMaxHeightItem(list) {\n  let item = list[0];\n  list.forEach((el) => {\n    if (el.height > item.height) item = el;\n  });\n  return item;\n}\n\nfunction createBackstage(callback, stopFmt) {\n  let timer;\n\n  function idleCallback(deadline) {\n    stop();\n    if (stopFmt()) return;\n    if (deadline.timeRemaining() > 0) {\n      callback();\n      if (!deadline.didTimeout) timer = requestIdleCallback(idleCallback);\n    }\n  }\n\n  function start() {\n    timer = requestIdleCallback(idleCallback);\n  }\n\n  function stop() {\n    cancelIdleCallback(timer);\n  }\n\n  function reStart() {\n    stop();\n    start();\n  }\n\n  return { start, stop, reStart };\n}\n\nfunction getBoundingClientRect(ele = document.createElement(\"div\")) {\n  let offset = ele.getBoundingClientRect();\n  return {\n    height: Number(offset.height.toFixed(2)),\n  };\n}\n","import \"./index.css\";\nimport { RainbowElement } from \"../../base/index.js\";\n\nexport class RFoldText extends RainbowElement {\n  static observedAttributes = this.$registerProps({\n    \"r-max-line\": Number,\n  });\n\n  $slotContainer = {\n    default: document.createElement(\"span\"),\n    text: document.createElement(\"span\"),\n    end: document.createElement(\"span\"),\n    fold: document.createElement(\"span\"),\n    unfold: document.createElement(\"span\"),\n  };\n\n  $$ = {\n    value: \"\",\n    isFold: false,\n    foldText: \"\",\n    rowHeight: 0,\n    click: () => {\n      if (!this.$$.foldText) return;\n      const { text: span, default: content, end, fold, unfold } = this.$slotContainer;\n      if (this.$$.isFold === true) span.innerText = this.value;\n      if (this.$$.isFold === false) span.innerText = this.$$.foldText;\n      this.$$.isFold = !this.$$.isFold;\n      const offset = content.getBoundingClientRect();\n      this.style.height = offset.height + \"px\";\n      if (this.$$.isFold) {\n        end.classList.add(\"r-fold-text-end-fold\");\n        end.classList.remove(\"r-fold-text-end-unfold\");\n      } else {\n        end.classList.add(\"r-fold-text-end-unfold\");\n        end.classList.remove(\"r-fold-text-end-fold\");\n      }\n    },\n    setInnerText: (index = 0, line = 0, height = 0) => {\n      index++;\n      if (index > this.value.length) return \" \";\n      const { text: span, default: content, end, fold, unfold } = this.$slotContainer;\n      const text = this.value.slice(0, index);\n      span.innerText = text;\n      const offset = content.getBoundingClientRect();\n      if (height !== offset.height) {\n        height = offset.height;\n        line += 1;\n        // debugger;\n        if (line > 2) {\n          // debugger\n          return this.value.slice(0, index - 1);\n        }\n      }\n      return this.$$.setInnerText(index, line, height);\n    },\n    draw: (index = 0, line = 0, height = 0) => {\n      index++;\n      if (index > this.value.length) return;\n      const { text: span, default: content, end, fold, unfold } = this.$slotContainer;\n      const text = this.value.slice(0, index);\n      span.innerText = text;\n      const offset = content.getBoundingClientRect();\n      if (height !== offset.height) {\n        height = offset.height;\n        line += 1;\n        if (line > 2) {\n          this.style.height = this.rowHeight + \"px\";\n          end.classList.remove(\"r-fold-text-end-none\");\n          // requestAnimationFrame(() => {\n          this.$$.foldText = this.$$.setInnerText();\n          span.innerText = this.$$.foldText;\n          this.$$.isFold = true;\n\n          if (this.$$.isFold) {\n            end.classList.add(\"r-fold-text-end-fold\");\n            end.classList.remove(\"r-fold-text-end-unfold\");\n          } else {\n            end.classList.add(\"r-fold-text-end-unfold\");\n            end.classList.remove(\"r-fold-text-end-fold\");\n          }\n          // });\n          // debugger\n          return;\n        }\n        this.rowHeight = height;\n      }\n      this.$$.draw(index, line, height);\n    },\n  };\n\n  set value(v) {\n    this.$$.value = v;\n    this.$slotContainer.end.classList.add(\"r-fold-text-end-none\");\n    this.$$.draw();\n  }\n\n  get value() {\n    return this.$$.value;\n  }\n\n  connectedCallback(...arg) {\n    console.log(\"connectedCallback-connectedCallback\")\n    super.connectedCallback(...arg);\n    this.addEventListener(\"click\", this.$$.click.bind(this));\n    this.$slotContainer.default.classList.add(\"r-fold-text-default\");\n    this.$slotContainer.text.classList.add(\"r-fold-text-text\");\n    this.$slotContainer.end.classList.add(\"r-fold-text-end\", \"iconfont\");\n    this.$slotContainer.fold.classList.add(\"r-fold-text-end-fold-solt\");\n    this.$slotContainer.unfold.classList.add(\"r-fold-text-end-unfold-solt\");\n    if (!this.$slotContainer.end.innerHTML) {\n      this.$slotContainer.end.innerHTML = \"&#xe745;&#xe745;&#xe745\";\n    }\n    this.$.append(this.$slotContainer.default);\n    this.$slotContainer.default.append(this.$slotContainer.text);\n    this.$slotContainer.default.append(this.$slotContainer.end);\n    this.$slotContainer.default.append(this.$slotContainer.fold);\n    this.$slotContainer.default.append(this.$slotContainer.unfold);\n\n  }\n\n  disconnectedCallback(...arg) {\n    super.disconnectedCallback(...arg);\n    this.removeEventListener(\"click\", this.$$.click.bind(this));\n  }\n}\n","import \"./iconfont/iconfont.css\";\nexport * from \"./base/index.js\";\nimport * as elements from \"./element.js\";\n\nfor (const key in elements) {\n  if (Object.prototype.hasOwnProperty.call(elements, key)) {\n    const element = elements[key];\n    const defineKey = key.replaceAll(/[A-Z]/g, (v) => (\"-\" + v.toLowerCase()) ).slice(1);\n    // console.log(key);\n    // console.log(defineKey);\n    customElements.define(defineKey, element);\n  }\n}\n"],"names":["deleteKey","target","source","bool","key","Object","prototype","hasOwnProperty","call","error","assignStyle","style","newStyle","convertToCamelCase","str","includes","parts","split","slice","map","part","charAt","toUpperCase","join","camelCaseToKebabCase","replace","toLowerCase","RainbowEvent","Event","constructor","type","eventInitDict","event","super","this","detail","Array","undefined","console","warn","createCustomEvent","name","newEvent","CustomEvent","bubbles","cancelable","renderChildren","props","options","parentNode","pointer","cacheMap","Map","renderList","p","config","beforeEach","keyExtractor","item","index","onCacheNode","onCreateNode","onDeleteNode","onRemoveNode","onBeforeInsertNode","onInsertBeforeNode","forEach","node","has","get","nextSibling","insertBefore","delete","firstChild","set","remove","events","MutationObserver","mutations","fun","Function","observe","document","subtree","attributes","attributeOldValue","treeAttrsChangeIMP","simult","init","$","changePropsRender","disconnected","settle","async","resizeObserverIMP","obs","isOnlyResizeWidth","isOnlyResizeHeight","resizeCallback","resizeOptions","cache","cb","bind","$debouncedRender","ResizeObserver","arg","offset","width","offsetWidth","height","offsetHeight","disconnect","treeObserverIMP","mObserver","rObserver","childrenResizeOptions","onChildrenSizeChange","onSizeChange","onWidthChange","onHeightChange","mutationOptions","childList","onChildChange","onAttributeChange","entries","some","el","mutation","addedNodes","from","filter","removedNodes","ele","unobserve","ListArray","args","defineProperty","value","writable","enumerable","configurable","addEventListener","listener","push","removeEventListener","arrayRemove","onChange","change","funs","copyWithin","res","fill","pop","shift","unshift","splice","sort","reverse","arrayAt","list","length","arrayLoop","num","arrayLoopMap","arr","findIndex","arrayBinarySearch","setPointer","right","formatter","compare","fg","left","result","Math","floor","arrayBinaryFindIndex","arrayRewriteFunction","original","defineProperties","setTimeoutPromise","time","resolveValue","Promise","resolve","setTimeout","animationDebounced","callback","id","cancelAnimationFrame","requestAnimationFrame","at","RainbowElement","HTMLElement","$registerProps","types","keys","default","$types","$props","IMPS","self","getSlotContainer","soltName","getAttribute","container","$slotContainer","_getSC","renderSolt","localName","append","isInitAttrs","data","DATA","Proxy","prop","resolveFunCss","calc","v","resolveCss","isAttrFun","test","cssVal","len","Number","replaceAll","window","innerWidth","innerHeight","eval","number","isNaN","trim","Boolean","log","class","resolvePercentum","fmt","resolvePercentumH","setStyle","fmtStyle","ftStyle","reduce","add","assign","setClass","fmtClass","newClass","newMap","classList","findParentByLocalName","parent","findChildByLocalName","c","getElementsByTagName","getOffsetTop","offsetParent","top","offsetTop","isAnimation","transitionrun","transitioncancel","transitionend","force","isChange","css","getComputedStyle","getPropertyValue","nodes","appendChild","removeChild","$onRegisterIMPS","$render","child","attributeChangedCallback","oldValue","newValue","$onAttributeChanged","changeAttr","connectedCallback","connected","adoptedCallback","adopted","disconnectedCallback","RAbsolute","static","String","Transition","params","createElement","className","oBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","show","enter","leave","destroy","setAttribute","hide","setName","visible","clear","reject","RVisibleAnimate","$$visible","$$transition","open","close","rOrientation","customElements","define","RDialog","$$content","$$setClass","RFalls","rMinAutoWidth","rColumns","rGap","rRowGap","rColumnGap","col","colGap","rowGap","i","itemWidth","children","getMinHeightItem","getMaxHeightItem","RGrid","$$columns","$$doLayout","rGridWrap","rGridStretch","clumnList","start","gridColumns","maxColumn","end","end2","RScroll","$$","content","prveScrollTop","onScroll","scrollTop","moveY","dispatchEvent","onscroll","disabledScroll","unDisabledScroll","scrollBy","scrollTo","RScrollRefresh","onrefresh","$$renderRefresh","circle","loadIcon","innerHTML","text","handleLoading","loading","rRefreshHeignt","innerText","release","createPromise","promise","scrollParent","render","pointerdownEvent","touchstartEvent","lock","pointerdown","pointermove","pageY","touchstart","touches","touchmove","rMaxRefreshHeignt","stopImmediatePropagation","preventDefault","refreshHeight","touchend","rMinTime","allSettled","opt","passive","capture","RScrollMemoryBubble","$$cacheMoveY","$$scrollParent","rInitVisibility","findParentByType","$$setVisibleFalse","$$setVisibleTrue","abs","rVisibleDistance","RScrollSticky","bottom","$$isSticky","$$isStickyTop","$$isStickyBottom","$$isStickyAct","$$opacity","$$display","$bindClass","$bindStyle","$$initTop","$$onScroll","COMPUTE_INTERVAL","currentView","srcViews","timer","customEventNameMap","compute","isGetPdownLock","SlideEvent","altKey","altitudeAngle","azimuthAngle","button","buttons","clientX","clientY","ctrlKey","currentTime","deltaAng","deltaC","deltaTime","deltaX","deltaY","direction","fromElement","getModifierState","getPredictedEvents","initMouseEvent","initUIEvent","isPrimary","layerX","layerY","metaKey","moveX","movementX","movementY","offsetX","offsetY","orientation","pageX","persistentDeviceId","pointerId","pointerType","pressure","relatedTarget","screenX","screenY","shiftKey","sourceCapabilities","speedX","speedY","tangentialPressure","tiltX","tiltY","toElement","twist","velocityX","velocityY","view","which","x","y","extendedSlideEvents","$set","onCapturePointerdown","currentTarget","onPointerdown","bindEvents","customEventName","undefinedReturn","def","inheritPointerEvent","calcHypotenuse","a","b","sqrt","calculateAngle","dx","dy","atan2","PI","clearTimeout","extendedEventArgs","beginEvent","prveEvent","intervalEvent","isVerdict","isStart","pressures","ang","isRightAng","isTopAng","isLeftAng","isBottomAng","Date","now","avgPressure","toFixed","slideEvent","customSlideEven","ScrollEvent","inheritSlideEvent","LOG","RNestedScroll","nestedChild","nestedChildren","nestedParent","setNestedChild","mOffset","getBoundingClientRect","find","captureOptions","scrollEvent","setup","scrollEl","ani","adsorbAni","coefficient","isScrollToBottomEnd","ceil","isScrollToTopEnd","maxScrollTop","isScrollRightEnd","scrollLeft","isScrollLeftEnd","maxScrollLeft","rollingConflict","every","rScrollDirection","slideCaptureTop","stopPropagation","doScrollTop","slideBottom","doScrollBottom","slideCaptureTopEnd","dispatchScrollTopFlying","slideBottomEnd","dispatchScrollBottomFlying","createEvent","scrollHeight","containerHeight","space","velocity","stop","cAni","onanimation","onanimationEnd","slideLeft","slideRight","slideLeftEnd","slideLeftRightEnd","slideRightEnd","roundIndex","round","adsIndex","to","Animation","avg","aLeft","onanimationend","bubble","deceleration","stopAction","isReduce","animaMinus","animaAdd","anima","duration","RRollingTextNum","$$container","$$measure","$$rotes","$$num","$$value","$$isMonted","$$deg","$$rotateX","$$renderNums","deg","translateZ","sin","div","transform","isTransition","rTransition","rInitialAnimation","rotateX","unactIndex","transition","RRollingText","$$renderNumNodes","rMathType","rValue","values","size","RCircle","borderDiv","layerDiv","toRadians","angle","getAngleDiff","startAng","endAng","age","clockwise","anglePosition","radius","cos","arcTo","backward","largeArcFlag","sweepFlag","anticlockwise","getRangeValue","min","max","parseInt","val","getAnnulusPath","outerRadius","innerRadius","out","inner","getcirclePath","rStartAngle","rOuterRadius","rInnerRadius","rOriginX","rOriginY","rStrokeWidth","rDirection","rLayerStrokeWidth","rRangeMin","rRangeMax","clipPath","RSvgCircle","RTestD","RScrollVirtualGridList","recycle","divs","layout","isForce","rAvgHeight","columnGap","recycleCount","sub","isRender","position","measure","columns","rem","ret","onValueChange","ItemCache","vTop","vBottom","RScrollVirtualFallsList","resizeObserver","entrie","__bindData__","__cache__","preLoadIndex","falls","getCssValues","recycleTop","recycleBottom","startItem","initList","minColumn","calculateList","preLoads","setHeight","backstage","reStart","count","maxCount","preLoad","createBackstage","stopFmt","idleCallback","deadline","timeRemaining","didTimeout","requestIdleCallback","cancelIdleCallback","RFoldText","fold","unfold","isFold","foldText","rowHeight","click","span","setInnerText","line","draw","elements","element","defineKey"],"mappings":"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"}