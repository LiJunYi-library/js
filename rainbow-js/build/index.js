function e(e){let t;return function(...n){cancelAnimationFrame(t),t=requestAnimationFrame((t=>{e(...n)}))}}function t(e,t){return e[t<0?e.length+t:t]}function n(e,t){for(let n=0;n<e;n++)if(!1===t(n))return}function r(e,t){const n=[];for(let r=0;r<e;r++)n.push(t(r));return n}function a(e,t,n){for(let r=e;r<t;r++)if(!1===n(r))return}function o(e=[],t,n){let r,a=null;return e.forEach(((o,u)=>{if(null===a)return r=o,void(a=t(o,u,e));n(a,o,u,e)&&(r=o,a=t(o,u,e))})),r}function u(e=[],t){return o(e,t,((e,n,r,a)=>t(n,r,a)<e))}function i(e=[],t){return o(e,t,((e,n,r,a)=>t(n,r,a)<=e))}function l(e=[],t){return o(e,t,((e,n,r,a)=>t(n,r,a)>e))}function s(e=[],t){return o(e,t,((e,n,r,a)=>t(n,r,a)>=e))}function c(e=[],t){return e.splice(t,1),e}function f(e=[],t){const n=e.findIndex((e=>e===t));return~n&&e.splice(n,1),e}function v(e=[],t){const n=e.findLastIndex((e=>e===t));return~n&&e.splice(n,1),e}function d(e=[],t,...n){let r;r=t instanceof Function?t:e=>![t,...n].includes(e);const a=e.filter(r);return e.splice(0),e.push(...a),e}function p(e=[],t){const n=[];for(let r=0;r<e.length;r+=t){const a=[],o=r+t>e.length?e.length:r+t;for(let e=r;e<o;e++)a.push(e);n.push(a)}return n}function h(e=[],t){const n=[];for(let r=0;r<e.length;r+=t){const a=r+t>e.length?e.length:r+t,o=e.slice(r,a);n.push(o)}return n}function g(e=[],t){if(!t)return[...new Set(e)];const n=new Map;return e.filter(((e,r)=>!n.has(t(e,r).toString())&&n.set(t(e,r).toString())))}function m(e=[],t){if(!t)return[...new Set(e)];const n={};e.forEach(((e,r)=>n[t(e,r)]=e));const r=[];for(const e in n)if(Object.hasOwnProperty.call(n,e)){const t=n[e];r.push(t)}return r}function y(e=[],t){const n={};e.forEach((e=>{n[t(e)]||(n[t(e)]=[]),n[t(e)].push(e)}));const r=[];for(const e in n)if(Object.hasOwnProperty.call(n,e)){const t=n[e];t.length>1&&r.push(t)}return r.flat()}function b(e=[],t,n){let r=n||t;return e.sort(((e,n)=>t(e)-r(n))),e}function R(...e){return b(...e)[0]}function S(e=[],...t){return b(e,...t)[e.length-1]}function P(e=[],t,n){let r=n||t;return e.sort(((e,n)=>r(n)-t(e))),e}function w(...e){return P(...e)[list.length-1]}function L(e=[],...t){return P(e,...t)[0]}function x(e,t,n){return e.forEach((r=>{const a=t.findIndex((e=>n(r,e)));r.sortIndex=-1===a?e.length:a})),e.sort((function(e,t){return e.sortIndex-t.sortIndex})),e}function F(e){const t=e.length;for(let n=0;n<t;n++){const t=Math.floor(Math.random()*(e.length-1));e.push(e[t]),e.splice(t,1)}}function O(...e){const[t,n,...r]=e;let a=[n,...r],o=e=>e;n instanceof Function&&(o=n,a=[...r]),t.forEach((e=>{o(e)(...a)}))}function A(){const e=[];return{events:e,push:function(t){e.push(t)},remove:function(t){f(e,t)},invoke:function(...t){O(e,...t)},invokes:function(t){e.forEach(t)}}}function j(e=(e,t)=>e.right=t-1,t=[],n,r){const a={left:0,right:t.length-1,result:-1};for(;a.left<=a.right;){const o=Math.floor((a.left+a.right)/2),u=t[o];n(u)?(a.result=o,e(a,o,u)):r(u)?a.left=o+1:a.right=o-1}return a.result}function E(e=[],t,n){return j(((e,t)=>{e.right=t-1}),e,t,n)}function _(e=[],t,n){const r=E(e,t,n);return-1===r?void 0:e[r]}function D(e=[],t,n){return j(((e,t)=>{e.left=t+1}),e,t,n)}function T(e=[],t,n){const r=D(e,t,n);return-1===r?void 0:e[r]}function N(e=[],t){const n={},r={};return["copyWithin","fill","push","pop","shift","unshift","splice","sort","reverse"].forEach((a=>{n[a]=e[a],r[a]={value:function(...r){const o=n[a].call(e,...r);return t instanceof Function&&t?.("name",...r),o},writable:!0,enumerable:!1,configurable:!1}})),Object.defineProperties(e,r),e}function B(e=[],t){let n=-1;return e.forEach(((e,r,a)=>{t?.(e,r,a)&&(n=r)})),n}function z(e=[],t){let n;return e.forEach(((e,r,a)=>{t?.(e,r,a)&&(n=e)})),n}function I(e){return e instanceof Array?e:[]}function U(e=[],t){const n=e.findIndex((e=>e===t));return n<0?void 0:n}function C(e=[],t=[]){return t.map((t=>e.indexOf(t))).filter((e=>~e))}function J(e){return void 0!==e&&(""!==e&&null!==e)}function V(e,t){return!J(e)||e===t}function q(e,t){return!J(e)||e!==t}function k(e,t,n){return new RegExp(e,n).test(t)}function M(e=[],t){return!e||!e.length||e.some((e=>e===t))}function $(...e){let t,n,r;return 3===e.length&&(t=e[0],n=e[1],r=e[2]),2===e.length&&(t=e[0][0],n=e[0][1],r=e[1]),!J(t)&&!J(n)||(J(t)&&!J(n)?r>=t:(!J(t)&&J(n)||t<=r)&&r<=n)}function H(e){let t=e;return{get:()=>t,set(e){t=e},value:{get:()=>t,set(e){t=e}}}}function W(e){const t=new Proxy(e,{get(e,t,n){const r=e[t];return r?.__isRef||r?.__v_isRef?r.value:r?.get?r.get():r},set(e,t,n){const r=e[t];return r?.__isRef||r?.__v_isRef?r.value=n:r?.set?r.set(n):e[t]=n,!0}});return t.getPrototype=()=>e,t.original=e,t}function Z(e={},t,n){const r={};for(const a in e)if(e.hasOwnProperty.call(e,a)){const o=e[a];if(t.test(a)){r[a.replace(t,"")]=o,n&&delete e[a]}}return r}function G(e){return!!e&&Boolean(Object.keys(e).length)}function K(e={},t={}){for(const n in e)if(e[n]!==t[n])return!1;return!0}function Q(e="",t){if("object"!=typeof t)return"";if(!G(t))return"";const n=new URLSearchParams;ae(t,((e,t)=>{void 0!==e&&("object"!=typeof e||e instanceof Array||(e=JSON.stringify(e)),n.set(t,e))}));const r=n.toString()||"";return e&&e.includes("?")?`&${r}`:`?${r}`}function X(e,t){const n=new FormData;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t&&void 0!==e[r]&&n.append(r,e[r]);return n}function Y(...e){try{return JSON.parse(...e)}catch(e){return{}}}function ee(...e){try{return JSON.stringify(...e)}catch(e){return""}}function te(e,t,n=[]){for(const r in t)n.includes(r)&&(e[r]=t[r]);return e}function ne(e){"object"==typeof e&&null!==e&&Object.keys(e).forEach((t=>{delete e[t]}))}function re(e,t){return Object.keys(e).includes(t)}function ae(e={},t){if(e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function oe(e={},t){const n={};return e?(forIn(e,((r,a)=>{n[a]=t(r,a,e)})),n):n}function ue(...e){return Object.assign({},...e,function(...e){const t=e.map((e=>e?.headers));return{headers:JSON.parse(JSON.stringify(Object.assign({},...t)))}}(...e))}function ie(e){return void 0===e||null===e}Array.prototype.at||(Array.prototype.at=function(...e){return t(this,...e)});const le={error:"loading",message:"loading",code:41,status:41},se={error:"Request Timeout",message:"Request Timeout",code:48,status:48},ce={error:"about",message:"about",code:20,status:20};function fe(e={},t={}){return{loadingRef:H,beginRef:H,errorRef:H,dataRef:H,errorDataRef:H,loading:!1,begin:!1,error:!1,data:void 0,errorData:void 0,formatterResponse:async(e,t)=>{try{const n=e.headers.get("Content-Type");return n.includes("application/json")?await e.json():n.includes("application/octet-stream")?t.formatterFile?await t.formatterFile(e,t):await e.blob():n.includes("text/plain")?await e.text():await e.json()}catch(e){return}},formatterData:(e,t,n,r)=>e,formatterFile:async(e,t)=>{const n=await t.formatterFileName(e,t),r=await e.blob();return new File([r],n)},formatterFileName:async(e,t)=>{const n=e.headers.get("Content-Disposition")?.split("filename=")?.pop(),r=decodeURIComponent(n);return t.fileName||r},formatterBody:async e=>{const t=e.body;return"function"==typeof t?t():"object"==typeof t?t:void 0},parseBody:async e=>{const t=e.body;if(ie(t))return;const n=e.headers["Content-Type"]||"";return e.isFormBody?X(t,!0):e.isJsonBody||n.includes("application/json")?JSON.stringify(t):n.includes("form")?X(t,!0):JSON.stringify(t)},formatterUrlParams:async e=>{const t=e.urlParams;return"function"==typeof t?t():"object"==typeof t||"string"==typeof t?t:void 0},parseUrlParams:async e=>{const t=e.urlParams;if(ie(t))return"";if("string"==typeof t)return t;if("object"!=typeof t)return"";if(!G(t))return"";const n=new URLSearchParams;return ae(t,((e,t)=>{void 0!==e&&("object"!=typeof e||e instanceof Array||(e=JSON.stringify(e)),n.set(t,e))})),n.toString()||""},parseUrl:e=>{const t=new URL(e.url,e.baseUrl);if(!e.urlParams)return t.toString();const n=[t.href,e.urlParams];return t.href.endsWith("&")||t.href.endsWith("?")?n.join(""):t.href.includes("?")?n.join("&"):n.join("?")},downloadFile:(e,t,n)=>{const r=document.createElement("a");r.download=n.name||"download",r.style.display="none",r.href=URL.createObjectURL(n),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)},interceptResponseSuccess:async(e,t,n)=>t,interceptResponseError:(e,t,n,r)=>{},interceptRequest:e=>{},onAbort:(e,t,n,r)=>{},onTimeoutAbort:(e,t,n,r)=>{},onLoading:(e,t,n,r)=>{},onRequest:e=>{},onResponse:e=>{},time:3e4,isDownloadFile:!1,fileName:"",url:"",baseUrl:"",urlParams:void 0,body:void 0,isFormBody:!1,isJsonBody:!1,errorLog:!1,...e,...t}}function ve(e={}){return function(t={}){const n=fe(e,t),{loadingRef:r,beginRef:a,errorRef:o,dataRef:u,errorDataRef:i}=n,l=r(n.loading),s=a(n.begin),c=o(n.error),f=u(n.data),v=i(n.errorData),d=A();function p(n={},r={}){const{throwLoad:a=!1,isBegin:o=!1}=r,u=ue(fe(),e,t,n);return new Promise((async(e,t)=>{const n=t=>{l.value=!1,f.value=t,c.value=!1,s.value=!1,v.value=void 0,u.onResponse(u),e(t)},r=e=>{l.value=!1,f.value=void 0,c.value=!0,v.value=e,u.onResponse(u),t(e)};try{if(!0===l.value&&a)throw le;let e=new AbortController,t=setTimeout((()=>e.abort(se)),u.time);const i={controller:e,timeoutId:t};d.push(i),l.value=!0,o&&(s.value=!0),c.value=!1,u.body=await u.formatterBody(u),u.urlParams=await u.formatterUrlParams(u),await u.interceptRequest(u),u.body=await u.parseBody(u),u.urlParams=await u.parseUrlParams(u);const f=[await u.parseUrl(u),{...u,signal:e.signal}],v=u.fetch||fetch;u.onRequest(u);const p=await v(...f).finally((()=>{clearTimeout(t),d.remove(i)}));if(!p.ok)throw p;const h=await u.formatterResponse(p,u);if(u.isDownloadFile&&u.downloadFile(p,u,h),!u.interceptResponseSuccess)return n(h);const g=u.interceptResponseSuccess(p,h,u);if(!(g instanceof Promise))return n(g);g.then((async e=>n(await u.formatterData(e,h,p,u)))).catch(r)}catch(n){if(20===n?.status)return l.value=!1,s.value=!1,u.onAbort(n,u,e,t),void u.onResponse(u);if(41===n?.status)return void u.onLoading(n,u,e,t);u.errorLog&&console.log("请求出错了*****",n),48!==n?.status?u.interceptResponseError(n,u,e,t):u.onTimeoutAbort(n,u,e,t),r(n)}}))}function h(){[...d.events].forEach((e=>{clearTimeout(e.timeoutId),e.controller.abort(ce)}))}return W({loading:l,begin:s,error:c,data:f,errorData:v,send:p,nextSend:function(e){return h(),p(e)},awaitSend:function(e){return p(e,{throwLoad:!0})},beginSend:function(e){return p(e,{isBegin:!0})},nextBeginSend:function(e){return h(),p(e,{isBegin:!0})},awaitBeginSend:function(e){return p(e,{throwLoad:!0,isBegin:!0})},abort:h})}}function de(e,t=!0){const n={};return e({addimpl:function(...e){let[t,r]=e;1===e.length&&(r=t,t=""),t instanceof Array&&(t=t.join("")),n[t]=r}}),function(...e){const r=e.reduce(((e,n)=>{let r;const a=Object.prototype.toString.call(n);return r=a.replace(/(\[object )([^\]]*?)(\])/,"$2"),"[object Object]"===a&&t&&(r=n.constructor.name),e+=r}),"");let a;try{a=n[r].call(this,...e)}catch(e){console.error("函数重载失败"),console.error(e)}return a}}const pe=e=>"function"==typeof e;function he(e={}){const t=function(e={}){const t=ye({formatterSelect:(e={})=>{let n;return void 0!==e.value&&(n=e.list.find((n=>t.formatterValue(n)===e.value)),void 0!==n)||void 0!==e.label&&(n=e.list.find((n=>t.formatterLabel(n)===e.label)),void 0!==n)||void 0!==e.index&&(n=e.list[e.index],void 0!==n)?n:void 0},isMultiple:!1,...e});return t}(e),{formatterValue:n,formatterLabel:r,formatterDisabled:a,formatterSelect:o,selectRef:u,valueRef:i,labelRef:l,indexRef:s,listRef:c}=t,f=c(I(t.list)),v=u(o(t)),d=i(n(v.value)),p=l(r(v.value)),h=s(U(f.value,v.value)),g=e=>f.value.find?.((e=>t=>n(t)===e)(e)),m=e=>f.value.find?.((e=>t=>r(t)===e)(e));function y(e){return(void 0!==e||void 0!==v.value)&&v.value===e}function b(){v.value=void 0,d.value=void 0,p.value=void 0,h.value=void 0}function R(e){v.value="function"==typeof e?f.value.find(e):e,d.value=n(v.value),p.value=r(v.value),h.value=U(f.value,v.value)}function S(e){return g(e)}return W({value:d,label:p,index:h,select:v,list:f,same:y,reset:b,onSelect:async function(e,n){return!!a(e,n)||(t.cancelSame&&y(e)?(b(),!1):!!y(e)||(R(e),!1))},formatterValue:n,formatterLabel:r,formatterDisabled:a,updateSelect:R,updateValue:function(e){d.value=e,v.value=g(d.value),p.value=r(v.value),h.value=U(f.value,v.value)},updateLabel:function(e){p.value=e,v.value=m(p.value),d.value=n(v.value),h.value=U(f.value,v.value)},updateIndex:function(e){h.value=e,v.value=f.value[e],d.value=n(v.value),p.value=r(v.value)},updateList:function(e=[],a){f.value=I(e),v.value="function"==typeof a?a():o(!0===a?{...t,list:f.value}:"value"===a?{list:f.value,value:d.value}:"label"===a?{list:f.value,label:p.value}:"index"===a?{list:f.value,index:h.value}:{...a,list:f.value}),d.value=n(v.value),p.value=r(v.value),h.value=U(f.value,v.value)},getSelectOfValue:S,getLabelOfValue:function(e){return r(S(e))},getIndexOfValue:function(e){return U(f.value,S(e))}})}function ge(e=[],t=[],n){return t.map((t=>e.find((e=>n(e)===t)))).filter((e=>void 0!==e))}function me(e={}){const t=function(e={}){const t=ye({formatterSelect:(e={})=>{let n=[];return void 0!==e.value&&(n=ge(e.list,e.value,t.formatterValue),n.length)||void 0!==e.label&&(n=ge(e.list,e.label,t.formatterLabel),n.length)||void 0!==e.index&&(n=e.index.map((t=>e.list[t])),n.length)?n:[]},isMultiple:!0,...e});return t}(e),{formatterValue:n,formatterLabel:r,formatterDisabled:a,formatterSelect:o,selectRef:u,valueRef:i,labelRef:l,indexRef:s,listRef:c}=t,v=c(I(t.list)),d=u(o(t)),p=i(d.value.map(n)),h=l(d.value.map(r)),g=s(C(v.value,d.value)),m=e=>ge(v.value,e,n);function y(e){return d.value.some((t=>t===e))}function b(e=[]){d.value=I("function"==typeof e?v.value.filter(e):e),p.value=d.value.map(n),h.value=d.value.map(r),g.value=C(v.value,d.value)}function R(e){return m(I(e))}return W({value:p,label:h,index:g,select:d,list:v,same:y,reset:function(){d.value=[],p.value=[],h.value=[],g.value=[]},onSelect:async function(e,t){return!!a(e,t)||(y(e)?(f(d.value,e),b(d.value)):(d.value.push(e),b(d.value)),!1)},invertSelect:function(){d.value=v.value.filter(((e,t)=>!a(e,t)&&!d.value.some((t=>t===e)))),b(d.value)},allSelect:function(){d.value=v.value.filter(((e,t)=>!a(e,t))),b(d.value)},formatterValue:n,formatterLabel:r,formatterDisabled:a,updateSelect:b,updateValue:function(e){p.value=I(e),d.value=m(p.value),h.value=d.value.map(r),g.value=C(v.value,d.value)},updateLabel:function(e){var t;h.value=I(e),d.value=(t=h.value,ge(v.value,t,r)),p.value=d.value.map(n),g.value=C(v.value,d.value)},updateIndex:function(e){g.value=I(e),d.value=g.value.map((e=>v.value?.[e])).filter((e=>void 0!==e)),p.value=d.value.map(n),h.value=d.value.map(r)},updateList:function(e=[],a){v.value=I(e),d.value="function"==typeof a?a():o(!0===a?{...t,list:v.value}:"value"===a?{list:v.value,value:p.value}:"label"===a?{list:v.value,label:h.value}:"index"===a?{list:v.value,index:g.value}:{...a,list:v.value}),p.value=d.value.map(n),h.value=d.value.map(r),g.value=C(v.value,d.value)},getSelectOfValue:R,getLabelOfValue:function(e){return R(e).map(r)},getIndexOfValue:function(e){return C(v.value,R(e))}})}function ye(e={}){return{select:void 0,value:void 0,label:void 0,index:void 0,list:[],selectRef:H,valueRef:H,labelRef:H,indexRef:H,listRef:H,formatterValue:e=>e?.value,formatterLabel:e=>e?.label,formatterDisabled:e=>e?.disabled??!1,formatterList:e=>e,cancelSame:!1,isMultiple:!1,formRequired:!1,formRequiredErrorMessage:"",validator:()=>Promise.resolve(!0),...e}}function be(e={}){return e.isMultiple?me(e):he(e)}function Re(e={}){const t=function(e={}){const t={currentPage:1,pageSize:-1,total:0,listData:[],filterFun:void 0,sortFun:void 0,manageListFun:void 0,list:[],currentPageRef:H,pageSizeRef:H,totalRef:H,listDataRef:H,filterFunRef:H,sortFunRef:H,manageListFunRef:H,filterList:(e={})=>{let t=[...I(e.listData)];return e.manageListFun&&(t=e.manageListFun(t,e)),e.filterFun&&(t=t.filter(e.filterFun)),e.sortFun&&(t=t.sort(e.sortFun)),e.total=t.length,(()=>{if(e.pageSize<=0)return;let n=e.currentPage,r=e.pageSize,a=Math.ceil(e.total/r)||1;n>a&&(e.currentPage=a,n=a);const o=(n-1)*r,u=n*r;t=t.slice(o,u)})(),t},...e};return t.listData=t.list,t.total=t.listData.length,t}(e),{listDataRef:n,pageSizeRef:r,totalRef:a,currentPageRef:o,filterFunRef:u,sortFunRef:i,manageListFunRef:l,filterList:s}=t,c=s(t),f=n(I(t.list)),v=r(t.pageSize),p=o(t.currentPage),h=a(t.total),g=u(t.filterFun),m=i(t.sortFun),y=l(t.sortFun),b=be({...e,list:c}),R=W({...b.getPrototype(),listData:f,pageSize:v,currentPage:p,total:h,filterFun:g,sortFun:m,manageListFun:y,push:function(...e){f.value.push(...e),S("value")},pushed:function(e=[],t="value"){f.value.push(...e),S(t)},unshift:function(...e){f.value.unshift(...e),S("value")},unshifted:function(e=[],t="value"){f.value.unshift(...e),S(t)},splice:function(...e){P(...e),S("value")},spliced:function(e,t,n=[],r="value"){P(e,t,...n),S(r)},insert:function(e,t=0,n,...r){w(e,t,n,...r),S("value")},inserted:function(e,t=0,n,r=[],a="value"){w(e,t,n,...r),S(a)},pop:function(e="value"){f.value.pop(),S(e)},shift:function(e="value"){f.value.shift(),S(e)},remove:function(...e){d(f.value,...e),S("value")},removed:function(e=[],t="value"){d(f.value,...e),S(t)},changeIndex:function(e,t,n="value"){const r=f.value[e],a=f.value[t];f.value[e]=a,f.value[t]=r,S(n)},change:function(e,t,n="value"){const r=f.value.indexOf(e),a=f.value.indexOf(t);if(-1===r||-1===a)return;f.value[r]=t,f.value[a]=e,S(n)},filter:function(e,t="value"){g.value=e,S(t)},manageList:function(e,t="value"){y.value=e,S(t)},sort:function(e,t="value"){m.value=e,S(t)},ascendingOrder:function(e,t="value"){m.value=(t,n)=>e(t)-e(n),S(t)},descendingOrder:function(e,t="value"){m.value=(t,n)=>e(n)-e(t),S(t)},updateCurrentPage:function(e,t="value"){p.value=e,S(t)},updatePageSize:function(e,t="value"){v.value=e,S(t)},updateList:function(e=[],t="value"){f.value=I(e),S(t)},resolveList:S});function S(...e){let t=s(R);b.updateList(t,...e)}function P(e,t,...n){let r;if(e instanceof Function){if(r=f.value.findIndex(e),-1===r)return}else r=e;f.value.splice(r,t,...n)}function w(e,t=0,n,...r){let a;a=e instanceof Function?e:t=>t===e;const o=f.value.findIndex(a)+t;-1!==o&&f.value.splice(o,n,...r)}return R}function Se(e={}){const t=function(e={}){return{formatterList:(e,t)=>e?"object"!=typeof e?[]:e instanceof Array?e:e.list||[]:[],formatterTotal:(e,t)=>e?e instanceof Array?e.length:1*e.total:0,formatterCurrentPage:(e,t)=>t.currentPage+1,formatterFinished:(e,t)=>t.list.length>=t.total,formatterEmpty:(e,t)=>!0===t.finished&&0===t.list.length,list:[],finished:!1,empty:!1,total:0,currentPage:1,pageSize:10,isSelect:!1,begin:!1,listRef:H,finishedRef:H,emptyRef:H,totalRef:H,currentPageRef:H,pageSizeRef:H,beginRef:H,asyncHooks:{},...e}}(e),{formatterList:n,formatterTotal:r,formatterCurrentPage:a,formatterFinished:o,formatterEmpty:u,listRef:i,finishedRef:l,emptyRef:s,totalRef:c,currentPageRef:f,pageSizeRef:v,beginRef:d,asyncHook:p}=t,h=i(t.list),g=l(t.finished),m=s(t.empty),y=c(t.total),b=f(t.currentPage),R=v(t.pageSize),S=be(t),P=d(t.begin);let w=!1;const L=W({list:h,...S.getPrototype(),...p.getPrototype?p.getPrototype():p,finished:g,empty:m,total:y,currentPage:b,pageSize:R,begin:P,continueAwaitSend:async function(...e){if(!0===g.value)return Promise.reject("list load is finished");if(!0===w)return Promise.reject("list load is loadinged");w=!0;try{return await F(h.value.length,{},...e)}finally{w=!1}},afreshNextBeginSend:async function(...e){P.value=!0,h.value.splice(0),S.reset(),b.value=1,g.value=!1,m.value=!1,y.value=0,w=!0;try{let t=await p.nextBeginSend(...e);return x(t),t=await O(t,...e),t}finally{w=!1}},afreshNextSend:async function(...e){b.value=1,y.value=0,w=!0;try{let t=await p.nextSend(...e);return x(t,(()=>{h.value.splice(0),S.reset()})),t=await O(t,...e),t}finally{w=!1}}});function x(e,t){y.value=r(e,L);const i=I(n(e,L));return t&&t(i),h.value.push(...i),g.value=o(e,L),m.value=u(e,L),P.value=!1,g.value||(b.value=a(e,L)),e}async function F(e=0,t,...n){return!0===g.value||h.value.length-e>=R.value?t:F(e,t=await p.awaitSend(...n).then(x),...n)}async function O(e,...t){return!0===g.value||h.value.length>=R.value?e:O(e=await p.awaitSend(...t).then(x),...t)}return L}function Pe(e={}){const t=function(e={}){return{formatterList:(e,t)=>e?"object"!=typeof e?[]:e instanceof Array?e:e.list||[]:[],formatterTotal:(e,t)=>e?e instanceof Array?e.length:1*e.total:0,formatterEmpty:(e,t)=>0===t.list.length,list:[],empty:!1,total:0,currentPage:1,pageSize:10,isSelect:!1,listRef:H,emptyRef:H,totalRef:H,currentPageRef:H,pageSizeRef:H,asyncHooks:{},...e}}(e),{formatterList:n,formatterTotal:r,formatterEmpty:a,listRef:o,emptyRef:u,totalRef:i,currentPageRef:l,pageSizeRef:s,asyncHook:c}=t,f=o(t.list),v=u(t.empty),d=i(t.total),p=l(t.currentPage),h=s(t.pageSize),g=be(t),m=W({...g.getPrototype(),...c.getPrototype?c.getPrototype():c,list:f,empty:v,total:d,currentPage:p,pageSize:h,nextBeginSend:b,afreshNextBeginSend:async function(e={},...t){return p.value=1,d.value=0,b(e,...t)},nextSend:R,afreshNextSend:async function(e={},...t){return p.value=1,R(e,...t)}});function y(){d.value=0,f.value.splice(0),g.updateList([]),g?.reset?.()}async function b(e={},...o){f.value.splice(0);let u=await c.nextBeginSend(e,...o).catch((e=>(y(),Promise.reject(e))));d.value=r(u,m);const i=I(n(u,m));f.value.push(...i);const l=e?.updateListArg||t.updateListArg;return g.updateList(f.value,l),v.value=a(u,m),u}async function R(e={},...o){let u=await c.nextSend(e,...o).catch((e=>(y(),Promise.reject(e))));d.value=r(u,m);const i=I(n(u,m));f.value.splice(0),f.value.push(...i);const l=e?.updateListArg||t.updateListArg;return g.updateList(f.value,l),v.value=a(u,m),u}return m}function we(e,t=1,n="万"){if(e<1e4)return e;let r=e/1e4;r=r.toFixed(t);const a=r.match(/\..*/)[0],o=r.match(/(.*)(\.)/)[1];let u=1;return o.split("").reduceRight(((e,t,n)=>(e=t+e,n===3*u&&(u++,e=","+e),e)),"")+a+n}function Le(e,t=2){return parseFloat(e.toFixed(t))}const xe={error:"loading",message:"loading",code:41,status:41},Fe={error:"Request Timeout",message:"Request Timeout",code:48,status:48},Oe={error:"about",message:"about",code:20,status:20};function Ae(e,t){const n=function(e={}){return{loadingRef:H,beginRef:H,errorRef:H,dataRef:H,errorDataRef:H,loading:!1,begin:!1,error:!1,data:void 0,errorData:void 0,time:5e3,onAbort:(e,t,n,r)=>{},onTimeoutAbort:(e,t,n,r)=>{},onLoading:(e,t)=>{},...e}}(t),{loadingRef:r,beginRef:a,errorRef:o,dataRef:u,errorDataRef:i}=n,l=r(n.loading),s=a(n.begin),c=o(n.error),f=u(n.data),v=i(n.errorData),d=A();let p=new AbortController;function h(t={},...r){const{throwLoad:a=!1,isBegin:o=!1}=t;if(!0===l.value&&a)throw n.onLoading(xe,n),xe;let u=new AbortController;p=u;let i=u.signal,h=setTimeout((()=>{console.log("setTimeout"),u?.abort?.(Fe)}),n.time);const g={controller:u,timeoutId:h};return d.push(g),new Promise((async(t,a)=>{function u(){d.remove(g),i.removeEventListener("abort",m),clearTimeout(h)}const p=e=>{l.value=!1,f.value=void 0,c.value=!0,s.value=!1,v.value=e,u(),a(e),console.log("fail")};function m(e){const r=e.currentTarget.reason,{code:o,message:i}=r;if(console.log("onAbort ----- ",i),48===o)return n.onTimeoutAbort(r,n,t,a),void p(r);l.value=!1,s.value=!1,n.onAbort(r,n,t,a),u()}if(i.addEventListener("abort",m),i.aborted)return u();l.value=!0,o&&(s.value=!0),c.value=!1;try{let n=await e(...r);if(i.aborted)return;y=n,l.value=!1,f.value=y,c.value=!1,s.value=!1,v.value=void 0,u(),t(y),console.log("success")}catch(e){if(i.aborted)return;p(e)}var y}))}function g(){[...d.events].forEach((e=>e.controller.abort(Oe)))}return W({loading:l,begin:s,error:c,data:f,errorData:v,send:function(...e){return h(void 0,...e)},nextSend:function(...e){return g(),h(void 0,...e)},awaitSend:function(...e){return h({throwLoad:!0},...e)},abortPrve:function(){p?.abort?.(Oe)},abort:g})}function je(e=0,t=e){return new Promise((n=>setTimeout((()=>n(t)),e)))}function Ee(e){return new Promise((t=>requestAnimationFrame((()=>t(e)))))}function _e(e){return function(t,...n){const r=t?.signal;if(!r){const t=e(...n);return Promise.resolve(t)}return r.aborted?Promise.reject(r.reason||new DOMException("Aborted","AbortError")):new Promise(((t,a)=>{const o=()=>{a(r.reason||new DOMException("Aborted","AbortError"))};let u;r.addEventListener("abort",o);try{u=e(...n)}catch(e){return r.removeEventListener("abort",o),a(e)}if(!(u instanceof Promise))return r.removeEventListener("abort",o),t(u);u.then((e=>{r.removeEventListener("abort",o),r.aborted||t(e)}),(e=>{r.removeEventListener("abort",o),r.aborted||a(e)}))}))}}function De(e={}){const t={onBegin:()=>{},onFinish:()=>{},onPush:()=>{},onPushed:()=>{},onRemove:()=>{},onRemoved:()=>{},...e},n=[];return{queue:n,push:function(e){0===n.length&&t.onBegin(n,e),t.onPush(n,e),n.includes(e)&&f(n,e),n.push(e),t.onPushed(n,e)},remove:function(e){t.onRemove(n,e),f(n,e),t.onRemoved(n,e),0===n.length&&t.onFinish(n,e)},change:function(e){}}}const Te=new RegExp("^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$");function Ne(e){return"string"==typeof e}function Be(e){return Ne(e)&&""!==e}function ze(e){return Be(e)?e.charAt(0).toUpperCase()+e.slice(1):e}function Ie(e){return Be(e)?e.charAt(0).toLowerCase()+e.slice(1):e}function Ue(e){return Be(e)?e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase())):e}function Ce(e){return Be(e)?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function Je(e,t=500){let n;return function(...r){clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}}function Ve(e,t=500){let n=!1;return function(...r){n||(n=!0,e(...r),setTimeout((()=>{n=!1}),t))}}function qe(e={}){const t={formatterTime:e=>e.getDate(),onChange:()=>{},once:!1,ms:1e3,...e};let n=t.formatterTime(new Date);const r=setInterval((()=>{const e=new Date,a=t.formatterTime(e);n!==a&&(t.onChange(a),t.once&&clearInterval(r)),n=a}),t.ms)}function ke(e){return e?.children??[]}function Me(e=[],t,n=!1,r=ke,a=[...e],o,u){if(a.forEach((a=>{const o=r(a);t(a)||o?.length||f(e,a),!n&&t(a)||o?.length&&Me(o,t,n,r,[...o??[]],a,e)})),o&&u){const e=r(o);t(o)||e?.length||f(u,o)}}function $e(e=[],t,n){Me(e,t,!0,n)}function He(e=[],t,n=!1,r=ke,a=[...e],o,u,i=-1){if(i++,e.forEach((e=>e.children=e.children?.map?.((e=>({...e}))))),a.forEach((a=>{let u=r(a);if(t(a,i,o)||u?.length||f(e,a),!n&&t(a,i,o))return;let l=[...u??[]];u?.length&&He(u,t,n,r,l,a,e,i)})),o&&u){const e=r(o);t(o,i)||e?.length||f(u,o)}}function We(e=[],...t){const n=JSON.parse(JSON.stringify(e));return He(n,...t),n}function Ze(e=[],t,n,r=ke,a=-1,o){let u;if(u=u||e,a++,n&&n(e,o,a,u))return u;for(let i=0;i<e.length;i++){const l=e[i],s=r(l,i,o,a);if(t(l,i,e,o,a,u))return u;s?.length&&Ze(s,t,n,r,a,o)}return u}function Ge(e=[],t,n=[],r,a=[],o=-1){e.forEach((()=>{a.push}))}function Ke(e){if("undefined"!==e)try{return JSON.parse(e)}catch{return e}}function Qe(e){if(void 0!==e)return JSON.parse(e)}class Xe extends URL{__searchs={};searchs=new Proxy(this.__searchs,{get:(e,t,n,r)=>this.__searchs[t],set:(e,t,n,r)=>(this.searchParams.convertSet(t,n),Reflect.set(e,t,n,r)),deleteProperty:(e,t)=>(this.searchParams.convertDelete(t),Reflect.deleteProperty(e,t))});constructor(e,t,n={}){try{void 0===e&&(e=window?.location?.href)}catch(e){}super(e,t),ae(n,((e,t)=>this.searchParams.set(t,JSON.stringify(e)))),(()=>{const e={};for(const[t,n]of this.searchParams){let r=Ke(n);re(e,t)?e[t]=[e[t],r].flat(1/0):e[t]=r}ne(this.__searchs),Object.assign(this.__searchs,e)})(),this.searchParams.convertSet=(e,t)=>{const n=JSON.stringify(t);this.searchParams.set(e,n),this.__searchs[e]=Qe(n)},this.searchParams.convertAppend=(e,t)=>{const n=JSON.stringify(t),r=Qe(n);this.searchParams.append(e,n),re(this.__searchs,e)?this.__searchs[e]=[this.__searchs[e],r].flat(1/0):this.__searchs[e]=r},this.searchParams.convertDelete=(e,t)=>{const n=JSON.stringify(t);this.searchParams.delete(e,n),(()=>{this.__searchs[e]instanceof Array&&void 0!==t?d(this.__searchs[e],Qe(n)):delete this.__searchs[e]})()}}}export{$ as BETWEEN,M as IN,k as LIKE,q as NOT,Xe as RURL,V as WHERE,e as animationDebounced,t as arrayAt,_ as arrayBinaryFind,E as arrayBinaryFindIndex,T as arrayBinaryFindLast,D as arrayBinaryFindLastIndex,j as arrayBinarySearch,o as arrayBubble,s as arrayBubbleLastMax,i as arrayBubbleLastMin,l as arrayBubbleMax,u as arrayBubbleMin,A as arrayEvents,y as arrayExtractSame,U as arrayFindIndex,C as arrayFindIndexs,z as arrayForEachFind,B as arrayForEachFindIndex,I as arrayForcedTransform,O as arrayInvokeFuns,n as arrayLoop,r as arrayLoopMap,a as arrayLoops,F as arrayRandom,f as arrayRemove,c as arrayRemoveIndex,v as arrayRemoveLast,d as arrayRemoves,P as arrayReverseSort,L as arrayReverseSortMax,w as arrayReverseSortMin,N as arrayRewriteFunction,b as arraySort,x as arraySortByList,S as arraySortMax,R as arraySortMin,h as arraySplit,p as arraySplitIndex,g as arrayWipeRepetition,m as arrayWipeRepetitionLast,ve as fetchHOC,de as functionOverload,ye as getListSelectProps,pe as isFunction,Ne as isString,Re as list,Se as listLoad,me as listMultiple,Pe as listPagination,he as listRadio,be as listSelect,Le as numFixed,we as numFomatterThousand,te as objectAssign,ne as objectClear,K as objectEqualitys,Z as objectFilter,ae as objectForIn,oe as objectForMap,re as objectIncludes,G as objectIsEmpty,Y as objectJSONParse,ee as objectJSONStringify,X as objectParseFormData,Q as objectParseUri,Ae as promiseAbortController,Ee as promiseRequestAnimationFrame,je as promiseSetTimeout,_e as promiseSignalAbort,W as proxy,H as ref,Te as regExpNumWord,Ce as stringCamelCaseToKebabCase,Be as stringIsUseful,Ue as stringKebabCaseToCamelCase,Ie as stringLowerFirstCase,ze as stringUpperFirstCase,Je as timerDebounced,qe as timerRefush,Ve as timerThrottle,$e as treeConditionDeepRemove,Me as treeConditionRemove,Ze as treeForEach,Ge as treePathMap,We as treefilter,De as useQueue};
//# sourceMappingURL=index.js.map
