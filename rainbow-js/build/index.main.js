var rainbowElement=function(e){"use strict";function t(e,t){return e[t<0?e.length+t:t]}function n(e=[],t,n){let r,a=null;return e.forEach(((o,i)=>{if(null===a)return r=o,void(a=t(o,i,e));n(a,o,i,e)&&(r=o,a=t(o,i,e))})),r}function r(e=[],t){const n=e.findIndex((e=>e===t));return~n&&e.splice(n,1),e}function a(e=[],t,...n){let r;r=t instanceof Function?t:e=>![t,...n].includes(e);const a=e.filter(r);return e.splice(0),e.push(...a),e}function o(e=[],t,n){let r=n||t;return e.sort(((e,n)=>t(e)-r(n))),e}function i(e=[],t,n){let r=n||t;return e.sort(((e,n)=>r(n)-t(e))),e}function u(...e){const[t,n,...r]=e;let a=[n,...r],o=e=>e;n instanceof Function&&(o=n,a=[...r]),t.forEach((e=>{o(e)(...a)}))}function l(){const e=[];return{events:e,push:function(t){e.push(t)},remove:function(t){r(e,t)},invoke:function(...t){u(e,...t)},invokes:function(t){e.forEach(t)}}}function s(e=(e,t)=>e.right=t-1,t=[],n,r){const a={left:0,right:t.length-1,result:-1};for(;a.left<=a.right;){const o=Math.floor((a.left+a.right)/2),i=t[o];n(i)?(a.result=o,e(a,o,i)):r(i)?a.left=o+1:a.right=o-1}return a.result}function c(e=[],t,n){return s(((e,t)=>{e.right=t-1}),e,t,n)}function f(e=[],t,n){return s(((e,t)=>{e.left=t+1}),e,t,n)}function v(e){return e instanceof Array?e:[]}function d(e=[],t){const n=e.findIndex((e=>e===t));return n<0?void 0:n}function p(e=[],t=[]){return t.map((t=>e.indexOf(t))).filter((e=>~e))}function m(e){return void 0!==e&&(""!==e&&null!==e)}function h(e){let t=e;return{get:()=>t,set(e){t=e},value:{get:()=>t,set(e){t=e}}}}function g(e){const t=new Proxy(e,{get(e,t,n){const r=e[t];return r?.__isRef||r?.__v_isRef?r.value:r?.get?r.get():r},set(e,t,n){const r=e[t];return r?.__isRef||r?.__v_isRef?r.value=n:r?.set?r.set(n):e[t]=n,!0}});return t.getPrototype=()=>e,t.original=e,t}function y(e){return!!e&&Boolean(Object.keys(e).length)}function b(e,t){const n=new FormData;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t&&void 0!==e[r]&&n.append(r,e[r]);return n}function R(e){"object"==typeof e&&null!==e&&Object.keys(e).forEach((t=>{delete e[t]}))}function S(e,t){return Object.keys(e).includes(t)}function P(e={},t){if(e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function w(...e){return Object.assign({},...e,function(...e){const t=e.map((e=>e?.headers));return{headers:JSON.parse(JSON.stringify(Object.assign({},...t)))}}(...e))}function L(e){return void 0===e||null===e}Array.prototype.at||(Array.prototype.at=function(...e){return t(this,...e)});const F={error:"loading",message:"loading",code:41,status:41},x={error:"Request Timeout",message:"Request Timeout",code:48,status:48},O={error:"about",message:"about",code:20,status:20};function E(e={},t={}){return{loadingRef:h,beginRef:h,errorRef:h,dataRef:h,errorDataRef:h,loading:!1,begin:!1,error:!1,data:void 0,errorData:void 0,formatterResponse:async(e,t)=>{try{const n=e.headers.get("Content-Type");return n.includes("application/json")?await e.json():n.includes("application/octet-stream")?t.formatterFile?await t.formatterFile(e,t):await e.blob():n.includes("text/plain")?await e.text():await e.json()}catch(e){return}},formatterData:(e,t,n,r)=>e,formatterFile:async(e,t)=>{const n=await t.formatterFileName(e,t),r=await e.blob();return new File([r],n)},formatterFileName:async(e,t)=>{const n=e.headers.get("Content-Disposition")?.split("filename=")?.pop(),r=decodeURIComponent(n);return t.fileName||r},formatterBody:async e=>{const t=e.body;return"function"==typeof t?t():"object"==typeof t?t:void 0},parseBody:async e=>{const t=e.body;if(L(t))return;const n=e.headers["Content-Type"]||"";return e.isFormBody?b(t,!0):e.isJsonBody||n.includes("application/json")?JSON.stringify(t):n.includes("form")?b(t,!0):JSON.stringify(t)},formatterUrlParams:async e=>{const t=e.urlParams;return"function"==typeof t?t():"object"==typeof t||"string"==typeof t?t:void 0},parseUrlParams:async e=>{const t=e.urlParams;if(L(t))return"";if("string"==typeof t)return t;if("object"!=typeof t)return"";if(!y(t))return"";const n=new URLSearchParams;return P(t,((e,t)=>{void 0!==e&&("object"!=typeof e||e instanceof Array||(e=JSON.stringify(e)),n.set(t,e))})),n.toString()||""},parseUrl:e=>{const t=new URL(e.url,e.baseUrl);if(!e.urlParams)return t.toString();const n=[t.href,e.urlParams];return t.href.endsWith("&")||t.href.endsWith("?")?n.join(""):t.href.includes("?")?n.join("&"):n.join("?")},downloadFile:(e,t,n)=>{const r=document.createElement("a");r.download=n.name||"download",r.style.display="none",r.href=URL.createObjectURL(n),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)},interceptResponseSuccess:async(e,t,n)=>t,interceptResponseError:(e,t,n,r)=>{},interceptRequest:e=>{},onAbort:(e,t,n,r)=>{},onTimeoutAbort:(e,t,n,r)=>{},onLoading:(e,t,n,r)=>{},onRequest:e=>{},onResponse:e=>{},time:3e4,isDownloadFile:!1,fileName:"",url:"",baseUrl:"",urlParams:void 0,body:void 0,isFormBody:!1,isJsonBody:!1,errorLog:!1,...e,...t}}function j(e={}){const t=function(e={}){const t=T({formatterSelect:(e={})=>{let n;return void 0!==e.value&&(n=e.list.find((n=>t.formatterValue(n)===e.value)),void 0!==n)||void 0!==e.label&&(n=e.list.find((n=>t.formatterLabel(n)===e.label)),void 0!==n)||void 0!==e.index&&(n=e.list[e.index],void 0!==n)?n:void 0},isMultiple:!1,...e});return t}(e),{formatterValue:n,formatterLabel:r,formatterDisabled:a,formatterSelect:o,selectRef:i,valueRef:u,labelRef:l,indexRef:s,listRef:c}=t,f=c(v(t.list)),p=i(o(t)),m=u(n(p.value)),h=l(r(p.value)),y=s(d(f.value,p.value)),b=e=>f.value.find?.((e=>t=>n(t)===e)(e)),R=e=>f.value.find?.((e=>t=>r(t)===e)(e));function S(e){return(void 0!==e||void 0!==p.value)&&p.value===e}function P(){p.value=void 0,m.value=void 0,h.value=void 0,y.value=void 0}function w(e){p.value="function"==typeof e?f.value.find(e):e,m.value=n(p.value),h.value=r(p.value),y.value=d(f.value,p.value)}function L(e){return b(e)}return g({value:m,label:h,index:y,select:p,list:f,same:S,reset:P,onSelect:async function(e,n){return!!a(e,n)||(t.cancelSame&&S(e)?(P(),!1):!!S(e)||(w(e),!1))},formatterValue:n,formatterLabel:r,formatterDisabled:a,updateSelect:w,updateValue:function(e){m.value=e,p.value=b(m.value),h.value=r(p.value),y.value=d(f.value,p.value)},updateLabel:function(e){h.value=e,p.value=R(h.value),m.value=n(p.value),y.value=d(f.value,p.value)},updateIndex:function(e){y.value=e,p.value=f.value[e],m.value=n(p.value),h.value=r(p.value)},updateList:function(e=[],a){f.value=v(e),p.value="function"==typeof a?a():o(!0===a?{...t,list:f.value}:"value"===a?{list:f.value,value:m.value}:"label"===a?{list:f.value,label:h.value}:"index"===a?{list:f.value,index:y.value}:{...a,list:f.value}),m.value=n(p.value),h.value=r(p.value),y.value=d(f.value,p.value)},getSelectOfValue:L,getLabelOfValue:function(e){return r(L(e))},getIndexOfValue:function(e){return d(f.value,L(e))}})}function A(e=[],t=[],n){return t.map((t=>e.find((e=>n(e)===t)))).filter((e=>void 0!==e))}function D(e={}){const t=function(e={}){const t=T({formatterSelect:(e={})=>{let n=[];return void 0!==e.value&&(n=A(e.list,e.value,t.formatterValue),n.length)||void 0!==e.label&&(n=A(e.list,e.label,t.formatterLabel),n.length)||void 0!==e.index&&(n=e.index.map((t=>e.list[t])),n.length)?n:[]},isMultiple:!0,...e});return t}(e),{formatterValue:n,formatterLabel:a,formatterDisabled:o,formatterSelect:i,selectRef:u,valueRef:l,labelRef:s,indexRef:c,listRef:f}=t,d=f(v(t.list)),m=u(i(t)),h=l(m.value.map(n)),y=s(m.value.map(a)),b=c(p(d.value,m.value)),R=e=>A(d.value,e,n);function S(e){return m.value.some((t=>t===e))}function P(e=[]){m.value=v("function"==typeof e?d.value.filter(e):e),h.value=m.value.map(n),y.value=m.value.map(a),b.value=p(d.value,m.value)}function w(e){return R(v(e))}return g({value:h,label:y,index:b,select:m,list:d,same:S,reset:function(){m.value=[],h.value=[],y.value=[],b.value=[]},onSelect:async function(e,t){return!!o(e,t)||(S(e)?(r(m.value,e),P(m.value)):(m.value.push(e),P(m.value)),!1)},invertSelect:function(){m.value=d.value.filter(((e,t)=>!o(e,t)&&!m.value.some((t=>t===e)))),P(m.value)},allSelect:function(){m.value=d.value.filter(((e,t)=>!o(e,t))),P(m.value)},formatterValue:n,formatterLabel:a,formatterDisabled:o,updateSelect:P,updateValue:function(e){h.value=v(e),m.value=R(h.value),y.value=m.value.map(a),b.value=p(d.value,m.value)},updateLabel:function(e){var t;y.value=v(e),m.value=(t=y.value,A(d.value,t,a)),h.value=m.value.map(n),b.value=p(d.value,m.value)},updateIndex:function(e){b.value=v(e),m.value=b.value.map((e=>d.value?.[e])).filter((e=>void 0!==e)),h.value=m.value.map(n),y.value=m.value.map(a)},updateList:function(e=[],r){d.value=v(e),m.value="function"==typeof r?r():i(!0===r?{...t,list:d.value}:"value"===r?{list:d.value,value:h.value}:"label"===r?{list:d.value,label:y.value}:"index"===r?{list:d.value,index:b.value}:{...r,list:d.value}),h.value=m.value.map(n),y.value=m.value.map(a),b.value=p(d.value,m.value)},getSelectOfValue:w,getLabelOfValue:function(e){return w(e).map(a)},getIndexOfValue:function(e){return p(d.value,w(e))}})}function T(e={}){return{select:void 0,value:void 0,label:void 0,index:void 0,list:[],selectRef:h,valueRef:h,labelRef:h,indexRef:h,listRef:h,formatterValue:e=>e?.value,formatterLabel:e=>e?.label,formatterDisabled:e=>e?.disabled??!1,formatterList:e=>e,cancelSame:!1,isMultiple:!1,formRequired:!1,formRequiredErrorMessage:"",validator:()=>Promise.resolve(!0),...e}}function _(e={}){return e.isMultiple?D(e):j(e)}const B={error:"loading",message:"loading",code:41,status:41},I={error:"Request Timeout",message:"Request Timeout",code:48,status:48},C={error:"about",message:"about",code:20,status:20};const N=new RegExp("^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$");function M(e){return"string"==typeof e}function U(e){return M(e)&&""!==e}function z(e){return e?.children??[]}function J(e=[],t,n=!1,a=z,o=[...e],i,u){if(o.forEach((o=>{const i=a(o);t(o)||i?.length||r(e,o),!n&&t(o)||i?.length&&J(i,t,n,a,[...i??[]],o,e)})),i&&u){const e=a(i);t(i)||e?.length||r(u,i)}}function q(e=[],t,n=!1,a=z,o=[...e],i,u,l=-1){if(l++,e.forEach((e=>e.children=e.children?.map?.((e=>({...e}))))),o.forEach((o=>{let u=a(o);if(t(o,l,i)||u?.length||r(e,o),!n&&t(o,l,i))return;let s=[...u??[]];u?.length&&q(u,t,n,a,s,o,e,l)})),i&&u){const e=a(i);t(i,l)||e?.length||r(u,i)}}function V(e){if("undefined"!==e)try{return JSON.parse(e)}catch{return e}}function k(e){if(void 0!==e)return JSON.parse(e)}class W extends URL{__searchs={};searchs=new Proxy(this.__searchs,{get:(e,t,n,r)=>this.__searchs[t],set:(e,t,n,r)=>(this.searchParams.convertSet(t,n),Reflect.set(e,t,n,r)),deleteProperty:(e,t)=>(this.searchParams.convertDelete(t),Reflect.deleteProperty(e,t))});constructor(e,t,n={}){try{void 0===e&&(e=window?.location?.href)}catch(e){}super(e,t),P(n,((e,t)=>this.searchParams.set(t,JSON.stringify(e)))),(()=>{const e={};for(const[t,n]of this.searchParams){let r=V(n);S(e,t)?e[t]=[e[t],r].flat(1/0):e[t]=r}R(this.__searchs),Object.assign(this.__searchs,e)})(),this.searchParams.convertSet=(e,t)=>{const n=JSON.stringify(t);this.searchParams.set(e,n),this.__searchs[e]=k(n)},this.searchParams.convertAppend=(e,t)=>{const n=JSON.stringify(t),r=k(n);this.searchParams.append(e,n),S(this.__searchs,e)?this.__searchs[e]=[this.__searchs[e],r].flat(1/0):this.__searchs[e]=r},this.searchParams.convertDelete=(e,t)=>{const n=JSON.stringify(t);this.searchParams.delete(e,n),(()=>{this.__searchs[e]instanceof Array&&void 0!==t?a(this.__searchs[e],k(n)):delete this.__searchs[e]})()}}}return e.BETWEEN=function(...e){let t,n,r;return 3===e.length&&(t=e[0],n=e[1],r=e[2]),2===e.length&&(t=e[0][0],n=e[0][1],r=e[1]),!m(t)&&!m(n)||(m(t)&&!m(n)?r>=t:(!m(t)&&m(n)||t<=r)&&r<=n)},e.IN=function(e=[],t){return!e||!e.length||e.some((e=>e===t))},e.LIKE=function(e,t,n){return new RegExp(e,n).test(t)},e.NOT=function(e,t){return!m(e)||e!==t},e.RURL=W,e.WHERE=function(e,t){return!m(e)||e===t},e.animationDebounced=function(e){let t;return function(...n){cancelAnimationFrame(t),t=requestAnimationFrame((t=>{e(...n)}))}},e.arrayAt=t,e.arrayBinaryFind=function(e=[],t,n){const r=c(e,t,n);return-1===r?void 0:e[r]},e.arrayBinaryFindIndex=c,e.arrayBinaryFindLast=function(e=[],t,n){const r=f(e,t,n);return-1===r?void 0:e[r]},e.arrayBinaryFindLastIndex=f,e.arrayBinarySearch=s,e.arrayBubble=n,e.arrayBubbleLastMax=function(e=[],t){return n(e,t,((e,n,r,a)=>t(n,r,a)>=e))},e.arrayBubbleLastMin=function(e=[],t){return n(e,t,((e,n,r,a)=>t(n,r,a)<=e))},e.arrayBubbleMax=function(e=[],t){return n(e,t,((e,n,r,a)=>t(n,r,a)>e))},e.arrayBubbleMin=function(e=[],t){return n(e,t,((e,n,r,a)=>t(n,r,a)<e))},e.arrayEvents=l,e.arrayExtractSame=function(e=[],t){const n={};e.forEach((e=>{n[t(e)]||(n[t(e)]=[]),n[t(e)].push(e)}));const r=[];for(const e in n)if(Object.hasOwnProperty.call(n,e)){const t=n[e];t.length>1&&r.push(t)}return r.flat()},e.arrayFindIndex=d,e.arrayFindIndexs=p,e.arrayForEachFind=function(e=[],t){let n;return e.forEach(((e,r,a)=>{t?.(e,r,a)&&(n=e)})),n},e.arrayForEachFindIndex=function(e=[],t){let n=-1;return e.forEach(((e,r,a)=>{t?.(e,r,a)&&(n=r)})),n},e.arrayForcedTransform=v,e.arrayInvokeFuns=u,e.arrayLoop=function(e,t){for(let n=0;n<e;n++)if(!1===t(n))return},e.arrayLoopMap=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t(r));return n},e.arrayLoops=function(e,t,n){for(let r=e;r<t;r++)if(!1===n(r))return},e.arrayRandom=function(e){const t=e.length;for(let n=0;n<t;n++){const t=Math.floor(Math.random()*(e.length-1));e.push(e[t]),e.splice(t,1)}},e.arrayRemove=r,e.arrayRemoveIndex=function(e=[],t){return e.splice(t,1),e},e.arrayRemoveLast=function(e=[],t){const n=e.findLastIndex((e=>e===t));return~n&&e.splice(n,1),e},e.arrayRemoves=a,e.arrayReverseSort=i,e.arrayReverseSortMax=function(e=[],...t){return i(e,...t)[0]},e.arrayReverseSortMin=function(...e){return i(...e)[list.length-1]},e.arrayRewriteFunction=function(e=[],t){const n={},r={};return["copyWithin","fill","push","pop","shift","unshift","splice","sort","reverse"].forEach((a=>{n[a]=e[a],r[a]={value:function(...r){const o=n[a].call(e,...r);return t instanceof Function&&t?.("name",...r),o},writable:!0,enumerable:!1,configurable:!1}})),Object.defineProperties(e,r),e},e.arraySort=o,e.arraySortByList=function(e,t,n){return e.forEach((r=>{const a=t.findIndex((e=>n(r,e)));r.sortIndex=-1===a?e.length:a})),e.sort((function(e,t){return e.sortIndex-t.sortIndex})),e},e.arraySortMax=function(e=[],...t){return o(e,...t)[e.length-1]},e.arraySortMin=function(...e){return o(...e)[0]},e.arraySplit=function(e=[],t){const n=[];for(let r=0;r<e.length;r+=t){const a=r+t>e.length?e.length:r+t,o=e.slice(r,a);n.push(o)}return n},e.arraySplitIndex=function(e=[],t){const n=[];for(let r=0;r<e.length;r+=t){const a=[],o=r+t>e.length?e.length:r+t;for(let e=r;e<o;e++)a.push(e);n.push(a)}return n},e.arrayWipeRepetition=function(e=[],t){if(!t)return[...new Set(e)];const n=new Map;return e.filter(((e,r)=>!n.has(t(e,r).toString())&&n.set(t(e,r).toString())))},e.arrayWipeRepetitionLast=function(e=[],t){if(!t)return[...new Set(e)];const n={};e.forEach(((e,r)=>n[t(e,r)]=e));const r=[];for(const e in n)if(Object.hasOwnProperty.call(n,e)){const t=n[e];r.push(t)}return r},e.fetchHOC=function(e={}){return function(t={}){const n=E(e,t),{loadingRef:r,beginRef:a,errorRef:o,dataRef:i,errorDataRef:u}=n,s=r(n.loading),c=a(n.begin),f=o(n.error),v=i(n.data),d=u(n.errorData),p=l();function m(n={},r={}){const{throwLoad:a=!1,isBegin:o=!1}=r,i=w(E(),e,t,n);return new Promise((async(e,t)=>{const n=t=>{s.value=!1,v.value=t,f.value=!1,c.value=!1,d.value=void 0,i.onResponse(i),e(t)},r=e=>{s.value=!1,v.value=void 0,f.value=!0,d.value=e,i.onResponse(i),t(e)};try{if(!0===s.value&&a)throw F;let e=new AbortController,t=setTimeout((()=>e.abort(x)),i.time);const u={controller:e,timeoutId:t};p.push(u),s.value=!0,o&&(c.value=!0),f.value=!1,i.body=await i.formatterBody(i),i.urlParams=await i.formatterUrlParams(i),await i.interceptRequest(i),i.body=await i.parseBody(i),i.urlParams=await i.parseUrlParams(i);const l=[await i.parseUrl(i),{...i,signal:e.signal}],v=i.fetch||fetch;i.onRequest(i);const d=await v(...l).finally((()=>{clearTimeout(t),p.remove(u)}));if(!d.ok)throw d;const m=await i.formatterResponse(d,i);if(i.isDownloadFile&&i.downloadFile(d,i,m),!i.interceptResponseSuccess)return n(m);const h=i.interceptResponseSuccess(d,m,i);if(!(h instanceof Promise))return n(h);h.then((async e=>n(await i.formatterData(e,m,d,i)))).catch(r)}catch(n){if(20===n?.status)return s.value=!1,c.value=!1,i.onAbort(n,i,e,t),void i.onResponse(i);if(41===n?.status)return void i.onLoading(n,i,e,t);i.errorLog&&console.log("请求出错了*****",n),48!==n?.status?i.interceptResponseError(n,i,e,t):i.onTimeoutAbort(n,i,e,t),r(n)}}))}function h(){[...p.events].forEach((e=>{clearTimeout(e.timeoutId),e.controller.abort(O)}))}return g({loading:s,begin:c,error:f,data:v,errorData:d,send:m,nextSend:function(e){return h(),m(e)},awaitSend:function(e){return m(e,{throwLoad:!0})},beginSend:function(e){return m(e,{isBegin:!0})},nextBeginSend:function(e){return h(),m(e,{isBegin:!0})},awaitBeginSend:function(e){return m(e,{throwLoad:!0,isBegin:!0})},abort:h})}},e.functionOverload=function(e,t=!0){const n={};return e({addimpl:function(...e){let[t,r]=e;1===e.length&&(r=t,t=""),t instanceof Array&&(t=t.join("")),n[t]=r}}),function(...e){const r=e.reduce(((e,n)=>{let r;const a=Object.prototype.toString.call(n);return r=a.replace(/(\[object )([^\]]*?)(\])/,"$2"),"[object Object]"===a&&t&&(r=n.constructor.name),e+=r}),"");let a;try{a=n[r].call(this,...e)}catch(e){console.error("函数重载失败"),console.error(e)}return a}},e.getListSelectProps=T,e.isFunction=e=>"function"==typeof e,e.isString=M,e.list=function(e={}){const t=function(e={}){const t={currentPage:1,pageSize:-1,total:0,listData:[],filterFun:void 0,sortFun:void 0,manageListFun:void 0,list:[],currentPageRef:h,pageSizeRef:h,totalRef:h,listDataRef:h,filterFunRef:h,sortFunRef:h,manageListFunRef:h,filterList:(e={})=>{let t=[...v(e.listData)];return e.manageListFun&&(t=e.manageListFun(t,e)),e.filterFun&&(t=t.filter(e.filterFun)),e.sortFun&&(t=t.sort(e.sortFun)),e.total=t.length,(()=>{if(e.pageSize<=0)return;let n=e.currentPage,r=e.pageSize,a=Math.ceil(e.total/r)||1;n>a&&(e.currentPage=a,n=a);const o=(n-1)*r,i=n*r;t=t.slice(o,i)})(),t},...e};return t.listData=t.list,t.total=t.listData.length,t}(e),{listDataRef:n,pageSizeRef:r,totalRef:o,currentPageRef:i,filterFunRef:u,sortFunRef:l,manageListFunRef:s,filterList:c}=t,f=c(t),d=n(v(t.list)),p=r(t.pageSize),m=i(t.currentPage),y=o(t.total),b=u(t.filterFun),R=l(t.sortFun),S=s(t.sortFun),P=_({...e,list:f}),w=g({...P.getPrototype(),listData:d,pageSize:p,currentPage:m,total:y,filterFun:b,sortFun:R,manageListFun:S,push:function(...e){d.value.push(...e),L("value")},pushed:function(e=[],t="value"){d.value.push(...e),L(t)},unshift:function(...e){d.value.unshift(...e),L("value")},unshifted:function(e=[],t="value"){d.value.unshift(...e),L(t)},splice:function(...e){F(...e),L("value")},spliced:function(e,t,n=[],r="value"){F(e,t,...n),L(r)},insert:function(e,t=0,n,...r){x(e,t,n,...r),L("value")},inserted:function(e,t=0,n,r=[],a="value"){x(e,t,n,...r),L(a)},pop:function(e="value"){d.value.pop(),L(e)},shift:function(e="value"){d.value.shift(),L(e)},remove:function(...e){a(d.value,...e),L("value")},removed:function(e=[],t="value"){a(d.value,...e),L(t)},changeIndex:function(e,t,n="value"){const r=d.value[e],a=d.value[t];d.value[e]=a,d.value[t]=r,L(n)},change:function(e,t,n="value"){const r=d.value.indexOf(e),a=d.value.indexOf(t);if(-1===r||-1===a)return;d.value[r]=t,d.value[a]=e,L(n)},filter:function(e,t="value"){b.value=e,L(t)},manageList:function(e,t="value"){S.value=e,L(t)},sort:function(e,t="value"){R.value=e,L(t)},ascendingOrder:function(e,t="value"){R.value=(t,n)=>e(t)-e(n),L(t)},descendingOrder:function(e,t="value"){R.value=(t,n)=>e(n)-e(t),L(t)},updateCurrentPage:function(e,t="value"){m.value=e,L(t)},updatePageSize:function(e,t="value"){p.value=e,L(t)},updateList:function(e=[],t="value"){d.value=v(e),L(t)},resolveList:L});function L(...e){let t=c(w);P.updateList(t,...e)}function F(e,t,...n){let r;if(e instanceof Function){if(r=d.value.findIndex(e),-1===r)return}else r=e;d.value.splice(r,t,...n)}function x(e,t=0,n,...r){let a;a=e instanceof Function?e:t=>t===e;const o=d.value.findIndex(a)+t;-1!==o&&d.value.splice(o,n,...r)}return w},e.listLoad=function(e={}){const t=function(e={}){return{formatterList:(e,t)=>e?"object"!=typeof e?[]:e instanceof Array?e:e.list||[]:[],formatterTotal:(e,t)=>e?e instanceof Array?e.length:1*e.total:0,formatterCurrentPage:(e,t)=>t.currentPage+1,formatterFinished:(e,t)=>t.list.length>=t.total,formatterEmpty:(e,t)=>!0===t.finished&&0===t.list.length,list:[],finished:!1,empty:!1,total:0,currentPage:1,pageSize:10,isSelect:!1,begin:!1,listRef:h,finishedRef:h,emptyRef:h,totalRef:h,currentPageRef:h,pageSizeRef:h,beginRef:h,asyncHooks:{},...e}}(e),{formatterList:n,formatterTotal:r,formatterCurrentPage:a,formatterFinished:o,formatterEmpty:i,listRef:u,finishedRef:l,emptyRef:s,totalRef:c,currentPageRef:f,pageSizeRef:d,beginRef:p,asyncHook:m}=t,y=u(t.list),b=l(t.finished),R=s(t.empty),S=c(t.total),P=f(t.currentPage),w=d(t.pageSize),L=_(t),F=p(t.begin);let x=!1;const O=g({list:y,...L.getPrototype(),...m.getPrototype?m.getPrototype():m,finished:b,empty:R,total:S,currentPage:P,pageSize:w,begin:F,continueAwaitSend:async function(...e){if(!0===b.value)return Promise.reject("list load is finished");if(!0===x)return Promise.reject("list load is loadinged");x=!0;try{return await j(y.value.length,{},...e)}finally{x=!1}},afreshNextBeginSend:async function(...e){F.value=!0,y.value.splice(0),L.reset(),P.value=1,b.value=!1,R.value=!1,S.value=0,x=!0;try{let t=await m.nextBeginSend(...e);return E(t),t=await A(t,...e),t}finally{x=!1}},afreshNextSend:async function(...e){P.value=1,S.value=0,x=!0;try{let t=await m.nextSend(...e);return E(t,(()=>{y.value.splice(0),L.reset()})),t=await A(t,...e),t}finally{x=!1}}});function E(e,t){S.value=r(e,O);const u=v(n(e,O));return t&&t(u),y.value.push(...u),b.value=o(e,O),R.value=i(e,O),F.value=!1,b.value||(P.value=a(e,O)),e}async function j(e=0,t,...n){return!0===b.value||y.value.length-e>=w.value?t:j(e,t=await m.awaitSend(...n).then(E),...n)}async function A(e,...t){return!0===b.value||y.value.length>=w.value?e:A(e=await m.awaitSend(...t).then(E),...t)}return O},e.listMultiple=D,e.listPagination=function(e={}){const t=function(e={}){return{formatterList:(e,t)=>e?"object"!=typeof e?[]:e instanceof Array?e:e.list||[]:[],formatterTotal:(e,t)=>e?e instanceof Array?e.length:1*e.total:0,formatterEmpty:(e,t)=>0===t.list.length,list:[],empty:!1,total:0,currentPage:1,pageSize:10,isSelect:!1,listRef:h,emptyRef:h,totalRef:h,currentPageRef:h,pageSizeRef:h,asyncHooks:{},...e}}(e),{formatterList:n,formatterTotal:r,formatterEmpty:a,listRef:o,emptyRef:i,totalRef:u,currentPageRef:l,pageSizeRef:s,asyncHook:c}=t,f=o(t.list),d=i(t.empty),p=u(t.total),m=l(t.currentPage),y=s(t.pageSize),b=_(t),R=g({...b.getPrototype(),...c.getPrototype?c.getPrototype():c,list:f,empty:d,total:p,currentPage:m,pageSize:y,nextBeginSend:P,afreshNextBeginSend:async function(e={},...t){return m.value=1,p.value=0,P(e,...t)},nextSend:w,afreshNextSend:async function(e={},...t){return m.value=1,w(e,...t)}});function S(){p.value=0,f.value.splice(0),b.updateList([]),b?.reset?.()}async function P(e={},...o){f.value.splice(0);let i=await c.nextBeginSend(e,...o).catch((e=>(S(),Promise.reject(e))));p.value=r(i,R);const u=v(n(i,R));f.value.push(...u);const l=e?.updateListArg||t.updateListArg;return b.updateList(f.value,l),d.value=a(i,R),i}async function w(e={},...o){let i=await c.nextSend(e,...o).catch((e=>(S(),Promise.reject(e))));p.value=r(i,R);const u=v(n(i,R));f.value.splice(0),f.value.push(...u);const l=e?.updateListArg||t.updateListArg;return b.updateList(f.value,l),d.value=a(i,R),i}return R},e.listRadio=j,e.listSelect=_,e.numFixed=function(e,t=2){return parseFloat(e.toFixed(t))},e.numFomatterThousand=function(e,t=1,n="万"){if(e<1e4)return e;let r=e/1e4;r=r.toFixed(t);const a=r.match(/\..*/)[0],o=r.match(/(.*)(\.)/)[1];let i=1;return o.split("").reduceRight(((e,t,n)=>(e=t+e,n===3*i&&(i++,e=","+e),e)),"")+a+n},e.objectAssign=function(e,t,n=[]){for(const r in t)n.includes(r)&&(e[r]=t[r]);return e},e.objectClear=R,e.objectEqualitys=function(e={},t={}){for(const n in e)if(e[n]!==t[n])return!1;return!0},e.objectFilter=function(e={},t,n){const r={};for(const a in e)if(e.hasOwnProperty.call(e,a)){const o=e[a];if(t.test(a)){r[a.replace(t,"")]=o,n&&delete e[a]}}return r},e.objectForIn=P,e.objectForMap=function(e={},t){const n={};return e?(forIn(e,((r,a)=>{n[a]=t(r,a,e)})),n):n},e.objectIncludes=S,e.objectIsEmpty=y,e.objectJSONParse=function(...e){try{return JSON.parse(...e)}catch(e){return{}}},e.objectJSONStringify=function(...e){try{return JSON.stringify(...e)}catch(e){return""}},e.objectParseFormData=b,e.objectParseUri=function(e="",t){if("object"!=typeof t)return"";if(!y(t))return"";const n=new URLSearchParams;P(t,((e,t)=>{void 0!==e&&("object"!=typeof e||e instanceof Array||(e=JSON.stringify(e)),n.set(t,e))}));const r=n.toString()||"";return e&&e.includes("?")?`&${r}`:`?${r}`},e.promiseAbortController=function(e,t){const n=function(e={}){return{loadingRef:h,beginRef:h,errorRef:h,dataRef:h,errorDataRef:h,loading:!1,begin:!1,error:!1,data:void 0,errorData:void 0,time:5e3,onAbort:(e,t,n,r)=>{},onTimeoutAbort:(e,t,n,r)=>{},onLoading:(e,t)=>{},...e}}(t),{loadingRef:r,beginRef:a,errorRef:o,dataRef:i,errorDataRef:u}=n,s=r(n.loading),c=a(n.begin),f=o(n.error),v=i(n.data),d=u(n.errorData),p=l();let m=new AbortController;function y(t={},...r){const{throwLoad:a=!1,isBegin:o=!1}=t;if(!0===s.value&&a)throw n.onLoading(B,n),B;let i=new AbortController;m=i;let u=i.signal,l=setTimeout((()=>{console.log("setTimeout"),i?.abort?.(I)}),n.time);const h={controller:i,timeoutId:l};return p.push(h),new Promise((async(t,a)=>{function i(){p.remove(h),u.removeEventListener("abort",g),clearTimeout(l)}const m=e=>{s.value=!1,v.value=void 0,f.value=!0,c.value=!1,d.value=e,i(),a(e),console.log("fail")};function g(e){const r=e.currentTarget.reason,{code:o,message:u}=r;if(console.log("onAbort ----- ",u),48===o)return n.onTimeoutAbort(r,n,t,a),void m(r);s.value=!1,c.value=!1,n.onAbort(r,n,t,a),i()}if(u.addEventListener("abort",g),u.aborted)return i();s.value=!0,o&&(c.value=!0),f.value=!1;try{let n=await e(...r);if(u.aborted)return;y=n,s.value=!1,v.value=y,f.value=!1,c.value=!1,d.value=void 0,i(),t(y),console.log("success")}catch(e){if(u.aborted)return;m(e)}var y}))}function b(){[...p.events].forEach((e=>e.controller.abort(C)))}return g({loading:s,begin:c,error:f,data:v,errorData:d,send:function(...e){return y(void 0,...e)},nextSend:function(...e){return b(),y(void 0,...e)},awaitSend:function(...e){return y({throwLoad:!0},...e)},abortPrve:function(){m?.abort?.(C)},abort:b})},e.promiseRequestAnimationFrame=function(e){return new Promise((t=>requestAnimationFrame((()=>t(e)))))},e.promiseSetTimeout=function(e=0,t=e){return new Promise((n=>setTimeout((()=>n(t)),e)))},e.promiseSignalAbort=function(e){return function(t,...n){const r=t?.signal;if(!r){const t=e(...n);return Promise.resolve(t)}return r.aborted?Promise.reject(r.reason||new DOMException("Aborted","AbortError")):new Promise(((t,a)=>{const o=()=>{a(r.reason||new DOMException("Aborted","AbortError"))};let i;r.addEventListener("abort",o);try{i=e(...n)}catch(e){return r.removeEventListener("abort",o),a(e)}if(!(i instanceof Promise))return r.removeEventListener("abort",o),t(i);i.then((e=>{r.removeEventListener("abort",o),r.aborted||t(e)}),(e=>{r.removeEventListener("abort",o),r.aborted||a(e)}))}))}},e.proxy=g,e.ref=h,e.regExpNumWord=N,e.stringCamelCaseToKebabCase=function(e){return U(e)?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e},e.stringIsUseful=U,e.stringKebabCaseToCamelCase=function(e){return U(e)?e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase())):e},e.stringLowerFirstCase=function(e){return U(e)?e.charAt(0).toLowerCase()+e.slice(1):e},e.stringUpperFirstCase=function(e){return U(e)?e.charAt(0).toUpperCase()+e.slice(1):e},e.timerDebounced=function(e,t=500){let n;return function(...r){clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}},e.timerRefush=function(e={}){const t={formatterTime:e=>e.getDate(),onChange:()=>{},once:!1,ms:1e3,...e};let n=t.formatterTime(new Date);const r=setInterval((()=>{const e=new Date,a=t.formatterTime(e);n!==a&&(t.onChange(a),t.once&&clearInterval(r)),n=a}),t.ms)},e.timerThrottle=function(e,t=500){let n=!1;return function(...r){n||(n=!0,e(...r),setTimeout((()=>{n=!1}),t))}},e.treeConditionDeepRemove=function(e=[],t,n){J(e,t,!0,n)},e.treeConditionRemove=J,e.treeForEach=function e(t=[],n,r,a=z,o=-1,i){let u;if(u=u||t,o++,r&&r(t,i,o,u))return u;for(let l=0;l<t.length;l++){const s=t[l],c=a(s,l,i,o);if(n(s,l,t,i,o,u))return u;c?.length&&e(c,n,r,a,o,i)}return u},e.treePathMap=function(e=[],t,n=[],r,a=[],o=-1){e.forEach((()=>{a.push}))},e.treefilter=function(e=[],...t){const n=JSON.parse(JSON.stringify(e));return q(n,...t),n},e.useQueue=function(e={}){const t={onBegin:()=>{},onFinish:()=>{},onPush:()=>{},onPushed:()=>{},onRemove:()=>{},onRemoved:()=>{},...e},n=[];return{queue:n,push:function(e){0===n.length&&t.onBegin(n,e),t.onPush(n,e),n.includes(e)&&r(n,e),n.push(e),t.onPushed(n,e)},remove:function(e){t.onRemove(n,e),r(n,e),t.onRemoved(n,e),0===n.length&&t.onFinish(n,e)},change:function(e){}}},e}({});
//# sourceMappingURL=index.main.js.map
