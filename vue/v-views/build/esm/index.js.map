{"version":3,"file":"index.js","sources":["../../src/components/render/list/index.jsx","../../src/components/scroll-layout/paginationLoading/index.jsx","../../src/components/scroll-layout/virtualGridList/index.vue?vue&type=script&setup=true&lang.jsx","../../src/components/scroll-layout/virtualGridList/index.js","../../src/components/scroll-layout/virtualFallsList/index.vue?vue&type=script&setup=true&lang.jsx","../../src/components/scroll-layout/virtualFallsList/index.js"],"sourcesContent":["import { objectForIn } from \"@rainbow_ljy/rainbow-js\";\nimport { resizeObserver } from \"@rainbow_ljy/rainbow-element\";\nimport { ref, onMounted, renderList, h, defineComponent, Comment, watch, onUnmounted } from \"vue\";\n\nfunction extendVNode(vNode, props, children) {\n  if (vNode.type === Comment) return vNode;\n  let c = children;\n  if (typeof vNode.type !== \"string\") c = () => children;\n  let n = h(vNode.type, props, c);\n  objectForIn(vNode, (val, key) => {\n    if ([\"props\", \"type\", \"children\", \"el\", \"patchFlag\", \"shapeFlag\", \"ref\"].includes(key)) {\n      return;\n    }\n    n[key] = val;\n  });\n  // console.log(\"nnnnn\", vNode.ref);\n  // console.log(\"nnnnn\", n.ref);\n  const refs = [vNode.ref, n.ref].filter(Boolean);\n  n.ref = !refs.length ? null : refs;\n  return n;\n}\n\nexport const VRRenderList = defineComponent({\n  props: {\n    listHook: { type: Object, default: () => ({}) },\n    beforeTrigger: { type: Function, default: () => undefined },\n    eventName: { type: String, default: \"onClick\" },\n    hideItemDefaultChildren: Boolean,\n    stopPropagation: Boolean,\n    preventDefault: Boolean,\n    draggable: { type: Boolean, default: false },\n    unScrollIntoView: Boolean,\n  },\n  emits: [\"change\", \"disabledTrigger\", \"sameTrigger\"],\n  setup(props, context) {\n    const activeEL = ref(document.createElement(\"div\"));\n    const pEL = ref();\n    let draggedItem;\n    let draggedIndex;\n    const activeItemEL = ref();\n    const resizeObs = resizeObserver(onResize);\n    watch(activeItemEL, watchActiveItemEL);\n    onMounted(mounted);\n    onUnmounted(unmounted);\n\n    function getPEL(el) {\n      pEL.value = el;\n    }\n\n    function getActiveEL(el) {\n      activeEL.value = el;\n    }\n\n    function getActiveItemEL(el, item, index) {\n      if (props.listHook?.same?.(item, index)) activeItemEL.value = el;\n    }\n\n    async function trigger(event, item, index) {\n      if (props.stopPropagation) event.stopPropagation();\n      if (props.preventDefault) event.preventDefault();\n      if (props.beforeTrigger) await props.beforeTrigger(item, index, event);\n      if (props.listHook?.formatterDisabled?.(item, index)) {\n        context.emit(\"disabledTrigger\", item, index, event);\n        return;\n      }\n      const bool = await props.listHook?.onSelect?.(item, index);\n      if (bool) {\n        context.emit(\"sameTrigger\", item, index, event);\n        return;\n      }\n      context.emit(\"change\", item, index, event);\n      activeItemEL.value = event.currentTarget;\n    }\n\n    function moveActive(child, behavior = \"smooth\") {\n      const active = activeEL.value;\n      if (!child) {\n        active.style.position = \"absolute\";\n        active.style.width = `${0}px`;\n        active.style.height = `${0}px`;\n        active.style.left = `${0}px`;\n        active.style.top = `${0}px`;\n        return;\n      }\n      if (!props.unScrollIntoView) {\n        child.scrollIntoView({ behavior, block: \"center\", inline: \"center\" });\n      }\n      if (behavior === \"smooth\") active.classList.add(\"select-active-transition\");\n      active.style.position = \"absolute\";\n      active.style.width = child.offsetWidth + \"px\";\n      active.style.height = child.offsetHeight + \"px\";\n      active.style.left = `${child.offsetLeft}px`;\n      active.style.top = `${child.offsetTop}px`;\n    }\n\n    function onActiveTransitionEnd() {\n      activeEL.value.classList.remove(\"select-active-transition\");\n    }\n\n    function watchActiveItemEL(newEL, oldEL) {\n      if (oldEL) resizeObs.unobserve(oldEL);\n      moveActive(activeItemEL.value);\n      if (newEL) resizeObs.observe(newEL);\n    }\n\n    function mounted() {}\n\n    function unmounted() {\n      resizeObs.disconnect();\n    }\n\n    function onResize() {\n      moveActive(activeItemEL.value, \"instant\");\n    }\n\n    function onDrag() {}\n    function onDragstart(event, item, index) {\n      draggedItem = item;\n      draggedIndex = index;\n    }\n    function onDragend() {}\n    //\n    function onDragover(event) {\n      event.preventDefault();\n    }\n    function onDragenter(event) {}\n    function onDragleave(event) {}\n    function onDrop(event, item, index) {\n      event.preventDefault();\n      props.listHook.changeIndex(draggedIndex, index);\n    }\n\n    return () => {\n      const itemVNodeList = renderList(props.listHook.list, (item, index) => {\n        const itemNodes = context.slots?.item?.({ item, index });\n        let nodes = itemNodes;\n\n        nodes = itemNodes.map((el) => {\n          activeItemEL.value = undefined;\n          const draggableAttrs = (() => {\n            if (props.draggable) {\n              return {\n                draggable: true,\n                onDrag: (e) => onDrag(e, item, index),\n                onDragstart: (e) => onDragstart(e, item, index),\n                onDragend: (e) => onDragend(e, item, index),\n                onDragover: (e) => onDragover(e, item, index),\n                onDragenter: (e) => onDragenter(e, item, index),\n                onDragleave: (e) => onDragleave(e, item, index),\n                onDrop: (e) => onDrop(e, item, index),\n              };\n            }\n            return {\n              [props.eventName]: (e) => trigger(e, item, index),\n            };\n          })();\n          return extendVNode(\n            el,\n            {\n              disabled: props.listHook?.formatterDisabled?.(item, index),\n              ...draggableAttrs,\n              ...el.props,\n              ref: (e) => getActiveItemEL(e, item, index),\n              class: [\n                el.props.class,\n                \"select-item\",\n                props.listHook?.same?.(props.listHook.list[index + 1], index + 1) &&\n                  \"select-item-prve-checked\",\n                props.listHook?.same?.(item, index) && \"select-item-checked\",\n                props.listHook?.same?.(props.listHook.list[index - 1], index - 1) &&\n                  \"select-item-next-checked\",\n                props.listHook?.formatterDisabled?.(item, index) && \"select-item-disabled\",\n              ],\n            },\n            [\n              el.children ??\n                (props.hideItemDefaultChildren\n                  ? undefined\n                  : props.listHook?.formatterLabel?.(item, index)),\n            ].filter((el) => el !== undefined),\n          );\n        });\n\n        return nodes;\n      });\n\n      const defaultNodes = context.slots?.default?.();\n\n      const childrenNodes = [\n        ...itemVNodeList,\n        <div ref={getActiveEL} class={[\"select-active\"]} onTransitionend={onActiveTransitionEnd} />,\n        context.slots?.children?.(),\n      ];\n\n      if (!defaultNodes?.length) return childrenNodes;\n\n      return defaultNodes.map((el) => {\n        return extendVNode(\n          el,\n          {\n            ...el.props,\n            ref: getPEL,\n            class: [el.props.class, \"select-list\"],\n          },\n          childrenNodes,\n        );\n      });\n    };\n  },\n});\n","import { defineComponent, onUnmounted, onMounted, renderSlot, renderList, watch } from \"vue\";\nimport { findParentByLocalName } from \"@rainbow_ljy/rainbow-element\";\n\nexport const VRPaginationLoading = defineComponent({\n  props: {\n    triggerBottomDistance: { type: Number, default: 500 },\n    loadingHook: { type: Object, default: () => ({}) },\n    onErrorLoadClick: { type: Function },\n    onBeginErrorClick: { type: Function },\n    skeletonCount: { type: Number, default: 10 },\n  },\n  emits: [\"rollToBottom\", \"scrollArriveBottom\"],\n  setup(props, ctx) {\n    let vm;\n    let scrollView = document.createElement(\"div\");\n    onMounted(mounted);\n    onUnmounted(unmounted);\n\n    function mounted() {\n      const scrollName = [\"r-scroll\", \"r-scroll-view\", \"r-nested-scroll\"];\n      scrollView = findParentByLocalName(scrollName, vm.$el);\n      if (!scrollView) return;\n      scrollView.addEventListener(\"scrollUp\", onScrollUp);\n    }\n\n    function unmounted() {\n      if (!scrollView) return;\n      scrollView.removeEventListener(\"scrollUp\", onScrollUp);\n    }\n\n    function onScrollUp(event) {\n      if (!scrollView) return;\n      const max = scrollView.scrollHeight - scrollView.offsetHeight - props.triggerBottomDistance;\n      const bool = scrollView.scrollTop >= max;\n      if (bool) {\n        ctx.emit(\"rollToBottom\", event);\n        ctx.emit(\"scrollArriveBottom\", event);\n      }\n    }\n\n    function onBeginErrorClick() {\n      if (props.onBeginErrorClick) props.onBeginErrorClick(...arg);\n      else props.loadingHook?.nextBeginSend?.();\n    }\n\n    function onErrorLoadClick(...arg) {\n      if (props.onErrorLoadClick) props.onErrorLoadClick(...arg);\n      else props.loadingHook?.awaitSend?.();\n    }\n\n    function renderLoading() {\n      return renderSlot(ctx.slots, \"loading\", {}, () => [<r-result class=\"r-result-loading\" />]);\n    }\n\n    function renderFinished() {\n      return renderSlot(ctx.slots, \"finished\", {}, () => [<r-result class=\"r-result-finished\" />]);\n    }\n\n    function renderEmpty() {\n      return renderSlot(ctx.slots, \"empty\", {}, () => [<r-result class=\"r-result-empty\" />]);\n    }\n\n    function renderBegin() {\n      return renderSlot(ctx.slots, \"begin\", {}, () => [\n        <div>\n          <r-result class=\"r-result-loading\" />\n          <div class=\"r-skeleton-grid\">\n            {renderList(props.skeletonCount, () => (\n              <div class=\"r-skeleton-animation\" />\n            ))}\n          </div>\n        </div>,\n      ]);\n    }\n\n    function renderError() {\n      return renderSlot(ctx.slots, \"error\", {}, () => [\n        <r-result onClick={onBeginErrorClick} class=\"r-result-begin-error\" />,\n      ]);\n    }\n\n    function renderLoadError() {\n      return renderSlot(ctx.slots, \"errorLoad\", {}, () => [\n        <r-result onClick={onErrorLoadClick} class=\"r-result-error\" />,\n      ]);\n    }\n\n    function renderState() {\n      const ps = props.loadingHook;\n      if (ps.error === true) return renderLoadError();\n      if (ps.empty === true && ps.finished === true) return renderEmpty();\n      if (ps.finished === true) return renderFinished();\n      if (ps.loading === true) return renderLoading();\n    }\n\n    watch(\n      () => props.loadingHook.begin,\n      async () => {\n        console.log(\"console--\", [vm.$el]);\n      },\n    );\n\n    return (v, a) => {\n      vm = v;\n      const ps = props.loadingHook;\n      if (ps.begin === true && ps.error === true) return renderError();\n      if (ps.begin === true) return renderBegin();\n      return [ctx.slots?.default?.(), renderState()];\n    };\n  },\n});\n\nexport const VRScrollLoadStates = defineComponent({\n  props: {\n    loadingHook: { type: Object, default: () => ({}) },\n    onErrorLoadClick: { type: Function },\n    onBeginErrorClick: { type: Function },\n    skeletonCount: { type: Number, default: 10 },\n  },\n  setup(props, ctx) {\n    function rs(name, node) {\n      return renderSlot(ctx.slots, name, {}, () => [node]);\n    }\n    function onErrorClick() {\n      if (props.onBeginErrorClick) props.onBeginErrorClick(...arg);\n      else props.loadingHook?.afreshNextBeginSend?.();\n    }\n    function onErrorLoadClick(...arg) {\n      if (props.onErrorLoadClick) props.onErrorLoadClick(...arg);\n      else props.loadingHook?.continueAwaitSend?.();\n    }\n    return () => {\n      return [\n        rs(\n          \"begin\",\n          <div slot=\"begin\">\n            <r-result slot=\"loading\" class=\"r-result-loading\" />\n            <div class=\"r-skeleton-grid\">\n              {renderList(props.skeletonCount ?? 10, () => (\n                <div class=\"r-skeleton-animation\" />\n              ))}\n            </div>\n          </div>,\n        ),\n        rs(\"loading\", <r-result slot=\"loading\" class=\"r-result-loading\" />),\n        rs(\"finished\", <r-result slot=\"finished\" class=\"r-result-finished\" />),\n        rs(\"empty\", <r-result slot=\"empty\" class=\"r-result-empty\" />),\n        rs(\"error\", <r-result slot=\"error\" class=\"r-result-error\" onClick={onErrorLoadClick} />),\n        rs(\n          \"begin-error\",\n          <r-result slot=\"begin-error\" class=\"r-result-begin-error\" onClick={onErrorClick} />,\n        ),\n      ];\n    };\n  },\n});\n","import { useSlots as _useSlots } from 'vue'\nimport { renderSlot as _renderSlot, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"keyExtractor\"]\n\nimport { render, defineComponent, computed, toRaw } from \"vue\";\n\n\nexport default {\n  __name: 'index',\n  props: {\n  modelValue: { type: Array, default: () => [] },\n  keyExtractor: { type: Function, default: (val) => val.item },\n  listHook: { type: Object, default: () => ({}) },\n},\n  emits: [\"update:modelValue\"],\n  setup(__props, { emit: __emit }) {\n\nconst slots = _useSlots();\nconst emit = __emit;\nconst props = __props;\n\nconst list = computed({\n  set(val) {\n    if (props.listHook.list) return (props.listHook.list = val);\n    emit(\"update:modelValue\", val);\n  },\n  get() {\n    if (props.listHook.list) return toRaw(props.listHook.list);\n    return toRaw(props.modelValue);\n  },\n});\n\nconst refList = computed(() => {\n  if (props.listHook.list) return props.listHook.list;\n  return props.modelValue;\n});\n\nconst Item = defineComponent({\n  inheritAttrs: false,\n  props: {\n    event: Object,\n    slots: Object,\n  },\n  setup(props) {\n    return () => {\n      return props?.slots?.item?.(props.event);\n    };\n  },\n});\n\nfunction onRenderItems(event) {\n  event.item = refList.value[event.index];\n  render(\n    <Item\n      event={event}\n      slots={slots}\n      key={props.keyExtractor(event)}\n      data-key={props.keyExtractor(event)}\n    ></Item>,\n    event.ele,\n  );\n}\n\nreturn (_ctx, _cache) => {\n  return _withDirectives((_openBlock(), _createElementBlock(\"r-scroll-virtual-grid-list\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => ((list).value = $event)),\n    onrenderItems: onRenderItems,\n    keyExtractor: props.keyExtractor\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 8, _hoisted_1)), [\n    [_vModelText, list.value]\n  ])\n}\n}\n\n}","import VirtualGridList from \"./index.vue\";\nexport const VRVirtualGridList = VirtualGridList;\n","import { useSlots as _useSlots } from 'vue'\nimport { renderSlot as _renderSlot, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"keyExtractor\"]\n\nimport { render, defineComponent, computed, toRaw, onMounted } from \"vue\";\n\n\nexport default {\n  __name: 'index',\n  props: {\n  modelValue: { type: Array, default: () => [] },\n  keyExtractor: { type: Function, default: (val) => val.item },\n  listHook: { type: Object, default: () => ({}) },\n},\n  emits: [\"update:modelValue\"],\n  setup(__props, { emit: __emit }) {\n\nconst slots = _useSlots();\nconst emit = __emit;\nconst props = __props;\n\nconst list = computed({\n  set(val) {\n    if (props.listHook.list) return (props.listHook.list = val);\n    emit(\"update:modelValue\", val);\n  },\n  get() {\n    if (props.listHook.list) return toRaw(props.listHook.list);\n    return toRaw(props.modelValue);\n  },\n});\n\nconst refList = computed(() => {\n  if (props.listHook.list) return props.listHook.list;\n  return props.modelValue;\n});\n\nconst Item = defineComponent({\n  inheritAttrs: false,\n  props: {\n    event: Object,\n    slots: Object,\n  },\n  setup(props) {\n    onMounted(() => { });\n    return () => {\n      return props?.slots?.item?.(props.event);\n    };\n  },\n});\n\nfunction onRenderItems(event) {\n  event.item = refList.value[event.index];\n  render(\n    <Item\n      event={event}\n      slots={slots}\n      key={props.keyExtractor(event)}\n      data-key={props.keyExtractor(event)}\n    ></Item>,\n    event.ele,\n  );\n}\n\nreturn (_ctx, _cache) => {\n  return _withDirectives((_openBlock(), _createElementBlock(\"r-scroll-virtual-falls-list\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => ((list).value = $event)),\n    onrenderItems: onRenderItems,\n    keyExtractor: props.keyExtractor\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 8, _hoisted_1)), [\n    [_vModelText, list.value]\n  ])\n}\n}\n\n}","import VirtualFallsList from \"./index.vue\";\n\nexport const VRVirtualFallsList = VirtualFallsList;\n"],"names":["extendVNode","vNode","props","children","Comment","c","n","h","objectForIn","val","key","refs","VRRenderList","defineComponent","context","activeEL","ref","pEL","draggedIndex","activeItemEL","resizeObs","resizeObserver","onResize","watch","watchActiveItemEL","onMounted","mounted","onUnmounted","unmounted","getPEL","el","getActiveEL","getActiveItemEL","item","index","_b","_a","trigger","event","_d","_c","moveActive","child","behavior","active","onActiveTransitionEnd","newEL","oldEL","onDrag","onDragstart","onDragend","onDragover","onDragenter","onDragleave","onDrop","itemVNodeList","renderList","itemNodes","nodes","draggableAttrs","e","_f","_e","_h","_g","_j","_i","_l","_k","defaultNodes","childrenNodes","_createVNode","VRPaginationLoading","ctx","vm","scrollView","findParentByLocalName","onScrollUp","max","onBeginErrorClick","onErrorLoadClick","arg","renderLoading","renderSlot","renderFinished","renderEmpty","renderBegin","renderError","renderLoadError","renderState","ps","v","a","VRScrollLoadStates","rs","name","node","onErrorClick","_hoisted_1","_sfc_main$1","__props","__emit","slots","_useSlots","emit","list","computed","toRaw","refList","Item","onRenderItems","render","_ctx","_cache","_withDirectives","_openBlock","_createElementBlock","$event","_renderSlot","_vModelText","VRVirtualGridList","VirtualGridList","_sfc_main","VRVirtualFallsList","VirtualFallsList"],"mappings":"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"}